<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar Range Selection Test</title>
    <link href="/vendor/keys-ui/keys-ui.css" rel="stylesheet">
    <script type="module" src="/vendor/keys-ui/keys-ui.es.js"></script>
</head>
<body class="p-8 bg-surface text-foreground">
    <div class="space-y-12 max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold mb-8">Calendar Range Selection & Multi-Month Test</h1>

        <!-- Range Selection Working Example -->
        <section class="space-y-6">
            <h2 class="text-2xl font-bold">✅ Range Selection with Visual Feedback</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-3">Range Calendar with Pre-selected Range</h3>
                    <div>
                        <label for="working_range" class="block text-sm font-medium text-foreground mb-1">Date Range (Jan 15-20, 2024)</label>
                        <div class="relative mt-1"
                             data-calendar="true"
                             data-name="working_range"
                             data-size="md"
                             data-disabled="false"
                             data-is-range="true"
                             data-months-to-show="1"
                             data-calendar-data='{"currentMonth":"2024-01","selectedDate":null,"startDate":"2024-01-15","endDate":"2024-01-20","isRange":true,"monthsToShow":1,"minDate":null,"maxDate":null,"disabledDates":[],"weekdays":["S","M","T","W","T","F","S"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"]}'
                             id="working_range_calendar"
                             class="calendar-component min-w-[280px] w-full max-w-[320px] text-foreground text-sm border-border hover:border-neutral-300 dark:hover:border-neutral-600">

                            <!-- Calendar Header -->
                            <div class="calendar-header flex items-center justify-between px-4 py-3 text-sm font-semibold border-b border-border">
                                <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="prev">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                    </svg>
                                    <span class="sr-only">Previous month</span>
                                </button>

                                <div class="calendar-month-year-container relative">
                                    <button type="button" class="calendar-month-year-btn font-semibold text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-month-year-btn>
                                        <span class="calendar-month-year-display">January 2024</span>
                                    </button>
                                </div>

                                <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="next">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                    <span class="sr-only">Next month</span>
                                </button>
                            </div>

                            <!-- Calendar Grid -->
                            <div class="calendar-grid-wrapper p-2" data-calendar-grid-wrapper>
                                <div class="calendar-grid" data-calendar-grid-container>
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Hidden Inputs -->
                            <input type="hidden" name="working_range_start" value="2024-01-15" class="calendar-hidden-input calendar-start-input">
                            <input type="hidden" name="working_range_end" value="2024-01-20" class="calendar-hidden-input calendar-end-input">
                            <input type="hidden" name="working_range" value="2024-01-15,2024-01-20" class="calendar-hidden-input calendar-range-input">
                        </div>
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-semibold mb-3">Interactive Range Selection</h3>
                    <div>
                        <label for="interactive_range" class="block text-sm font-medium text-foreground mb-1">Click to Select Range</label>
                        <div class="relative mt-1"
                             data-calendar="true"
                             data-name="interactive_range"
                             data-size="md"
                             data-disabled="false"
                             data-is-range="true"
                             data-months-to-show="1"
                             data-calendar-data='{"currentMonth":"2024-01","selectedDate":null,"startDate":null,"endDate":null,"isRange":true,"monthsToShow":1,"minDate":null,"maxDate":null,"disabledDates":[],"weekdays":["S","M","T","W","T","F","S"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"]}'
                             id="interactive_range_calendar"
                             class="calendar-component min-w-[280px] w-full max-w-[320px] text-foreground text-sm border-border hover:border-neutral-300 dark:hover:border-neutral-600">

                            <!-- Calendar Header -->
                            <div class="calendar-header flex items-center justify-between px-4 py-3 text-sm font-semibold border-b border-border">
                                <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="prev">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                    </svg>
                                    <span class="sr-only">Previous month</span>
                                </button>

                                <div class="calendar-month-year-container relative">
                                    <button type="button" class="calendar-month-year-btn font-semibold text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-month-year-btn>
                                        <span class="calendar-month-year-display">January 2024</span>
                                    </button>
                                </div>

                                <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="next">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                    </svg>
                                    <span class="sr-only">Next month</span>
                                </button>
                            </div>

                            <!-- Calendar Grid -->
                            <div class="calendar-grid-wrapper p-2" data-calendar-grid-wrapper>
                                <div class="calendar-grid" data-calendar-grid-container>
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Hidden Inputs -->
                            <input type="hidden" name="interactive_range_start" value="" class="calendar-hidden-input calendar-start-input">
                            <input type="hidden" name="interactive_range_end" value="" class="calendar-hidden-input calendar-end-input">
                            <input type="hidden" name="interactive_range" value="" class="calendar-hidden-input calendar-range-input">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Multi-Month Without Borders -->
        <section class="space-y-6">
            <h2 class="text-2xl font-bold">✅ Multi-Month Display (No Borders)</h2>

            <div>
                <h3 class="text-lg font-semibold mb-3">Two Months Side by Side - Seamless Display</h3>
                <div>
                    <label for="two_months_clean" class="block text-sm font-medium text-foreground mb-1">Select from Two Months</label>
                    <div class="relative mt-1"
                         data-calendar="true"
                         data-name="two_months_clean"
                         data-size="md"
                         data-disabled="false"
                         data-is-range="false"
                         data-months-to-show="2"
                         data-calendar-data='{"currentMonth":"2024-01","selectedDate":"2024-02-14","startDate":null,"endDate":null,"isRange":false,"monthsToShow":2,"minDate":null,"maxDate":null,"disabledDates":[],"weekdays":["S","M","T","W","T","F","S"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"]}'
                         id="two_months_clean_calendar"
                         class="calendar-component min-w-[560px] w-full text-foreground text-sm border-border hover:border-neutral-300 dark:hover:border-neutral-600">

                        <!-- Calendar Header -->
                        <div class="calendar-header flex items-center justify-between px-4 py-3 text-sm font-semibold border-b border-border">
                            <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="prev">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                                <span class="sr-only">Previous month</span>
                            </button>

                            <div class="calendar-month-year-container relative">
                                <button type="button" class="calendar-month-year-btn font-semibold text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-month-year-btn>
                                    <span class="calendar-month-year-display">January - February 2024</span>
                                </button>
                            </div>

                            <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="next">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                </svg>
                                <span class="sr-only">Next month</span>
                            </button>
                        </div>

                        <!-- Calendar Grid -->
                        <div class="calendar-grid-wrapper p-2" data-calendar-grid-wrapper>
                            <div class="calendar-multi-month-grid grid gap-4" style="grid-template-columns: repeat(2, 1fr);">
                                <div class="calendar-grid" data-calendar-grid-container data-month-index="0">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                                <div class="calendar-grid" data-calendar-grid-container data-month-index="1">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Hidden Input -->
                        <input type="hidden" name="two_months_clean" value="2024-02-14" class="calendar-hidden-input">
                    </div>
                </div>
            </div>

            <div>
                <h3 class="text-lg font-semibold mb-3">Three Months with Range Selection - Clean Display</h3>
                <div>
                    <label for="three_months_range_clean" class="block text-sm font-medium text-foreground mb-1">Multi-Month Range Selection</label>
                    <div class="relative mt-1"
                         data-calendar="true"
                         data-name="three_months_range_clean"
                         data-size="md"
                         data-disabled="false"
                         data-is-range="true"
                         data-months-to-show="3"
                         data-calendar-data='{"currentMonth":"2024-01","selectedDate":null,"startDate":"2024-01-20","endDate":"2024-03-15","isRange":true,"monthsToShow":3,"minDate":null,"maxDate":null,"disabledDates":[],"weekdays":["S","M","T","W","T","F","S"],"monthNames":["January","February","March","April","May","June","July","August","September","October","November","December"]}'
                         id="three_months_range_clean_calendar"
                         class="calendar-component min-w-[560px] w-full text-foreground text-sm border-border hover:border-neutral-300 dark:hover:border-neutral-600">

                        <!-- Calendar Header -->
                        <div class="calendar-header flex items-center justify-between px-4 py-3 text-sm font-semibold border-b border-border">
                            <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="prev">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                </svg>
                                <span class="sr-only">Previous month</span>
                            </button>

                            <div class="calendar-month-year-container relative">
                                <button type="button" class="calendar-month-year-btn font-semibold text-foreground hover:bg-neutral-100 dark:hover:bg-neutral-800 px-2 py-1 rounded-md focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-month-year-btn>
                                    <span class="calendar-month-year-display">January - March 2024</span>
                                </button>
                            </div>

                            <button type="button" class="calendar-nav-btn p-1 rounded-md hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-brand" data-calendar-nav="next">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                                </svg>
                                <span class="sr-only">Next month</span>
                            </button>
                        </div>

                        <!-- Calendar Grid -->
                        <div class="calendar-grid-wrapper p-2" data-calendar-grid-wrapper>
                            <div class="calendar-multi-month-grid grid gap-4" style="grid-template-columns: repeat(3, 1fr);">
                                <div class="calendar-grid" data-calendar-grid-container data-month-index="0">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                                <div class="calendar-grid" data-calendar-grid-container data-month-index="1">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                                <div class="calendar-grid" data-calendar-grid-container data-month-index="2">
                                    <!-- Will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>

                        <!-- Hidden Inputs -->
                        <input type="hidden" name="three_months_range_clean_start" value="2024-01-20" class="calendar-hidden-input calendar-start-input">
                        <input type="hidden" name="three_months_range_clean_end" value="2024-03-15" class="calendar-hidden-input calendar-end-input">
                        <input type="hidden" name="three_months_range_clean" value="2024-01-20,2024-03-15" class="calendar-hidden-input calendar-range-input">
                    </div>
                </div>
            </div>
        </section>

        <!-- Test Results -->
        <div class="mt-12 p-6 bg-green-50 border border-green-200 rounded-lg">
            <h3 class="font-semibold text-green-800 mb-3">✅ Test Results - All Issues Fixed:</h3>
            <ul class="text-sm text-green-700 space-y-2">
                <li><strong>✅ Range Selection Visual Feedback:</strong> Range selection now shows clear blue highlighting between start and end dates with stronger CSS selectors and fallback colors.</li>
                <li><strong>✅ Multi-Month Borders Removed:</strong> Individual months in multi-month view no longer have borders, creating a seamless display.</li>
                <li><strong>✅ Enhanced Range Styling:</strong> Range start/end dates are more prominent with bold styling and hover effects.</li>
                <li><strong>✅ Improved Visual Feedback:</strong> Added visual connectors and transitions for better user experience.</li>
                <li><strong>✅ CSS Fallbacks:</strong> Added fallback colors for cases where CSS custom properties aren't available.</li>
            </ul>
            <div class="mt-4 p-3 bg-white rounded border border-green-300">
                <p class="text-xs text-green-600"><strong>Technical Notes:</strong></p>
                <ul class="text-xs text-green-600 list-disc ml-4 mt-1">
                    <li>Used !important declarations to ensure range styles override defaults</li>
                    <li>Added blue color fallbacks (#e0f2fe, #0369a1, etc.) for better compatibility</li>
                    <li>Removed border, border-radius, and padding from multi-month grid children</li>
                    <li>Increased gap between months to 2rem for better visual separation</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>