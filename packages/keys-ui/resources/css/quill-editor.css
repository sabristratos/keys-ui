@layer components {
  .quill-editor {
    @apply focus-within:ring-2 focus-within:ring-brand focus-within:ring-offset-2 transition-all duration-200 overflow-hidden;
  }

  .quill-container {
    @apply border border-border bg-surface;
  }

  .quill-editor-xs { @apply rounded-sm; }
  .quill-editor-sm { @apply rounded-md; }
  .quill-editor-md { @apply rounded-md; }
  .quill-editor-lg { @apply rounded-lg; }
  .quill-editor-xl { @apply rounded-lg; }

  .quill-editor-disabled {
    @apply cursor-not-allowed opacity-50;
  }

  .quill-editor-disabled .quill-container {
    @apply pointer-events-none;
  }

  .quill-editor-disabled .ql-toolbar {
    @apply pointer-events-none;
  }

  .quill-editor-error .quill-container {
    @apply border-danger;
  }

  .quill-editor-error:has(:focus-visible) {
    @apply ring-danger;
  }

  .quill-editor-error .ql-toolbar {
    @apply border-b-danger;
  }

  .quill-editor-loading {
    @apply relative;
  }

  .quill-editor-loading .quill-container {
    @apply pointer-events-none;
  }

  .quill-editor-loading .ql-toolbar {
    @apply pointer-events-none;
  }

  .quill-editor-loading::after {
    @apply absolute inset-0 bg-surface/50 backdrop-blur-sm flex items-center justify-center;
    content: '';
    z-index: 10;
    border-radius: inherit;
  }

  .quill-editor-loading .loading-container {
    @apply absolute inset-0 flex items-center justify-center;
    z-index: 11;
  }

  .quill-editor .ql-toolbar {
    @apply bg-surface;
    border-top-left-radius: inherit;
    border-top-right-radius: inherit;
  }

  .quill-editor-xs .ql-toolbar { @apply p-1; }
  .quill-editor-sm .ql-toolbar { @apply p-2; }
  .quill-editor-md .ql-toolbar { @apply p-2; }
  .quill-editor-lg .ql-toolbar { @apply p-3; }
  .quill-editor-xl .ql-toolbar { @apply p-3; }

  @media (max-width: 768px) {
    .quill-editor-xs .ql-toolbar { @apply p-2; }
    .quill-editor-sm .ql-toolbar { @apply p-2.5; }
    .quill-editor-md .ql-toolbar { @apply p-3; }
    .quill-editor-lg .ql-toolbar { @apply p-3.5; }
    .quill-editor-xl .ql-toolbar { @apply p-4; }

    .quill-editor .ql-toolbar {
      @apply flex-wrap;
    }
  }

  @media (max-width: 480px) {
    .quill-editor-xs .ql-toolbar { @apply p-1.5; }
    .quill-editor-sm .ql-toolbar { @apply p-2; }
    .quill-editor-md .ql-toolbar { @apply p-2; }
    .quill-editor-lg .ql-toolbar { @apply p-2.5; }
    .quill-editor-xl .ql-toolbar { @apply p-3; }
  }

  .quill-editor .ql-container {
    @apply text-foreground bg-surface;
    border: none;
    font-family: inherit;
    border-bottom-left-radius: inherit;
    border-bottom-right-radius: inherit;
  }

  .quill-editor .ql-editor {
    @apply text-foreground bg-transparent;
    line-height: 1.6;
    min-height: inherit;
    border: none;
  }

  .quill-editor-xs .ql-editor { @apply p-2 text-xs; }
  .quill-editor-sm .ql-editor { @apply p-3 text-sm; }
  .quill-editor-md .ql-editor { @apply p-3 text-sm; }
  .quill-editor-lg .ql-editor { @apply p-4 text-base; }
  .quill-editor-xl .ql-editor { @apply p-4 text-lg; }

  @media (max-width: 768px) {
    .quill-editor-xs .ql-editor { @apply p-2.5 text-sm; }
    .quill-editor-sm .ql-editor { @apply p-3 text-sm; }
    .quill-editor-md .ql-editor { @apply p-3.5 text-base; }
    .quill-editor-lg .ql-editor { @apply p-4 text-base; }
    .quill-editor-xl .ql-editor { @apply p-4.5 text-lg; }

    .quill-editor .ql-editor {
      line-height: 1.7;
    }
  }

  @media (max-width: 480px) {
    .quill-editor-xs .ql-editor { @apply p-2 text-sm; }
    .quill-editor-sm .ql-editor { @apply p-2.5 text-sm; }
    .quill-editor-md .ql-editor { @apply p-3 text-base; }
    .quill-editor-lg .ql-editor { @apply p-3.5 text-base; }
    .quill-editor-xl .ql-editor { @apply p-4 text-lg; }
  }

  .ql-toolbar.ql-snow button {
    @apply inline-flex items-center justify-center rounded-sm bg-transparent text-foreground transition-all duration-200;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-1;
    padding: 0;
    border: none;
    margin: 0;
  }

  .ql-toolbar.ql-snow button:hover {
    @apply bg-muted/50;
  }

  .ql-toolbar.ql-snow button:active {
    background-color: var(--color-border);
  }

  .quill-editor-xs .ql-toolbar button { @apply w-5 h-5; }
  .quill-editor-sm .ql-toolbar button { @apply w-6 h-6; }
  .quill-editor-md .ql-toolbar button { @apply w-7 h-7; }
  .quill-editor-lg .ql-toolbar button { @apply w-8 h-8; }
  .quill-editor-xl .ql-toolbar button { @apply w-9 h-9; }

  @media (max-width: 768px) {
    .quill-editor-xs .ql-toolbar button { @apply w-7 h-7; }
    .quill-editor-sm .ql-toolbar button { @apply w-8 h-8; }
    .quill-editor-md .ql-toolbar button { @apply w-9 h-9; }
    .quill-editor-lg .ql-toolbar button { @apply w-10 h-10; }
    .quill-editor-xl .ql-toolbar button { @apply w-11 h-11; }

    .quill-editor .ql-toolbar button {
      min-width: 44px;
      min-height: 44px;
    }
  }

  .ql-toolbar.ql-snow button.ql-active {
    @apply bg-brand text-foreground-brand;
  }

  .ql-snow .ql-stroke {
    stroke: var(--color-foreground) !important;
    fill: none !important;
  }

  .ql-snow .ql-fill {
    fill: var(--color-foreground) !important;
  }

  .ql-snow .ql-stroke.ql-fill {
    fill: var(--color-foreground) !important;
  }

  .ql-toolbar.ql-snow button:hover .ql-stroke,
  .ql-snow .ql-toolbar button:hover .ql-stroke {
    stroke: var(--color-foreground) !important;
    fill: none !important;
  }

  .ql-toolbar.ql-snow button:hover .ql-fill,
  .ql-snow .ql-toolbar button:hover .ql-fill {
    fill: var(--color-foreground) !important;
  }

  .ql-toolbar.ql-snow button:hover .ql-stroke.ql-fill,
  .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill {
    fill: var(--color-foreground) !important;
  }

  .ql-toolbar.ql-snow button.ql-active .ql-stroke,
  .ql-snow .ql-toolbar button.ql-active .ql-stroke {
    stroke: var(--color-foreground-brand) !important;
    fill: none !important;
  }

  .ql-toolbar.ql-snow button.ql-active .ql-fill,
  .ql-snow .ql-toolbar button.ql-active .ql-fill {
    fill: var(--color-foreground-brand) !important;
  }

  .ql-toolbar.ql-snow button.ql-active .ql-stroke.ql-fill,
  .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill {
    fill: var(--color-foreground-brand) !important;
  }

  .quill-editor-xs .ql-toolbar button svg { @apply w-3 h-3; }
  .quill-editor-sm .ql-toolbar button svg { @apply w-3.5 h-3.5; }
  .quill-editor-md .ql-toolbar button svg { @apply w-4 h-4; }
  .quill-editor-lg .ql-toolbar button svg { @apply w-4 h-4; }
  .quill-editor-xl .ql-toolbar button svg { @apply w-5 h-5; }

  @media (max-width: 768px) {
    .quill-editor-xs .ql-toolbar button svg { @apply w-3.5 h-3.5; }
    .quill-editor-sm .ql-toolbar button svg { @apply w-4 h-4; }
    .quill-editor-md .ql-toolbar button svg { @apply w-4.5 h-4.5; }
    .quill-editor-lg .ql-toolbar button svg { @apply w-5 h-5; }
    .quill-editor-xl .ql-toolbar button svg { @apply w-5.5 h-5.5; }
  }

  .quill-editor .ql-toolbar .ql-formats {
    margin-right: 0;
  }

  .quill-editor-xs .ql-toolbar .ql-formats { @apply mr-1.5; }
  .quill-editor-sm .ql-toolbar .ql-formats { @apply mr-2; }
  .quill-editor-md .ql-toolbar .ql-formats { @apply mr-2; }
  .quill-editor-lg .ql-toolbar .ql-formats { @apply mr-3; }
  .quill-editor-xl .ql-toolbar .ql-formats { @apply mr-3; }

  .quill-editor .ql-toolbar .ql-formats:last-child {
    margin-right: 0;
  }

  @media (max-width: 768px) {
    .quill-editor-xs .ql-toolbar .ql-formats { @apply mr-2; }
    .quill-editor-sm .ql-toolbar .ql-formats { @apply mr-2.5; }
    .quill-editor-md .ql-toolbar .ql-formats { @apply mr-3; }
    .quill-editor-lg .ql-toolbar .ql-formats { @apply mr-3.5; }
    .quill-editor-xl .ql-toolbar .ql-formats { @apply mr-4; }

    .quill-editor .ql-toolbar .ql-formats {
      @apply mb-1;
    }
  }

  @media (max-width: 480px) {
    .quill-editor-xs .ql-toolbar .ql-formats { @apply mr-1.5; }
    .quill-editor-sm .ql-toolbar .ql-formats { @apply mr-2; }
    .quill-editor-md .ql-toolbar .ql-formats { @apply mr-2; }
    .quill-editor-lg .ql-toolbar .ql-formats { @apply mr-2.5; }
    .quill-editor-xl .ql-toolbar .ql-formats { @apply mr-3; }
  }

  .ql-snow .ql-picker {
    @apply text-foreground;
    position: relative;
    display: inline-block;
  }

  .ql-snow .ql-picker-label {
    @apply text-foreground border-none rounded-sm;
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    height: inherit;
    line-height: inherit;
    padding-right: 2px;
    position: relative;
  }

  .ql-snow .ql-picker-label:hover {
    @apply bg-muted/50 rounded-sm;
  }

  .quill-editor-xs .ql-toolbar .ql-picker-label { @apply px-1 text-xs h-5 min-h-5; }
  .quill-editor-sm .ql-toolbar .ql-picker-label { @apply px-1.5 text-sm h-6 min-h-6; }
  .quill-editor-md .ql-toolbar .ql-picker-label { @apply px-1.5 text-sm h-7 min-h-7; }
  .quill-editor-lg .ql-toolbar .ql-picker-label { @apply px-2 text-base h-8 min-h-8; }
  .quill-editor-xl .ql-toolbar .ql-picker-label { @apply px-2 text-lg h-9 min-h-9; }

  .quill-editor .ql-picker-label svg {
    width: 18px;
    height: 18px;
  }

  .quill-editor-xs .ql-picker-label svg {
    width: 14px;
    height: 14px;
  }

  .quill-editor-sm .ql-picker-label svg {
    width: 16px;
    height: 16px;
  }

  .quill-editor-md .ql-picker-label svg {
    width: 18px;
    height: 18px;
  }

  .quill-editor-lg .ql-picker-label svg {
    width: 20px;
    height: 20px;
  }

  .quill-editor-xl .ql-picker-label svg {
    width: 22px;
    height: 22px;
  }

  .ql-snow .ql-picker-options {
    @apply bg-surface border border-border rounded-md shadow-md text-foreground;
    display: none; /* Hidden by default */
    position: absolute;
    z-index: 1000;
    min-width: 130px;
    padding: 4px 0;
    margin-top: 2px;
  }

  .ql-snow .ql-picker.ql-expanded .ql-picker-options {
    display: block;
  }

  .ql-snow .ql-picker-item {
    @apply text-foreground;
    display: block;
    padding: 6px 12px;
    cursor: pointer;
    white-space: nowrap;
  }

  .ql-snow .ql-picker-item:hover {
    background-color: var(--color-muted);
  }

  .ql-snow .ql-picker-item.ql-selected {
    @apply bg-brand text-foreground-brand;
  }

  .ql-snow .ql-picker.ql-header .ql-picker-label::before,
  .ql-snow .ql-picker.ql-header .ql-picker-item::before {
    content: 'Normal';
  }

  .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,
  .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {
    content: 'Heading 1';
  }

  .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,
  .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {
    content: 'Heading 2';
  }

  .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,
  .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {
    content: 'Heading 3';
  }

  .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,
  .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {
    content: 'Heading 4';
  }

  .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,
  .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {
    content: 'Heading 5';
  }

  .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,
  .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {
    content: 'Heading 6';
  }

  .ql-snow .ql-picker.ql-size .ql-picker-label::before,
  .ql-snow .ql-picker.ql-size .ql-picker-item::before {
    content: 'Normal';
  }

  .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="small"]::before,
  .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="small"]::before {
    content: 'Small';
    font-size: 10px !important;
  }

  .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="large"]::before,
  .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="large"]::before {
    content: 'Large';
    font-size: 18px !important;
  }

  .ql-snow .ql-picker.ql-size .ql-picker-label[data-value="huge"]::before,
  .ql-snow .ql-picker.ql-size .ql-picker-item[data-value="huge"]::before {
    content: 'Huge';
    font-size: 32px !important;
  }

  .ql-snow .ql-picker.ql-font .ql-picker-label::before,
  .ql-snow .ql-picker.ql-font .ql-picker-item::before {
    content: 'Sans Serif';
  }

  .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="serif"]::before,
  .ql-snow .ql-picker.ql-font .ql-picker-item[data-value="serif"]::before {
    content: 'Serif';
    font-family: Georgia, Times New Roman, serif;
  }

  .ql-snow .ql-picker.ql-font .ql-picker-label[data-value="monospace"]::before,
  .ql-snow .ql-picker.ql-font .ql-picker-item[data-value="monospace"]::before {
    content: 'Monospace';
    font-family: Monaco, Courier New, monospace;
  }

  .quill-editor .ql-editor.ql-blank::before {
    content: attr(data-placeholder);
    color: light-dark(var(--color-neutral-500), var(--color-neutral-600));
    font-style: normal;
  }

  .quill-editor .ql-editor p {
    @apply text-foreground;
    margin: 0.5rem 0;
    font-size: inherit;
  }

  .quill-editor .ql-editor blockquote {
    @apply border-l-4 border-border pl-4 text-muted italic;
    margin: 1rem 0;
    font-size: inherit;
  }

  .quill-editor .ql-editor ul,
  .quill-editor .ql-editor ol {
    margin: 0.5rem 0;
    padding-left: 1.5rem;
    font-size: inherit;
  }

  .quill-editor .ql-editor li {
    @apply text-foreground;
    margin: 0.25rem 0;
    font-size: inherit;
  }

  .quill-editor .ql-editor a {
    @apply text-brand underline hover:opacity-80;
  }

  .quill-editor .ql-editor strong {
    @apply font-semibold;
  }

  .quill-editor .ql-editor em {
    @apply italic;
  }

  .quill-editor-xs .ql-editor h1 {
    @apply text-sm font-bold text-foreground;
    line-height: 1.3;
    margin: 0.75rem 0 0.25rem 0;
  }

  .quill-editor-xs .ql-editor h2 {
    @apply text-xs font-semibold text-foreground;
    line-height: 1.4;
    margin: 0.5rem 0 0.25rem 0;
  }

  .quill-editor-xs .ql-editor h3 {
    @apply text-xs font-medium text-foreground;
    line-height: 1.4;
    margin: 0.5rem 0 0.125rem 0;
  }

  .quill-editor-sm .ql-editor h1 {
    @apply text-lg font-bold text-foreground;
    line-height: 1.3;
    margin: 0.75rem 0 0.375rem 0;
  }

  .quill-editor-sm .ql-editor h2 {
    @apply text-base font-semibold text-foreground;
    line-height: 1.4;
    margin: 0.625rem 0 0.25rem 0;
  }

  .quill-editor-sm .ql-editor h3 {
    @apply text-sm font-semibold text-foreground;
    line-height: 1.4;
    margin: 0.5rem 0 0.25rem 0;
  }

  .quill-editor-md .ql-editor h1 {
    @apply text-xl font-bold text-foreground;
    line-height: 1.2;
    margin: 1rem 0 0.5rem 0;
  }

  .quill-editor-md .ql-editor h2 {
    @apply text-lg font-semibold text-foreground;
    line-height: 1.3;
    margin: 0.75rem 0 0.375rem 0;
  }

  .quill-editor-md .ql-editor h3 {
    @apply text-base font-semibold text-foreground;
    line-height: 1.4;
    margin: 0.625rem 0 0.25rem 0;
  }

  .quill-editor-lg .ql-editor h1 {
    @apply text-2xl font-bold text-foreground;
    line-height: 1.2;
    margin: 1.25rem 0 0.625rem 0;
  }

  .quill-editor-lg .ql-editor h2 {
    @apply text-xl font-semibold text-foreground;
    line-height: 1.3;
    margin: 1rem 0 0.5rem 0;
  }

  .quill-editor-lg .ql-editor h3 {
    @apply text-lg font-semibold text-foreground;
    line-height: 1.4;
    margin: 0.75rem 0 0.375rem 0;
  }

  .quill-editor-xl .ql-editor h1 {
    @apply text-3xl font-bold text-foreground;
    line-height: 1.2;
    margin: 1.5rem 0 0.75rem 0;
  }

  .quill-editor-xl .ql-editor h2 {
    @apply text-2xl font-semibold text-foreground;
    line-height: 1.3;
    margin: 1.25rem 0 0.625rem 0;
  }

  .quill-editor-xl .ql-editor h3 {
    @apply text-xl font-semibold text-foreground;
    line-height: 1.4;
    margin: 1rem 0 0.5rem 0;
  }

  @media (max-width: 768px) {
    .quill-editor-lg .ql-editor h1 { @apply text-xl; }
    .quill-editor-lg .ql-editor h2 { @apply text-lg; }
    .quill-editor-lg .ql-editor h3 { @apply text-base; }

    .quill-editor-xl .ql-editor h1 { @apply text-2xl; }
    .quill-editor-xl .ql-editor h2 { @apply text-xl; }
    .quill-editor-xl .ql-editor h3 { @apply text-lg; }
  }

  .ql-snow .ql-stroke.ql-thin {
    stroke: var(--color-foreground);
    opacity: 0.7;
  }

  .ql-snow .ql-tooltip {
    @apply bg-surface border border-border text-foreground shadow-lg;
    position: absolute;
    display: none;
  }

  .ql-snow .ql-tooltip.ql-editing {
    display: block;
  }

  .ql-snow .ql-tooltip.ql-hidden {
    display: none !important;
  }

  .ql-snow .ql-tooltip::before {
    @apply border-b-surface;
  }

  .ql-snow .ql-tooltip input[type=text] {
    @apply bg-input text-foreground border border-border;
  }

  .ql-snow .ql-tooltip input[type=text]:focus {
    @apply border-brand ring-1 ring-brand;
  }

  .ql-snow .ql-tooltip a.ql-preview {
    @apply text-brand;
  }

  .ql-snow .ql-tooltip a.ql-action::after,
  .ql-snow .ql-tooltip a.ql-remove::before {
    @apply text-foreground;
  }

  .quill-editor .ql-editor ::selection {
    @apply bg-brand/20;
  }

  .quill-editor .ql-editor pre.ql-syntax {
    @apply bg-border text-foreground;
  }

  .quill-editor .ql-editor blockquote {
    @apply border-l-border;
  }

  .quill-editor .ql-editor .ql-video,
  .quill-editor .ql-editor img {
    @apply border border-border;
  }

  .quill-editor .ql-editor a {
    @apply text-brand decoration-brand/30 hover:decoration-brand;
  }

  .quill-editor .ql-editor .ql-formula {
    @apply bg-border text-foreground;
  }

  .quill-editor .ql-clipboard {
    @apply bg-surface text-foreground;
  }

  .quill-editor.ql-snow .ql-tooltip[data-mode=link]::before {
    content: "Visit URL:";
  }

  .quill-editor.ql-snow .ql-tooltip[data-mode=formula]::before {
    content: "Enter formula:";
  }

  .quill-editor.ql-snow .ql-tooltip[data-mode=video]::before {
    content: "Enter video:";
  }

  .quill-editor .ql-toolbar button:focus-visible {
    @apply outline-none ring-2 ring-brand ring-offset-1 ring-offset-surface;
  }

  .quill-editor .ql-toolbar .ql-picker-label:focus-visible {
    @apply outline-none ring-2 ring-brand ring-offset-1 ring-offset-surface;
  }

  @media (prefers-color-scheme: dark) {
    .quill-editor .ql-toolbar {
      border-bottom-color: var(--color-border);
    }

    .quill-editor .ql-container {
      border-color: var(--color-border);
    }

    .quill-editor .ql-toolbar button:disabled {
      @apply opacity-40;
    }
  }

  .quill-editor-disabled .ql-toolbar button {
    @apply opacity-50 cursor-not-allowed;
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .quill-editor .ql-editor:focus-visible {
    @apply outline-none ring-2 ring-brand ring-offset-2 ring-offset-surface;
  }

  @media (prefers-contrast: high) {
    .quill-editor .ql-toolbar button {
      @apply border border-foreground;
    }

    .quill-editor .ql-toolbar button.ql-active {
      @apply bg-foreground text-surface;
    }

    .quill-editor .ql-container {
      @apply border-2 border-foreground;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .quill-editor .ql-toolbar button {
      transition: none;
    }

    .quill-editor {
      transition: none;
    }
  }

  .quill-editor .ql-toolbar {
    position: relative;
  }

  .quill-editor .ql-toolbar:has(:focus-visible) {
    @apply ring-2 ring-brand ring-offset-1 ring-offset-surface;
  }

  .quill-editor .ql-toolbar button:focus-visible {
    @apply ring-2 ring-brand ring-offset-1 ring-offset-surface;
    z-index: 1;
  }

  [data-quill-live-region] {
    position: absolute !important;
    left: -10000px !important;
    width: 1px !important;
    height: 1px !important;
    overflow: hidden !important;
  }

  .quill-editor .ql-bubble .ql-toolbar {
    display: none;
  }

  .quill-editor .ql-bubble .ql-tooltip {
    @apply bg-surface border border-border shadow-lg rounded-md;
    backdrop-filter: blur(8px);
    z-index: 1000;
  }

  .quill-editor .ql-bubble .ql-tooltip.ql-editing {
    @apply bg-surface border border-border;
  }

  .quill-editor .ql-bubble .ql-tooltip button {
    @apply inline-flex items-center justify-center text-foreground transition-all duration-200;
    @apply hover:bg-border active:bg-border/80;
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-brand focus-visible:ring-offset-1;
    background: transparent;
    border: none;
    padding: 0;
  }

  .quill-editor-xs .ql-bubble .ql-tooltip button { @apply w-5 h-5; }
  .quill-editor-sm .ql-bubble .ql-tooltip button { @apply w-6 h-6; }
  .quill-editor-md .ql-bubble .ql-tooltip button { @apply w-7 h-7; }
  .quill-editor-lg .ql-bubble .ql-tooltip button { @apply w-8 h-8; }
  .quill-editor-xl .ql-bubble .ql-tooltip button { @apply w-9 h-9; }

  .quill-editor .ql-bubble .ql-tooltip button svg {
    @apply fill-current;
  }

  .quill-editor-xs .ql-bubble .ql-tooltip button svg { @apply w-3 h-3; }
  .quill-editor-sm .ql-bubble .ql-tooltip button svg { @apply w-3.5 h-3.5; }
  .quill-editor-md .ql-bubble .ql-tooltip button svg { @apply w-4 h-4; }
  .quill-editor-lg .ql-bubble .ql-tooltip button svg { @apply w-4 h-4; }
  .quill-editor-xl .ql-bubble .ql-tooltip button svg { @apply w-5 h-5; }

  .quill-editor .ql-bubble .ql-tooltip button.ql-active {
    @apply bg-brand text-foreground-brand;
  }

  .quill-editor .ql-bubble .ql-tooltip input[type=text] {
    @apply bg-input text-foreground border border-border rounded-sm px-2 py-1;
  }

  .quill-editor .ql-bubble .ql-tooltip input[type=text]:focus {
    @apply border-brand ring-1 ring-brand outline-none;
  }

  .quill-editor .ql-bubble .ql-tooltip a.ql-preview {
    @apply text-brand hover:text-brand-hover;
  }

  .quill-editor .ql-bubble .ql-tooltip a.ql-action,
  .quill-editor .ql-bubble .ql-tooltip a.ql-remove {
    @apply text-foreground hover:text-brand;
  }

  .quill-editor .ql-bubble .ql-tooltip::before {
    @apply border-t-surface;
  }

  .quill-editor .ql-bubble .ql-picker {
    @apply text-foreground;
  }

  .quill-editor .ql-bubble .ql-picker-label {
    @apply text-foreground border-none;
  }

  .quill-editor .ql-bubble .ql-picker-options {
    @apply bg-surface border border-border rounded-md shadow-lg;
  }

  .quill-editor .ql-bubble .ql-picker-item {
    @apply text-foreground hover:bg-border;
  }

  .quill-editor .ql-bubble .ql-picker-item.ql-selected {
    @apply bg-brand text-foreground-brand;
  }

  @media (max-width: 768px) {
    .quill-editor-xs .ql-bubble .ql-tooltip button { @apply w-7 h-7; }
    .quill-editor-sm .ql-bubble .ql-tooltip button { @apply w-8 h-8; }
    .quill-editor-md .ql-bubble .ql-tooltip button { @apply w-9 h-9; }

    .quill-editor .ql-bubble .ql-tooltip {
      @apply p-2;
    }
  }

  @media (prefers-color-scheme: dark) {
    .quill-editor .ql-bubble .ql-tooltip {
      backdrop-filter: blur(12px);
      border-color: var(--color-border);
    }

    .quill-editor .ql-bubble .ql-tooltip::before {
      border-top-color: var(--color-surface);
    }
  }
}

@media print {
  .quill-editor .ql-toolbar,
  .quill-editor .ql-tooltip {
    display: none;
  }

  .quill-editor .ql-container {
    border: none;
    border-radius: 0;
  }

  [data-quill-live-region] {
    display: none !important;
  }
}