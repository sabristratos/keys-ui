(function(j,G){typeof exports=="object"&&typeof module<"u"?G(exports):typeof define=="function"&&define.amd?define(["exports"],G):(j=typeof globalThis<"u"?globalThis:j||self,G(j.KeysUI={}))})(this,function(j){"use strict";var G2=Object.defineProperty;var K2=(j,G,y)=>G in j?G2(j,G,{enumerable:!0,configurable:!0,writable:!0,value:y}):j[G]=y;var _=(j,G,y)=>K2(j,typeof G!="symbol"?G+"":G,y);var eo;const ri=class ri{constructor(){this.initialized=!1,this.stateManager=new Map}static getInstance(){const t=this.name;return ri.instances.has(t)||ri.instances.set(t,new this),ri.instances.get(t)}init(){var t,e,n;this.initialized||((t=this.onBeforeInit)==null||t.call(this),this.bindEventListeners(),this.initializeElements(),(e=this.setupDynamicObserver)==null||e.call(this),(n=this.onAfterInit)==null||n.call(this),this.initialized=!0)}destroy(){var t;(t=this.onDestroy)==null||t.call(this),this.stateManager.clear(),this.initialized=!1}getState(t){return this.stateManager.get(t)}setState(t,e){this.stateManager.set(t,e)}removeState(t){return this.stateManager.delete(t)}hasState(t){return this.stateManager.has(t)}clearAllStates(){this.stateManager.clear()}getAllStates(){return new Map(this.stateManager)}createDynamicObserver(t){const e=new MutationObserver(n=>{n.forEach(i=>{i.addedNodes.length>0&&t(i.addedNodes)})});return e.observe(document.body,{childList:!0,subtree:!0}),e}createResizeHandler(t,e=100){let n=null;return()=>{n&&clearTimeout(n),n=setTimeout(t,e)}}isInitialized(){return this.initialized}getStateCount(){return this.stateManager.size}};ri.instances=new Map;let G=ri;class y{static findClosest(t,e){return!t||!(t instanceof Element)?null:t.closest(e)||null}static findClosestWithData(t,e){return(t==null?void 0:t.closest(`[data-${e}]`))||null}static querySelector(t,e){return(e||document).querySelector(t)||null}static querySelectorAll(t,e){const n=e||document;return Array.from(n.querySelectorAll(t))}static findByDataAttribute(t,e,n){const i=e?`[data-${t}="${e}"]`:`[data-${t}]`;return this.querySelectorAll(i,n)}static findFirstByDataAttribute(t,e,n){const i=e?`[data-${t}="${e}"]`:`[data-${t}]`;return this.querySelector(i,n)}static hasDataAttribute(t,e,n){if(!t)return!1;const i=t.dataset[e];return n!==void 0?i===n:i!==void 0}static getDataAttribute(t,e){return t==null?void 0:t.dataset[e]}static setDataAttribute(t,e,n){t&&(t.dataset[e]=n)}static removeDataAttribute(t,e){t&&delete t.dataset[e]}static isDisabled(t){return t?t.hasAttribute("disabled")||t.dataset.disabled==="true"||t.getAttribute("aria-disabled")==="true":!0}static isHidden(t){return t?t.hidden||t.style.display==="none"||t.getAttribute("aria-hidden")==="true"||!t.offsetParent:!0}static findFormElement(t){return(t==null?void 0:t.querySelector("input, textarea"))||null}static findFormElementForAction(t){let e=this.findClosest(t,'[data-input-actions="true"]');if(e&&(e.tagName.toLowerCase()==="input"||e.tagName.toLowerCase()==="textarea"))return e;if(e=this.findClosest(t,'*:has(input[data-input-actions="true"]), *:has(textarea[data-input-actions="true"])'),e){const i=this.findFormElement(e);if(i)return i}let n=t.parentElement;for(;n;){const i=this.findFormElement(n);if(i)return i;n=n.parentElement}return null}static getElementById(t){return document.getElementById(t)||null}static matches(t,e){var n;return((n=t==null?void 0:t.matches)==null?void 0:n.call(t,e))??!1}static findChildren(t,e){return t?Array.from(t.children).filter(n=>this.matches(n,e)):[]}static getNextSibling(t,e){let n=t==null?void 0:t.nextElementSibling;for(;n;){if(!e||this.matches(n,e))return n;n=n.nextElementSibling}return null}static getPreviousSibling(t,e){let n=t==null?void 0:t.previousElementSibling;for(;n;){if(!e||this.matches(n,e))return n;n=n.previousElementSibling}return null}static addClass(t,e){t==null||t.classList.add(e)}static removeClass(t,e){t==null||t.classList.remove(e)}static toggleClass(t,e,n){return(t==null?void 0:t.classList.toggle(e,n))??!1}static hasClass(t,e){return(t==null?void 0:t.classList.contains(e))??!1}static removeClasses(t,e){t&&t.classList.remove(...e)}static addClasses(t,e){t&&t.classList.add(...e)}static toggleAttribute(t,e,n){t&&(n!==void 0?t.setAttribute(e,n):t.removeAttribute(e))}static getComputedStyle(t,e){return t?window.getComputedStyle(t).getPropertyValue(e):""}static isInViewport(t){if(!t)return!1;const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}static getElementOffset(t){if(!t)return{top:0,left:0};const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}}static focus(t,e){t&&(e?setTimeout(()=>t.focus(),e):t.focus())}static scrollIntoView(t,e){t&&t.scrollIntoView(e||{block:"nearest"})}static removeElement(t){t&&t.parentNode&&t.parentNode.removeChild(t)}static createElement(t,e){const n=document.createElement(t);return e!=null&&e.classes&&n.classList.add(...e.classes),e!=null&&e.attributes&&Object.entries(e.attributes).forEach(([i,s])=>{n.setAttribute(i,s)}),e!=null&&e.textContent&&(n.textContent=e.textContent),e!=null&&e.innerHTML&&(n.innerHTML=e.innerHTML),n}}class D{static dispatchCustomEvent(t,e,n,i){const s=new CustomEvent(e,{detail:n,bubbles:(i==null?void 0:i.bubbles)??!0,cancelable:(i==null?void 0:i.cancelable)??!0});return t.dispatchEvent(s)}static addEventListener(t,e,n,i){return t.addEventListener(e,n,i),()=>{t.removeEventListener(e,n,i)}}static handleDelegatedEvent(t,e,n,i){const s=i||document,a=o=>{const l=o.target;let c=null;l instanceof Element&&(c=l.closest(e)),c&&n(c,o)};return this.addEventListener(s,t,a)}static handleDelegatedClick(t,e,n){const i=n||document,s=a=>{const o=a,l=o.target;let c=null;l instanceof Element&&(c=l.closest(t)),c&&e(c,o)};return this.addEventListener(i,"click",s)}static handleDelegatedKeydown(t,e,n){const i=n||document,s=a=>{const o=a,l=o.target;let c=null;l instanceof Element&&(c=l.closest(t)),c&&e(c,o)};return this.addEventListener(i,"keydown",s)}static handleKeyPress(t,e,n){return i=>{t.includes(i.key)&&(n!=null&&n.preventDefault&&i.preventDefault(),n!=null&&n.stopPropagation&&i.stopPropagation(),e(i.key,i))}}static handleDelegatedInput(t,e,n){const i=n||document,s=a=>{const o=a,l=o.target;let c=null;l instanceof Element&&(c=l.closest(t)),c&&e(c,o)};return this.addEventListener(i,"input",s)}static handleDelegatedChange(t,e,n){const i=n||document,s=a=>{const o=a.target;let l=null;o instanceof Element&&(l=o.closest(t)),l&&e(l,a)};return this.addEventListener(i,"change",s)}static handleDelegatedFocus(t,e,n){const i=n||document,s=a=>{const o=a,l=o.target;let c=null;l instanceof Element&&(c=l.closest(t)),c&&e(c,o)};return this.addEventListener(i,"focusin",s)}static debounce(t,e){let n=null;return(...i)=>{n&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}static throttle(t,e){let n=!1;return(...i)=>{n||(t(...i),n=!0,setTimeout(()=>{n=!1},e))}}static handleResize(t,e=100){const n=this.debounce(t,e);return this.addEventListener(window,"resize",n)}static handleClickOutside(t,e){const n=i=>{const s=i,a=s.target;t.contains(a)||e(s)};return this.addEventListener(document,"click",n)}static handleEscape(t){const e=this.handleKeyPress(["Escape"],(n,i)=>t(i));return this.addEventListener(document,"keydown",n=>e(n))}static preventAndStop(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}static shouldHandleEvent(t){return!t.hasAttribute("disabled")&&t.dataset.disabled!=="true"&&t.getAttribute("aria-disabled")!=="true"&&t.offsetParent!==null}static handleFormSubmission(t,e,n){const i=s=>{const a=s;if(n&&!n(t)){s.preventDefault();return}const o=new FormData(t);e(o,a)};return this.addEventListener(t,"submit",i)}static createCleanupManager(){const t=[];return{add:e=>{t.push(e)},cleanup:()=>{t.forEach(e=>e()),t.length=0}}}static createNavigationHandler(t){return e=>{var s,a,o,l,c,u,h,f,p,m,b;const{key:n}=e,i=((s=t.preventDefault)==null?void 0:s.includes(n))??!0;switch(n){case"ArrowUp":i&&e.preventDefault(),(a=t.onArrowUp)==null||a.call(t);break;case"ArrowDown":i&&e.preventDefault(),(o=t.onArrowDown)==null||o.call(t);break;case"ArrowLeft":i&&e.preventDefault(),(l=t.onArrowLeft)==null||l.call(t);break;case"ArrowRight":i&&e.preventDefault(),(c=t.onArrowRight)==null||c.call(t);break;case"Enter":i&&e.preventDefault(),(u=t.onEnter)==null||u.call(t);break;case" ":i&&e.preventDefault(),(h=t.onSpace)==null||h.call(t);break;case"Escape":i&&e.preventDefault(),(f=t.onEscape)==null||f.call(t);break;case"Home":i&&e.preventDefault(),(p=t.onHome)==null||p.call(t);break;case"End":i&&e.preventDefault(),(m=t.onEnd)==null||m.call(t);break;case"Tab":(b=t.onTab)==null||b.call(t);break}}}}function td(r,t=""){const e=window.KeysUITranslations;if(!e)return t;const n=r.split(".");let i=e;for(const s of n)if(i=i==null?void 0:i[s],i===void 0)return t;return i||t}class Ss extends G{initializeElements(){}bindEventListeners(){D.handleDelegatedClick("[data-action] button",(t,e)=>{e.preventDefault(),this.handleActionClick(t)}),D.handleDelegatedKeydown("[data-action] button",(t,e)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.handleActionClick(t))})}async handleActionClick(t){const e=y.findClosest(t,"[data-action]"),n=e==null?void 0:e.dataset.action;if(!n)return;const i=y.findFormElementForAction(t);if(!i)return;const s=n==="password_toggle"?"toggle-password":n;switch(s){case"clear":this.clearValue(i);break;case"copy":await this.copyToClipboard(i,e);break;case"toggle-password":await this.togglePasswordVisibility(i,t,e);break;case"external":this.openExternalUrl(e.dataset.url);break;default:this.handleCustomAction(i,s);break}this.dispatchActionEvent(i,s)}async swapButtonIcon(t,e){t.setAttribute("data-current-icon",e),this.updateButtonIconState(t,e)}updateButtonIconState(t,e){const n=y.querySelector(".button-icon-default",t),i=y.querySelector(".button-icon-toggle",t),s=y.querySelector(".button-icon-success",t),a=t.dataset.iconDefault,o=t.dataset.iconToggle,l=t.dataset.iconSuccess;n&&(n.classList.remove("opacity-100"),n.classList.add("opacity-0")),i&&(i.classList.remove("opacity-100","scale-110","scale-90"),i.classList.add("opacity-0")),s&&(s.classList.remove("opacity-100","scale-110","scale-90"),s.classList.add("opacity-0")),e===a&&n?(n.classList.remove("opacity-0"),n.classList.add("opacity-100")):e===o&&i?(i.classList.remove("opacity-0"),i.classList.add("opacity-100")):e===l&&s&&(s.classList.remove("opacity-0"),s.classList.add("opacity-100","scale-110"))}animateIconSuccess(t){t.classList.add("scale-110"),setTimeout(()=>{t.classList.remove("scale-110"),t.classList.add("scale-90"),setTimeout(()=>{t.classList.remove("scale-90")},150)},150)}clearValue(t){t.value="",t.focus(),t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))}async copyToClipboard(t,e){const n=y.querySelector("button",e);try{await navigator.clipboard.writeText(t.value),this.showFeedback(t,td("feedback.copied_clipboard","Copied to clipboard"),"success"),n&&await this.showCopySuccess(n,e)}catch{this.fallbackCopyToClipboard(t,e)}}fallbackCopyToClipboard(t,e){const n=y.querySelector("button",e);t.select(),t instanceof HTMLInputElement&&t.setSelectionRange(0,99999);try{document.execCommand("copy"),this.showFeedback(t,td("feedback.copied_clipboard","Copied to clipboard"),"success"),n&&this.showCopySuccess(n,e)}catch{this.showFeedback(t,"Copy failed","error")}}async showCopySuccess(t,e){const n=t.dataset.iconSuccess,i=t.dataset.labelSuccess,s=t.dataset.iconDefault,a=y.querySelector(".sr-only",t);if(n&&s)if(await this.swapButtonIcon(t,n),i&&a){const o=a.textContent;a.textContent=i,setTimeout(async()=>{await this.swapButtonIcon(t,s),o&&a&&(a.textContent=o)},2e3)}else setTimeout(async()=>{await this.swapButtonIcon(t,s)},2e3)}async togglePasswordVisibility(t,e,n){var h;const i=t.type==="password",s=i?"text":"password",a=e.dataset.iconDefault,o=e.dataset.iconToggle,l=(h=y.querySelector(".sr-only",e))==null?void 0:h.textContent,c=e.dataset.labelToggle;t.type=s;const u=y.querySelector(".sr-only",e);i?(o&&await this.swapButtonIcon(e,o),c&&u&&(u.textContent=c),e.setAttribute("aria-label",c||"Hide password")):(a&&await this.swapButtonIcon(e,a),l&&u&&(u.textContent=l),e.setAttribute("aria-label",l||"Show password"))}openExternalUrl(t){if(t)try{window.open(t,"_blank","noopener,noreferrer")}catch(e){console.error("Failed to open external URL:",e)}}handleCustomAction(t,e){}dispatchActionEvent(t,e){D.dispatchCustomEvent(t,"form-action",{element:t,action:e,value:t.value})}showFeedback(t,e,n="success"){const i=document.createElement("div");i.className=`absolute top-full left-0 mt-1 px-2 py-1 text-xs rounded shadow-lg z-10 pointer-events-none ${n==="success"?"bg-success text-foreground-success":"bg-danger text-foreground-danger"}`,i.textContent=e;const s=y.findClosest(t,".relative");s&&(s.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},2e3))}addActionHandler(t,e){return D.addEventListener(document,"form-action",n=>{const i=n;i.detail.action===t&&e(i.detail.element)})}onDestroy(){}}Ss.getInstance();class As extends G{initializeElements(){this.initializeAutoResize(),this.initializeCharacterCounts()}bindEventListeners(){D.handleDelegatedEvent("input",'textarea[data-auto-resize="true"]',t=>{this.handleAutoResize(t)}),D.handleDelegatedEvent("input",'textarea[data-show-character-count="true"]',t=>{this.updateCharacterCount(t)}),D.handleDelegatedEvent("paste",'textarea[data-show-character-count="true"]',t=>{setTimeout(()=>{this.updateCharacterCount(t)},0)}),D.handleDelegatedEvent("cut",'textarea[data-show-character-count="true"]',t=>{setTimeout(()=>{this.updateCharacterCount(t)},0)})}initializeAutoResize(){y.querySelectorAll('textarea[data-auto-resize="true"]').forEach(e=>{this.setupAutoResize(e)})}initializeCharacterCounts(){y.querySelectorAll('textarea[data-show-character-count="true"]').forEach(e=>{this.updateCharacterCount(e)})}setupAutoResize(t){const e=parseInt(t.getAttribute("rows")||"3"),n=this.getLineHeight(t),i=this.getVerticalPadding(t),s=e*n+i;t.style.minHeight=`${s}px`,t.style.resize="none",t.style.overflow="hidden",this.handleAutoResize(t)}handleAutoResize(t){t.style.height="auto";const e=t.scrollHeight,n=parseInt(t.style.minHeight||"0"),i=Math.max(e,n);t.style.height=`${i}px`,this.dispatchResizeEvent(t,i)}updateCharacterCount(t){const e=t.id||t.name;if(!e)return;const n=y.querySelector(`[data-character-count][data-target-id="${e}"]`);if(!n)return;const i=t.value.length,s=parseInt(n.dataset.maxLength||"0")||null,a=y.querySelector("[data-current-count]",n);a&&(a.textContent=i.toString()),this.applyCharacterCountFeedback(n,t,i,s),this.dispatchCharacterCountEvent(t,i,s)}applyCharacterCountFeedback(t,e,n,i){if(!i)return;t.classList.remove("text-muted","text-warning","text-danger"),e.classList.remove("border-warning","border-danger","focus:border-warning","focus:border-danger","focus:ring-warning","focus:ring-danger");const s=n/i*100;n>i?(t.classList.add("text-danger"),e.classList.add("border-danger","focus:border-danger","focus:ring-danger")):s>=90?(t.classList.add("text-warning"),e.classList.add("border-warning","focus:border-warning","focus:ring-warning")):t.classList.add("text-muted")}getLineHeight(t){const e=window.getComputedStyle(t),n=e.lineHeight;return n==="normal"?parseFloat(e.fontSize)*1.2:parseFloat(n)}getVerticalPadding(t){const e=window.getComputedStyle(t),n=parseFloat(e.paddingTop),i=parseFloat(e.paddingBottom),s=parseFloat(e.borderTopWidth),a=parseFloat(e.borderBottomWidth);return n+i+s+a}dispatchResizeEvent(t,e){D.dispatchCustomEvent(t,"textarea-resize",{element:t,height:e})}dispatchCharacterCountEvent(t,e,n){D.dispatchCustomEvent(t,"textarea-character-count",{element:t,currentLength:e,maxLength:n||void 0})}addResizeHandler(t){return D.addEventListener(document,"textarea-resize",e=>{const n=e;t(n.detail.element,n.detail.height)})}addCharacterCountHandler(t){return D.addEventListener(document,"textarea-character-count",e=>{t(e.detail)})}onDestroy(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)}triggerAutoResize(t){t.dataset.autoResize==="true"&&this.handleAutoResize(t)}triggerCharacterCountUpdate(t){t.dataset.showCharacterCount==="true"&&this.updateCharacterCount(t)}}As.getInstance();class Es extends G{initializeElements(){}bindEventListeners(){D.handleDelegatedClick("[data-dismiss-alert]",(t,e)=>{e.preventDefault(),this.handleDismissClick(t)}),D.handleDelegatedKeydown("[data-dismiss-alert]",(t,e)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.handleDismissClick(t))})}handleDismissClick(t){const e=this.findAlertForButton(t);e&&(this.dismissAlert(e),this.dispatchAlertEvent(e,"dismiss"))}findAlertForButton(t){return y.findClosest(t,'[data-dismissible="true"]')}dismissAlert(t){t.classList.add("alert-dismissing"),AnimationUtils.slideOut(t,"right",{duration:300,easing:"ease-out",distance:100}),AnimationUtils.collapseHeight(t,{toHeight:0,duration:300,easing:"ease-out",onComplete:()=>{t.parentNode&&t.parentNode.removeChild(t)}})}showAlert(t){t.style.display="block",AnimationUtils.slideIn(t,"right",{duration:300,easing:"ease-out",distance:100,onComplete:()=>{this.dispatchAlertEvent(t,"show")}})}createAlert(t){const{variant:e="info",title:n,message:i,dismissible:s=!0,duration:a,container:o=document.body}=t,l=document.createElement("div");l.className=this.getAlertClasses(e),l.setAttribute("role","alert"),s&&l.setAttribute("data-dismissible","true");const c=this.buildAlertContent(e,n,i,s);return l.innerHTML=c,o.appendChild(l),l.style.opacity="0",l.style.transform="translateX(100%)",setTimeout(()=>{this.showAlert(l)},10),a&&a>0&&AnimationUtils.createTimer(()=>{this.dismissAlert(l)},a),this.dispatchAlertEvent(l,"create"),l}getAlertClasses(t){const e="rounded-lg border p-4 space-y-3",n={info:"bg-info/5 border-info/20 text-info-foreground",success:"bg-success/5 border-success/20 text-success-foreground",warning:"bg-warning/5 border-warning/20 text-warning-foreground",danger:"bg-danger/5 border-danger/20 text-danger-foreground",neutral:"bg-neutral/5 border-neutral/20 text-neutral-foreground"};return`${e} ${n[t]||n.info}`}buildAlertContent(t,e,n,i){const s=this.getVariantIcon(t),a=this.getVariantIconColor(t);return`
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="w-5 h-5 ${a}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        ${this.getIconSvg(s)}
                    </svg>
                </div>
                <div class="ml-3 flex-1">
                    ${e?`<div class="text-base font-medium">${e}</div>`:""}
                    <div class="text-sm opacity-90 ${e?"mt-1":""}">${n||""}</div>
                </div>
                ${i?`
                    <div class="ml-auto pl-3">
                        <button type="button" data-dismiss-alert class="inline-flex rounded-md p-1 ${a} hover:bg-current hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-current" aria-label="Dismiss">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                `:""}
            </div>
        `}getVariantIcon(t){const e={info:"information-circle",success:"check-circle",warning:"exclamation-triangle",danger:"x-circle",neutral:"chat-bubble-left-ellipsis"};return e[t]||e.info}getVariantIconColor(t){const e={info:"text-info",success:"text-success",warning:"text-warning",danger:"text-danger",neutral:"text-neutral"};return e[t]||e.info}getIconSvg(t){const e={"information-circle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>',"check-circle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>',"exclamation-triangle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path>',"x-circle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>',"chat-bubble-left-ellipsis":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>'};return e[t]||e["information-circle"]}dispatchAlertEvent(t,e){D.dispatchCustomEvent(t,"alert-action",{alert:t,action:e}),D.dispatchCustomEvent(document.body,"alert-action",{alert:t,action:e})}addActionHandler(t,e){return D.addEventListener(document,"alert-action",n=>{const i=n;i.detail.action===t&&e(i.detail.alert)})}dismissAllByVariant(t){y.querySelectorAll(`[data-dismissible="true"][class*="${t}"]`).forEach(n=>{this.dismissAlert(n)})}dismissAll(){y.querySelectorAll('[data-dismissible="true"]').forEach(e=>{this.dismissAlert(e)})}onDestroy(){}}Es.getInstance();class Lo extends G{constructor(){super(...arguments),this.failedUrls=new Set,this.MAX_RETRIES=2,this.RETRY_DELAY=1e3}bindEventListeners(){}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;n.hasAttribute("data-keys-avatar")&&this.initializeAvatar(n),n.querySelectorAll('[data-keys-avatar="true"]').forEach(s=>{this.initializeAvatar(s)})}})})}initializeElements(){y.querySelectorAll('[data-keys-avatar="true"]').forEach(e=>{this.initializeAvatar(e)})}initializeAvatar(t){const e=t.querySelector("img"),n=t.querySelector('[data-avatar-fallback="true"]');if(!e)return;const i=t.getAttribute("data-fallback-type")||"icon",s={element:t,img:e,fallbackContainer:n,hasInitials:i==="initials",hasIcon:i==="icon",retryCount:0,maxRetries:this.MAX_RETRIES,isLoading:!1,hasFailed:!1};this.setState(t,s),this.setupImageErrorHandling(s),e.complete&&!e.naturalWidth&&this.handleImageError(s)}setupImageErrorHandling(t){t.img&&(D.addEventListener(t.img,"error",()=>{this.handleImageError(t)}),D.addEventListener(t.img,"load",()=>{this.handleImageLoad(t)}),t.img.loading==="lazy"&&this.setupLazyLoadingSupport(t))}handleImageError(t){if(!t.img||t.hasFailed)return;const e=t.img.src;if(this.failedUrls.add(e),t.retryCount<t.maxRetries&&!this.failedUrls.has(e)){this.retryImageLoad(t);return}t.hasFailed=!0,this.showFallback(t)}handleImageLoad(t){if(!t.img)return;const e=t.img.src;this.failedUrls.delete(e),t.hasFailed=!1,t.retryCount=0,t.isLoading=!1,this.showImage(t)}retryImageLoad(t){!t.img||t.retryCount>=t.maxRetries||(t.retryCount++,t.isLoading=!0,t.element.setAttribute("data-avatar-loading","true"),setTimeout(()=>{if(!t.img||t.hasFailed)return;const e=t.img.src;t.img.src="",requestAnimationFrame(()=>{t.img&&(t.img.src=e)})},this.RETRY_DELAY*t.retryCount))}showFallback(t){t.img&&(t.img.style.display="none",t.fallbackContainer&&(t.fallbackContainer.style.display="block"),t.element.setAttribute("data-avatar-fallback-active","true"),t.element.removeAttribute("data-avatar-image-active"),t.element.removeAttribute("data-avatar-loading"),this.updateAccessibility(t,"fallback"),this.dispatchAvatarEvent(t.element,"fallback",{hasInitials:t.hasInitials,hasIcon:t.hasIcon}))}showImage(t){t.img&&(t.img.style.display="block",t.fallbackContainer&&(t.fallbackContainer.style.display="none"),t.element.setAttribute("data-avatar-image-active","true"),t.element.removeAttribute("data-avatar-fallback-active"),t.element.removeAttribute("data-avatar-loading"),this.updateAccessibility(t,"image"),this.dispatchAvatarEvent(t.element,"imageLoad",{src:t.img.src}))}setupLazyLoadingSupport(t){if(!t.img||!("IntersectionObserver"in window))return;const e=new IntersectionObserver(n=>{n.forEach(i=>{i.isIntersecting&&e.unobserve(i.target)})},{rootMargin:"50px"});e.observe(t.img)}updateAccessibility(t,e){var s;const n=t.element.getAttribute("data-avatar-name"),i=(s=t.img)==null?void 0:s.getAttribute("alt");if(e==="fallback"){const a=t.hasInitials&&n?`Initials for ${n}`:"Avatar placeholder";t.element.setAttribute("aria-label",a)}else e==="image"&&i&&t.element.setAttribute("aria-label",i)}dispatchAvatarEvent(t,e,n={}){const i=new CustomEvent(`avatar:${e}`,{detail:{element:t,...n},bubbles:!0});t.dispatchEvent(i)}triggerFallback(t){const e=this.getState(t);e&&!e.hasFailed&&this.handleImageError(e)}retryAvatar(t){const e=this.getState(t);e&&e.hasFailed&&e.img&&(e.hasFailed=!1,e.retryCount=0,this.handleImageLoad(e))}hasAvatarFailed(t){const e=this.getState(t);return e?e.hasFailed:!1}clearFailedUrlsCache(){this.failedUrls.clear()}}class Cs extends G{initializeElements(){}bindEventListeners(){D.handleDelegatedClick("[data-dismiss-target]",(t,e)=>{e.preventDefault(),this.handleDismissClick(t)}),D.handleDelegatedKeydown("[data-dismiss-target]",(t,e)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.handleDismissClick(t))})}handleDismissClick(t){const e=this.findBadgeForButton(t);e&&(this.dismissBadge(e),this.dispatchBadgeEvent(e,"dismiss"))}findBadgeForButton(t){const e=t.getAttribute("data-dismiss-target");if(!e)return null;const n=e.startsWith("#")?e.slice(1):e;return y.querySelector(`#${n}`)}dismissBadge(t){t.classList.add("badge-dismissing"),t.style.transition="all 250ms ease-out",t.style.transform="scale(0.8)",t.style.opacity="0",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},250)}showBadge(t){t.style.display="inline-flex",t.style.opacity="0",t.style.transform="scale(0.8)",setTimeout(()=>{t.style.transition="all 250ms ease-out",t.style.opacity="1",t.style.transform="scale(1)",this.dispatchBadgeEvent(t,"show")},10)}createBadge(t){const{variant:e="simple",color:n="blue",size:i="sm",text:s,icon:a,dismissible:o=!1,container:l=document.body}=t,c=document.createElement(o?"button":"span"),u=o?`badge-${Date.now()}-${Math.random().toString(36).substr(2,9)}`:void 0;c.className=this.getBadgeClasses(e,n,i),u&&(c.id=u),o&&(c.setAttribute("type","button"),c.setAttribute("data-dismiss-target",`#${u}`),c.setAttribute("aria-label","Remove badge"));const h=this.buildBadgeContent(s,a,o);return c.innerHTML=h,l.appendChild(c),c.style.opacity="0",c.style.transform="scale(0.8)",setTimeout(()=>{this.showBadge(c)},10),this.dispatchBadgeEvent(c,"create"),c}getBadgeClasses(t,e,n){const i="inline-flex items-center font-medium",s={xs:"px-1.5 py-0.5 text-xs",sm:"px-2.5 py-0.5 text-xs",md:"px-3 py-1 text-sm"},a={simple:"rounded-full",chip:"rounded-sm",subtle:""},o=this.getColorClasses(t,e);return`${i} ${s[n]||s.sm} ${a[t]||a.simple} ${o}`}getColorClasses(t,e){if(t==="subtle"){const i={brand:"text-brand",success:"text-success",warning:"text-warning",danger:"text-danger",neutral:"text-neutral",blue:"text-blue-600",green:"text-green-600",red:"text-red-600",purple:"text-purple-600",yellow:"text-yellow-600"};return i[e]||i.blue}const n={brand:"bg-brand/10 text-brand",success:"bg-success/10 text-success",warning:"bg-warning/10 text-warning",danger:"bg-danger/10 text-danger",neutral:"bg-neutral/10 text-neutral",blue:"bg-blue-500/10 text-blue-600",green:"bg-green-500/10 text-green-600",red:"bg-red-500/10 text-red-600",purple:"bg-purple-500/10 text-purple-600",yellow:"bg-yellow-500/10 text-yellow-600"};return n[e]||n.blue}buildBadgeContent(t,e,n){let i="";return e&&(i+=`<svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <!-- Icon would be rendered here -->
            </svg>`),i+=t,n&&(i+=`<svg class="w-3 h-3 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>`),i}dispatchBadgeEvent(t,e){D.dispatchCustomEvent(t,"badge-action",{badge:t,action:e}),D.dispatchCustomEvent(document.body,"badge-action",{badge:t,action:e})}addActionHandler(t,e){return D.addEventListener(document,"badge-action",n=>{const i=n;i.detail.action===t&&e(i.detail.badge)})}dismissAllByColor(t){y.querySelectorAll(`[data-dismissible="true"][class*="${t}"]`).forEach(n=>{this.dismissBadge(n)})}dismissAll(){y.querySelectorAll("[data-dismiss-target]").forEach(e=>{const n=this.findBadgeForButton(e);n&&this.dismissBadge(n)})}onDestroy(){}}Cs.getInstance();class Ts extends G{constructor(){super(...arguments),this.buttonStates=new Map}initializeElements(){y.querySelectorAll('[data-multi-state="true"]').forEach(e=>{this.initializeButton(e)})}initializeButton(t){this.buttonStates.set(t,{current:"default",cycling:!1,element:t}),this.updateIconState(t,"default")}bindEventListeners(){D.handleDelegatedClick('[data-multi-state="true"]',(t,e)=>{e.preventDefault(),this.handleButtonClick(t)}),D.handleDelegatedKeydown('[data-multi-state="true"]',(t,e)=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),this.handleButtonClick(t))})}async handleButtonClick(t){const e=this.buttonStates.get(t);if(!e||e.cycling)return;const n=this.getNextState(e.current,t);e.cycling=!0,await this.transitionToState(t,n),e.current=n,e.cycling=!1,n==="success"&&setTimeout(async()=>{e.current==="success"&&(e.cycling=!0,await this.transitionToState(t,"default"),e.current="default",e.cycling=!1)},2e3),this.dispatchButtonEvent(t,n)}getNextState(t,e){const n=e.dataset.iconToggle,i=e.dataset.iconSuccess;switch(t){case"default":return n?"toggle":i?"success":"default";case"toggle":return i?"success":"default";case"success":default:return"default"}}async transitionToState(t,e){this.updateIconState(t,e),this.updateButtonLabel(t,e),e==="success"&&this.animateSuccessFeedback(t)}updateIconState(t,e){const n=y.querySelector(".button-icon-default",t),i=y.querySelector(".button-icon-toggle",t),s=y.querySelector(".button-icon-success",t);[n,i,s].forEach(o=>{o&&(o.classList.remove("opacity-100","scale-110"),o.classList.add("opacity-0"))});let a=null;switch(e){case"default":a=n;break;case"toggle":a=i;break;case"success":a=s,a&&a.classList.add("scale-110");break}a&&(a.classList.remove("opacity-0"),a.classList.add("opacity-100"))}updateButtonLabel(t,e){const n=y.querySelector(".sr-only",t);let i=null,s=null;switch(e){case"default":const a=this.getOriginalLabel(t);i=a,s=a;break;case"toggle":i=t.dataset.labelToggle||null,s=t.dataset.labelToggle||null;break;case"success":i=t.dataset.labelSuccess||null,s=t.dataset.labelSuccess||null;break}i&&n&&(n.textContent=i),s&&t.setAttribute("aria-label",s),e==="toggle"?t.setAttribute("aria-pressed","true"):t.removeAttribute("aria-pressed")}getOriginalLabel(t){var n;if(t.dataset.originalLabel)return t.dataset.originalLabel;const e=(n=t.textContent)==null?void 0:n.trim();return e?(t.dataset.originalLabel=e,e):t.getAttribute("aria-label")||"Button"}animateSuccessFeedback(t){t.classList.add("scale-105"),setTimeout(()=>{t.classList.remove("scale-105")},200)}dispatchButtonEvent(t,e){D.dispatchCustomEvent(t,"button-state-change",{element:t,state:e,timestamp:Date.now()})}setButtonState(t,e){const n=this.buttonStates.get(t);n||this.initializeButton(t),this.transitionToState(t,e),n&&(n.current=e)}getButtonState(t){const e=this.buttonStates.get(t);return e?e.current:"default"}addStateChangeHandler(t){return D.addEventListener(document,"button-state-change",e=>{const n=e;t(n.detail.element,n.detail.state)})}onDestroy(){this.buttonStates.clear()}}Ts.getInstance();class qe{static selectDate(t,e,n,i){n.isDisabled||(n.isRange?this.handleRangeSelection(t,e,n,i):i({selectedDate:e,focusedDate:e}))}static handleRangeSelection(t,e,n,i){const s=new Date(e);if(!n.startDate||n.rangeSelectionState==="none"){i({startDate:e,endDate:null,focusedDate:e,rangeSelectionState:"selecting-end"});return}if(n.startDate&&!n.endDate){const a=new Date(n.startDate);s<a?i({startDate:e,endDate:null,focusedDate:e,rangeSelectionState:"selecting-end"}):s.getTime()===a.getTime()?i({startDate:null,endDate:null,focusedDate:e,rangeSelectionState:"none"}):i({endDate:e,focusedDate:e,rangeSelectionState:"none"});return}i({startDate:e,endDate:null,focusedDate:e,rangeSelectionState:"selecting-end"})}static clearSelection(t,e,n){e.isRange?n({startDate:null,endDate:null,rangeSelectionState:"none"}):n({selectedDate:null})}static selectToday(t,e,n){const i=this.getTodayDate();e.isRange?n({startDate:i,endDate:i,focusedDate:i,rangeSelectionState:"none"}):n({selectedDate:i,focusedDate:i})}static formatRangeForDisplay(t,e){return!t&&!e?"":t&&e?`${t},${e}`:t?`${t},`:""}static isDateInRange(t,e,n){if(!e||!n)return!1;const i=new Date(t),s=new Date(e),a=new Date(n);return i>=s&&i<=a}static isDateRangeStart(t,e){return e===t}static isDateRangeEnd(t,e){return e===t}static getRangeAttributes(t,e){if(!e.isRange)return"";const n=[];return t.isInRange&&n.push('data-is-in-range="true"'),t.isRangeStart&&n.push('data-is-range-start="true"'),t.isRangeEnd&&n.push('data-is-range-end="true"'),n.join(" ")}static getTodayDate(){const t=new Date;return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}static isToday(t){return t===this.getTodayDate()}}class Gm{static generateCalendarGrid(t,e,n=0){const i=this.addMonthsToDate(e.currentMonth+"-01",n),s=parseInt(i.substring(0,4)),a=parseInt(i.substring(5,7))-1,o=new Date(s,a,1),l=new Date(o);l.setDate(l.getDate()-o.getDay());const c=[];let u=[];for(let h=0;h<42;h++){const f=new Date(l);f.setDate(l.getDate()+h);const p=this.formatDateString(f),m=f.getMonth()===a,b=qe.isToday(p),w=e.selectedDate===p,v=this.isDateDisabled(t,f,e),k=e.isRange?qe.isDateInRange(p,e.startDate,e.endDate):!1,A=e.isRange?qe.isDateRangeStart(p,e.startDate):!1,E=e.isRange?qe.isDateRangeEnd(p,e.endDate):!1,T={date:p,day:f.getDate(),isCurrentMonth:m,isToday:b,isSelected:w,isDisabled:v,isInRange:k,isRangeStart:A,isRangeEnd:E};u.push(T),u.length===7&&(c.push(u),u=[])}return c}static renderCalendarGrid(t,e){e.monthsToShow>1?this.renderMultipleMonths(t,e):this.renderSingleMonth(t,e)}static renderSingleMonth(t,e){const n=t.querySelector("[data-calendar-grid-container]");if(!n)return;const i=this.generateCalendarGrid(t,e),s=this.getCellClasses(t),a=e.weekdays.map(c=>`<div class="${s} font-semibold text-muted text-center">${c}</div>`).join(""),o=i.map(c=>c.map(u=>{const h=this.getDayButtonClasses(u,t,e),f=qe.getRangeAttributes(u,e),p=this.getDateAriaLabel(u,e);return`
                    <div class="calendar-day ${s}">
                        <button
                            type="button"
                            class="${h}"
                            data-date="${u.date}"
                            data-calendar-day-btn
                            ${u.isDisabled?"disabled":""}
                            ${f}
                            aria-label="${p}"
                            tabindex="${u.date===e.focusedDate?"0":"-1"}"
                        >
                            ${u.day}
                        </button>
                    </div>
                `}).join("")).join(""),l=`
            <div class="calendar-weekdays-grid grid grid-cols-7 gap-0">
                ${a}
            </div>
            <div class="calendar-days-grid grid grid-cols-7 gap-0">
                ${o}
            </div>
        `;n.innerHTML=l}static renderMultipleMonths(t,e){t.querySelectorAll("[data-calendar-grid-container]").forEach((i,s)=>{if(s>=e.monthsToShow)return;const a=this.generateCalendarGrid(t,e,s),o=this.getCellClasses(t),l=this.addMonthsToDate(e.currentMonth+"-01",s),c=e.monthNames[parseInt(l.substring(5,7))-1],u=l.substring(0,4),h=`
                <div class="calendar-month-header text-center font-semibold text-sm mb-2 text-muted">
                    ${c} ${u}
                </div>
            `,f=e.weekdays.map(b=>`<div class="${o} font-semibold text-muted text-center text-xs">${b}</div>`).join(""),p=a.map(b=>b.map(w=>{const v=this.getDayButtonClasses(w,t,e),k=qe.getRangeAttributes(w,e),A=this.getDateAriaLabel(w,e);return`
                        <div class="calendar-day ${o}">
                            <button
                                type="button"
                                class="${v}"
                                data-date="${w.date}"
                                data-calendar-day-btn
                                data-month-index="${s}"
                                ${w.isDisabled?"disabled":""}
                                ${k}
                                aria-label="${A}"
                                tabindex="${w.date===e.focusedDate?"0":"-1"}"
                            >
                                ${w.day}
                            </button>
                        </div>
                    `}).join("")).join(""),m=`
                ${h}
                <div class="calendar-weekdays-grid grid grid-cols-7 gap-0 mb-1">
                    ${f}
                </div>
                <div class="calendar-days-grid grid grid-cols-7 gap-0">
                    ${p}
                </div>
            `;i.innerHTML=m})}static getCellClasses(t){const e=t.dataset.size||"md";return{sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base"}[e]||"w-10 h-10 text-sm"}static getDayButtonClasses(t,e,n){const i=e.dataset.size||"md",s="w-full h-full rounded-md border transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-brand focus:ring-offset-1",a={sm:"text-xs",md:"text-sm font-medium",lg:"text-base font-medium"}[i]||"text-sm font-medium";let o="";return t.isDisabled?o="bg-surface text-muted border-transparent cursor-not-allowed opacity-50":t.isSelected&&!n.isRange?o="bg-brand text-white border-brand-600 font-bold shadow-sm":t.isToday?o="bg-neutral-50 text-brand border-brand font-semibold":t.isCurrentMonth?o="text-foreground border-transparent hover:bg-neutral-hover hover:border-border":o="text-muted border-transparent hover:bg-neutral-hover hover:border-border",`${s} ${a} ${o}`.trim()}static getDateAriaLabel(t,e){const n=new Date(t.date),i=n.toLocaleDateString("en-US",{weekday:"long"}),s=n.toLocaleDateString("en-US",{month:"long"});let a=`${i}, ${s} ${t.day}, ${n.getFullYear()}`;return t.isToday&&(a+=", today"),t.isSelected&&(a+=", selected"),t.isRangeStart&&(a+=", range start"),t.isRangeEnd&&(a+=", range end"),t.isInRange&&(a+=", in range"),t.isDisabled&&(a+=", disabled"),a}static isDateDisabled(t,e,n){if(n.isDisabled)return!0;const i=this.formatDateString(e);return n.minDate&&i<n.minDate||n.maxDate&&i>n.maxDate?!0:n.disabledDates.includes(i)}static formatDateString(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}static addMonthsToDate(t,e){const n=new Date(t);return n.setMonth(n.getMonth()+e),this.formatDateString(n)}}class wn{static navigateMonth(t,e,n,i,s){if(n.isDisabled)return;const a=new Date(n.currentMonth+"-01"),o=new Date(a);e==="prev"?o.setMonth(a.getMonth()-1):o.setMonth(a.getMonth()+1);const l=this.formatYearMonth(o);this.canNavigateToMonth(o,n)&&(i({currentMonth:l,viewMode:"calendar"}),s(),this.updateMonthYearDisplay(t,n.monthNames,l))}static navigateToToday(t,e,n,i){const s=new Date,a=this.formatYearMonth(s);a!==e.currentMonth&&(n({currentMonth:a,viewMode:"calendar"}),i(),this.updateMonthYearDisplay(t,e.monthNames,a))}static toggleMonthYearDropdown(t,e,n,i){e.isDisabled||(e.viewMode==="calendar"?(n({viewMode:"month"}),this.renderMonthGrid(t,e,n,i)):e.viewMode==="month"?(n({viewMode:"year"}),this.renderYearGrid(t,e,n,i)):(n({viewMode:"calendar"}),i()))}static renderMonthGrid(t,e,n,i){const s=t.querySelector("[data-calendar-grid-container]");if(!s)return;const a=parseInt(e.currentMonth.substring(0,4)),o=parseInt(e.currentMonth.substring(5,7))-1,l=e.monthNames.map((h,f)=>{const p=f===o,m=this.isMonthDisabled(t,a,f,e);return`
                <button
                    type="button"
                    class="${this.getMonthButtonClasses(p,m)} month-option"
                    data-month="${f}"
                    data-calendar-month-btn
                    ${m?"disabled":""}
                    aria-label="Select ${h} ${a}"
                >
                    ${h}
                </button>
            `}).join(""),u=`
            ${`
            <div class="flex items-center justify-between mb-4">
                <button
                    type="button"
                    class="p-2 rounded-md hover:bg-neutral-hover focus:outline-none focus:ring-2 focus:ring-brand"
                    data-calendar-year-nav="prev"
                    aria-label="Previous year"
                >
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>

                <button
                    type="button"
                    class="text-lg font-semibold px-4 py-2 rounded-md hover:bg-neutral-hover focus:outline-none focus:ring-2 focus:ring-brand"
                    data-calendar-year-btn
                    aria-label="Select year ${a}"
                >
                    ${a}
                </button>

                <button
                    type="button"
                    class="p-2 rounded-md hover:bg-neutral-hover focus:outline-none focus:ring-2 focus:ring-brand"
                    data-calendar-year-nav="next"
                    aria-label="Next year"
                >
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>
        `}
            <div class="month-grid grid grid-cols-3 gap-2">
                ${l}
            </div>
        `;s.innerHTML=u,this.bindMonthGridEvents(t,e,n,i)}static renderYearGrid(t,e,n,i){const s=t.querySelector("[data-calendar-grid-container]");if(!s)return;const a=parseInt(e.currentMonth.substring(0,4)),o=Math.floor(a/10)*10,c=Array.from({length:12},(f,p)=>o-1+p).map(f=>{const p=f===a,m=this.isYearDisabled(t,f,e),b=f<o||f>=o+10;return`
                <button
                    type="button"
                    class="${this.getYearButtonClasses(p,m,b)} year-option"
                    data-year="${f}"
                    data-calendar-year-option
                    ${m?"disabled":""}
                    aria-label="Select year ${f}"
                >
                    ${f}
                </button>
            `}).join(""),h=`
            ${`
            <div class="flex items-center justify-between mb-4">
                <button
                    type="button"
                    class="p-2 rounded-md hover:bg-neutral-hover focus:outline-none focus:ring-2 focus:ring-brand"
                    data-calendar-decade-nav="prev"
                    aria-label="Previous decade"
                >
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                </button>

                <span class="text-lg font-semibold">
                    ${o} - ${o+9}
                </span>

                <button
                    type="button"
                    class="p-2 rounded-md hover:bg-neutral-hover focus:outline-none focus:ring-2 focus:ring-brand"
                    data-calendar-decade-nav="next"
                    aria-label="Next decade"
                >
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                </button>
            </div>
        `}
            <div class="year-grid grid grid-cols-4 gap-2">
                ${c}
            </div>
        `;s.innerHTML=h,this.bindYearGridEvents(t,e,n,i)}static selectMonth(t,e,n,i,s){const o=`${n.currentMonth.substring(0,4)}-${String(e+1).padStart(2,"0")}`;i({currentMonth:o,viewMode:"calendar"}),s(),this.updateMonthYearDisplay(t,n.monthNames,o)}static selectYear(t,e,n,i,s){const a=n.currentMonth.substring(5,7),o=`${e}-${a}`;i({currentMonth:o,viewMode:"month"}),this.renderMonthGrid(t,n,i,s)}static navigateYear(t,e,n,i,s){if(n.isDisabled)return;const a=parseInt(n.currentMonth.substring(0,4)),o=e==="prev"?a-1:a+1,l=n.currentMonth.substring(5,7),c=`${o}-${l}`;i({currentMonth:c}),n.viewMode==="year"?this.renderYearGrid(t,n,i,s):n.viewMode==="month"&&this.renderMonthGrid(t,n,i,s)}static canNavigateToMonth(t,e){if(e.minDate){const n=new Date(e.minDate),i=new Date(n.getFullYear(),n.getMonth(),1);if(t<i)return!1}if(e.maxDate){const n=new Date(e.maxDate),i=new Date(n.getFullYear(),n.getMonth(),1);if(t>i)return!1}return!0}static isMonthDisabled(t,e,n,i){if(i.minDate){const s=new Date(i.minDate);if(e<s.getFullYear()||e===s.getFullYear()&&n<s.getMonth())return!0}if(i.maxDate){const s=new Date(i.maxDate);if(e>s.getFullYear()||e===s.getFullYear()&&n>s.getMonth())return!0}return!1}static isYearDisabled(t,e,n){return!!(n.minDate&&e<new Date(n.minDate).getFullYear()||n.maxDate&&e>new Date(n.maxDate).getFullYear())}static updateMonthYearDisplay(t,e,n){const i=t.querySelector(".calendar-month-year-display");if(!i)return;const s=n.substring(0,4),a=parseInt(n.substring(5,7))-1,o=e[a];i.textContent=`${o} ${s}`}static getMonthButtonClasses(t,e){const n="w-full p-3 rounded-md text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-brand";return e?`${n} bg-surface text-muted cursor-not-allowed opacity-50`:t?`${n} bg-brand text-white font-semibold shadow-sm`:`${n} text-foreground hover:bg-neutral-hover hover:scale-105`}static getYearButtonClasses(t,e,n){const i="w-full p-3 rounded-md text-sm font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-brand";return e?`${i} bg-surface text-muted cursor-not-allowed opacity-50`:t?`${i} bg-brand text-white font-semibold shadow-sm`:n?`${i} text-muted hover:bg-neutral-hover opacity-75`:`${i} text-foreground hover:bg-neutral-hover hover:scale-105`}static formatYearMonth(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")}static bindMonthGridEvents(t,e,n,i){var s;t.querySelectorAll("[data-calendar-month-btn]").forEach(a=>{a.addEventListener("click",o=>{const l=parseInt(o.target.dataset.month||"0");this.selectMonth(t,l,e,n,i)})}),t.querySelectorAll("[data-calendar-year-nav]").forEach(a=>{a.addEventListener("click",o=>{const l=o.target.dataset.calendarYearNav,c=parseInt(e.currentMonth.substring(0,4)),u=l==="prev"?c-1:c+1;this.selectYear(t,u,e,n,i)})}),(s=t.querySelector("[data-calendar-year-btn]"))==null||s.addEventListener("click",()=>{n({viewMode:"year"}),this.renderYearGrid(t,e,n,i)})}static bindYearGridEvents(t,e,n,i){t.querySelectorAll("[data-calendar-year-option]").forEach(s=>{s.addEventListener("click",a=>{const o=parseInt(a.target.dataset.year||"0");this.selectYear(t,o,e,n,i)})}),t.querySelectorAll("[data-calendar-decade-nav]").forEach(s=>{s.addEventListener("click",a=>{const o=a.target.dataset.calendarDecadeNav,l=parseInt(e.currentMonth.substring(0,4)),c=Math.floor(l/10)*10,f=`${(o==="prev"?c-10:c+10)+l%10}-${e.currentMonth.substring(5,7)}`;n({currentMonth:f}),this.renderYearGrid(t,e,n,i)})})}}class Do{static handleKeydown(t,e,n,i,s,a){if(n.isDisabled||!n.focusedDate)return;const{key:o,ctrlKey:l,shiftKey:c}=e;switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End","Enter"," ","Escape"].includes(o)&&e.preventDefault(),o){case"ArrowLeft":this.navigateByDays(t,-1,n,i,a);break;case"ArrowRight":this.navigateByDays(t,1,n,i,a);break;case"ArrowUp":this.navigateByDays(t,-7,n,i,a);break;case"ArrowDown":this.navigateByDays(t,7,n,i,a);break;case"PageUp":c?this.navigateByYears(t,-1,n,i,a):this.navigateByMonths(t,-1,n,i,a);break;case"PageDown":c?this.navigateByYears(t,1,n,i,a):this.navigateByMonths(t,1,n,i,a);break;case"Home":l?this.navigateToToday(t,n,i,a):this.navigateToWeekStart(t,n,i,a);break;case"End":this.navigateToWeekEnd(t,n,i,a);break;case"Enter":case" ":n.focusedDate&&s(n.focusedDate);break;case"Escape":this.handleEscape(t,n,i,a);break;case"t":case"T":!l&&!c&&this.navigateToToday(t,n,i,a);break}}static navigateByDays(t,e,n,i,s){if(!n.focusedDate)return;const a=this.addDaysToDate(n.focusedDate,e);this.isDateNavigable(a,n)&&this.focusDate(t,a,n,i,s)}static navigateByMonths(t,e,n,i,s){if(!n.focusedDate)return;const a=new Date(n.focusedDate),o=new Date(a);o.setMonth(a.getMonth()+e),o.getDate()!==a.getDate()&&o.setDate(0);const l=this.formatDateString(o);if(this.isDateNavigable(l,n)){const c=this.formatYearMonth(o);c!==n.currentMonth?(i({currentMonth:c,focusedDate:l}),s()):this.focusDate(t,l,n,i,s)}}static navigateByYears(t,e,n,i,s){if(!n.focusedDate)return;const a=new Date(n.focusedDate),o=new Date(a);o.setFullYear(a.getFullYear()+e),o.getMonth()!==a.getMonth()&&o.setDate(0);const l=this.formatDateString(o);if(this.isDateNavigable(l,n)){const c=this.formatYearMonth(o);i({currentMonth:c,focusedDate:l}),setTimeout(()=>s(),100)}}static navigateToWeekStart(t,e,n,i){if(!e.focusedDate)return;const s=new Date(e.focusedDate),a=s.getDay(),o=new Date(s);o.setDate(s.getDate()-a);const l=this.formatDateString(o);this.isDateNavigable(l,e)&&this.focusDate(t,l,e,n,i)}static navigateToWeekEnd(t,e,n,i){if(!e.focusedDate)return;const s=new Date(e.focusedDate),a=6-s.getDay(),o=new Date(s);o.setDate(s.getDate()+a);const l=this.formatDateString(o);this.isDateNavigable(l,e)&&this.focusDate(t,l,e,n,i)}static navigateToToday(t,e,n,i){const s=this.getTodayDate();if(this.isDateNavigable(s,e)){const a=this.formatYearMonth(new Date(s));a!==e.currentMonth?(n({currentMonth:a,focusedDate:s}),i()):this.focusDate(t,s,e,n,i)}}static handleEscape(t,e,n,i){e.viewMode!=="calendar"?(n({viewMode:"calendar"}),setTimeout(()=>i(),100)):e.isRange&&e.rangeSelectionState==="selecting-end"&&(n({rangeSelectionState:"none",startDate:null,endDate:null}),setTimeout(()=>i(),100))}static focusDate(t,e,n,i,s){i({focusedDate:e}),t.querySelectorAll("[data-calendar-day-btn]").forEach(o=>{o.setAttribute("tabindex","-1")});const a=t.querySelector(`[data-calendar-day-btn][data-date="${e}"]`);a&&(a.setAttribute("tabindex","0"),a.focus())}static isDateNavigable(t,e){return!(e.minDate&&t<e.minDate||e.maxDate&&t>e.maxDate||e.disabledDates.includes(t))}static addDaysToDate(t,e){const n=new Date(t);return n.setDate(n.getDate()+e),this.formatDateString(n)}static formatDateString(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}static formatYearMonth(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")}static getTodayDate(){const t=new Date;return this.formatDateString(t)}static bindKeyboardEvents(t,e,n,i,s){t.removeEventListener("keydown",t.dataset.keydownHandler);const a=o=>{this.handleKeydown(t,o,e,n,i,s)};t.dataset.keydownHandler=a.toString(),t.addEventListener("keydown",a),t.hasAttribute("tabindex")||t.setAttribute("tabindex","0")}static initializeFocus(t,e){const n=e.focusedDate||this.getTodayDate(),i=t.querySelector(`[data-calendar-day-btn][data-date="${n}"]`);i&&(i.setAttribute("tabindex","0"),document.activeElement===t&&i.focus())}static unbindKeyboardEvents(t){const e=t.dataset.keydownHandler;e&&(t.removeEventListener("keydown",e),delete t.dataset.keydownHandler)}}class xn{static updateHiddenInput(t,e){e.isRange?this.updateRangeInputs(t,e):this.updateSingleInput(t,e)}static updateRangeInputs(t,e){const n=t.querySelector(".calendar-start-input"),i=t.querySelector(".calendar-end-input"),s=t.querySelector(".calendar-range-input");n&&(n.value=e.startDate||""),i&&(i.value=e.endDate||""),s&&(s.value=qe.formatRangeForDisplay(e.startDate,e.endDate)),[n,i,s].forEach(a=>{a&&this.dispatchInputChangeEvent(a)})}static updateSingleInput(t,e){const n=t.querySelector(".calendar-hidden-input");n&&(n.value=e.selectedDate||"",this.dispatchInputChangeEvent(n))}static dispatchInputChangeEvent(t){const e=new Event("input",{bubbles:!0}),n=new Event("change",{bubbles:!0});t.dispatchEvent(e),t.dispatchEvent(n),window.Livewire&&t.hasAttribute("wire:model")&&window.Livewire.hook("message.processed",()=>{})}static handleQuickSelector(t,e,n,i,s){const a=new Date;let o=null,l=null,c=null;switch(e){case"today":c=this.formatDateString(a),n.isRange&&(o=c,l=c);break;case"yesterday":const f=new Date(a);f.setDate(f.getDate()-1),c=this.formatDateString(f),n.isRange&&(o=c,l=c);break;case"last7days":if(n.isRange){l=this.formatDateString(a);const p=new Date(a);p.setDate(a.getDate()-6),o=this.formatDateString(p)}break;case"last30days":if(n.isRange){l=this.formatDateString(a);const p=new Date(a);p.setDate(a.getDate()-29),o=this.formatDateString(p)}break;case"thismonth":if(n.isRange){const p=new Date(a.getFullYear(),a.getMonth(),1),m=new Date(a.getFullYear(),a.getMonth()+1,0);o=this.formatDateString(p),l=this.formatDateString(m)}break;case"lastmonth":if(n.isRange){const p=new Date(a.getFullYear(),a.getMonth()-1,1),m=new Date(a.getFullYear(),a.getMonth(),0);o=this.formatDateString(p),l=this.formatDateString(m)}break;case"thisyear":if(n.isRange){const p=new Date(a.getFullYear(),0,1),m=new Date(a.getFullYear(),11,31);o=this.formatDateString(p),l=this.formatDateString(m)}break;default:console.warn(`Unknown quick selector value: ${e}`);return}const u=l||c;let h=n.currentMonth;u&&(h=this.formatYearMonth(new Date(u))),n.isRange&&o&&l?i({startDate:o,endDate:l,rangeSelectionState:"none",focusedDate:l,viewMode:"calendar",currentMonth:h}):!n.isRange&&c&&i({selectedDate:c,focusedDate:c,viewMode:"calendar",currentMonth:h}),s(),wn.updateMonthYearDisplay(t,n.monthNames,h),this.updateHiddenInput(t,n),this.dispatchCalendarEvent(t,"dateSelected",{selectedDate:c,startDate:o,endDate:l,source:"quickSelector"})}static handleFooterAction(t,e,n,i,s){switch(e){case"clear":qe.clearSelection(t,n,i),s(),this.updateHiddenInput(t,n),this.dispatchCalendarEvent(t,"dateCleared",{source:"footerAction"});break;case"today":const a=this.formatDateString(new Date),o=this.formatYearMonth(new Date);n.isRange?i({startDate:a,endDate:a,focusedDate:a,rangeSelectionState:"none",currentMonth:o}):i({selectedDate:a,focusedDate:a,currentMonth:o}),s(),wn.updateMonthYearDisplay(t,n.monthNames,o),this.updateHiddenInput(t,n),this.dispatchCalendarEvent(t,"dateSelected",{selectedDate:n.isRange?null:a,startDate:n.isRange?a:null,endDate:n.isRange?a:null,source:"footerAction"});break;default:console.warn(`Unknown footer action: ${e}`)}}static dispatchCalendarEvent(t,e,n=null){const i=new CustomEvent(`calendar:${e}`,{bubbles:!0,cancelable:!0,detail:{calendar:t,...n}});t.dispatchEvent(i),document.dispatchEvent(new CustomEvent(`keys:calendar:${e}`,{bubbles:!0,cancelable:!0,detail:{calendar:t,...n}}))}static bindFormEvents(t,e,n,i){e.isRange&&t.addEventListener("click",s=>{const a=s.target.closest("[data-quick-selector]");if(a){const o=a.dataset.quickSelector;o&&this.handleQuickSelector(t,o,e,n,i)}}),t.querySelectorAll("[data-calendar-action]").forEach(s=>{s.addEventListener("click",a=>{const o=a.target.dataset.calendarAction;o&&this.handleFooterAction(t,o,e,n,i)})})}static getCalendarState(t,e){return{currentMonth:e.currentMonth,selectedDate:e.selectedDate,startDate:e.startDate,endDate:e.endDate,focusedDate:e.focusedDate,isRange:e.isRange,isDisabled:e.isDisabled,viewMode:e.viewMode,rangeSelectionState:e.rangeSelectionState,formattedValue:e.isRange?qe.formatRangeForDisplay(e.startDate,e.endDate):e.selectedDate}}static setSelectedDate(t,e,n,i,s){if(n.isRange){console.warn("Use setSelectedRange for range calendars");return}if(i({selectedDate:e,focusedDate:e}),e){const a=this.formatYearMonth(new Date(e));a!==n.currentMonth&&i({currentMonth:a})}s(),this.updateHiddenInput(t,n),this.dispatchCalendarEvent(t,"dateChanged",{selectedDate:e,source:"programmatic"})}static setSelectedRange(t,e,n,i,s,a){if(!i.isRange){console.warn("Use setSelectedDate for single date calendars");return}if(s({startDate:e,endDate:n,rangeSelectionState:"none",focusedDate:n||e}),n||e){const o=n||e,l=this.formatYearMonth(new Date(o));l!==i.currentMonth&&s({currentMonth:l})}a(),this.updateHiddenInput(t,i),this.dispatchCalendarEvent(t,"rangeChanged",{startDate:e,endDate:n,source:"programmatic"})}static formatDateString(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}static formatYearMonth(t){return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")}}class Io extends G{initializeElements(){y.findByDataAttribute("keys-calendar","true").forEach(t=>{this.initializeCalendar(t)})}initializeCalendar(t){if(this.hasState(t))return;const e=t.dataset.calendarData,n=t.dataset.disabled==="true";let i;try{i=e?JSON.parse(e):{}}catch(a){console.error("Failed to parse calendar data:",a),i={}}const s={currentMonth:i.currentMonth||this.getCurrentYearMonth(),selectedDate:i.selectedDate||null,startDate:i.startDate||null,endDate:i.endDate||null,focusedDate:i.selectedDate||i.startDate||this.getTodayDate(),isRange:i.isRange||!1,monthsToShow:i.monthsToShow||1,rangeSelectionState:"none",isDisabled:n,minDate:i.minDate||null,maxDate:i.maxDate||null,disabledDates:i.disabledDates||[],weekdays:i.weekdays||["S","M","T","W","T","F","S"],monthNames:i.monthNames||["January","February","March","April","May","June","July","August","September","October","November","December"],viewMode:"calendar"};this.setState(t,s),this.renderCalendar(t),this.bindAllEventListeners(t),xn.updateHiddenInput(t,s),xn.dispatchCalendarEvent(t,"initialized",{state:s})}bindEventListeners(){}bindAllEventListeners(t){const e=this.getState(t);e&&(this.bindDateSelectionEvents(t),this.bindNavigationEvents(t),xn.bindFormEvents(t,e,n=>this.updateState(t,n),()=>this.renderCalendar(t)),Do.bindKeyboardEvents(t,e,n=>this.updateState(t,n),n=>this.selectDate(t,n),()=>this.renderCalendar(t)))}bindDateSelectionEvents(t){t.addEventListener("click",e=>{const n=e.target;if(n.dataset.calendarDayBtn!==void 0){const i=n.dataset.date;i&&!n.disabled&&this.selectDate(t,i)}})}bindNavigationEvents(t){t.addEventListener("click",e=>{const n=e.target,i=this.getState(t);if(!i)return;const s=n.closest("[data-calendar-nav]");if(s){const u=s.dataset.calendarNav;wn.navigateMonth(t,u,i,h=>this.updateState(t,h),()=>this.renderCalendar(t));return}if(n.closest("[data-calendar-month-year-btn]")){wn.toggleMonthYearDropdown(t,i,u=>this.updateState(t,u),()=>this.renderCalendar(t));return}const o=n.closest("[data-calendar-month-btn]");if(o){const u=parseInt(o.dataset.month||"0");wn.selectMonth(t,u,i,h=>this.updateState(t,h),()=>this.renderCalendar(t));return}const l=n.closest("[data-calendar-year-option]");if(l){const u=parseInt(l.dataset.year||"0");wn.selectYear(t,u,i,h=>this.updateState(t,h),()=>this.renderCalendar(t));return}const c=n.closest("[data-calendar-year-nav]");if(c){const u=c.dataset.calendarYearNav;wn.navigateYear(t,u,i,h=>this.updateState(t,h),()=>this.renderCalendar(t));return}})}selectDate(t,e){var i,s;const n=this.getState(t);n&&(qe.selectDate(t,e,n,a=>this.updateState(t,a)),this.renderCalendar(t),xn.updateHiddenInput(t,this.getState(t)),xn.dispatchCalendarEvent(t,"dateSelected",{selectedDate:n.isRange?null:e,startDate:n.isRange?(i=this.getState(t))==null?void 0:i.startDate:null,endDate:n.isRange?(s=this.getState(t))==null?void 0:s.endDate:null,source:"userClick"}))}renderCalendar(t){const e=this.getState(t);e&&(this.toggleQuickSelectors(t,e.viewMode),e.viewMode==="calendar"?(Gm.renderCalendarGrid(t,e),Do.initializeFocus(t,e)):e.viewMode==="month"||e.viewMode==="year"&&wn.renderYearGrid(t,e,n=>this.updateState(t,n),()=>this.renderCalendar(t)))}toggleQuickSelectors(t,e){const n=this.getState(t),i=t.querySelector('[data-view-mode-show="calendar"]');i&&(e==="calendar"&&(n!=null&&n.isRange)?i.style.display="":i.style.display="none")}updateState(t,e){const n=this.getState(t);if(!n)return;const i={...n,...e};this.setState(t,i)}setupDynamicObserver(){new MutationObserver(e=>{e.forEach(n=>{n.addedNodes.forEach(i=>{if(i.nodeType===Node.ELEMENT_NODE){const s=i;s.dataset.keysCalendar==="true"&&this.initializeCalendar(s),s.querySelectorAll('[data-keys-calendar="true"]').forEach(o=>{this.initializeCalendar(o)})}})})}).observe(document.body,{childList:!0,subtree:!0})}getCalendarState(t){const e=this.getState(t);return e?xn.getCalendarState(t,e):null}setSelectedDate(t,e){const n=this.getState(t);n&&xn.setSelectedDate(t,e,n,i=>this.updateState(t,i),()=>this.renderCalendar(t))}setSelectedRange(t,e,n){const i=this.getState(t);i&&xn.setSelectedRange(t,e,n,i,s=>this.updateState(t,s),()=>this.renderCalendar(t))}onDestroy(){y.findByDataAttribute("keys-calendar","true").forEach(t=>{Do.unbindKeyboardEvents(t)})}getCurrentYearMonth(){const t=new Date;return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")}getTodayDate(){const t=new Date;return t.getFullYear()+"-"+String(t.getMonth()+1).padStart(2,"0")+"-"+String(t.getDate()).padStart(2,"0")}}class Ls extends G{initializeElements(){}bindEventListeners(){D.handleDelegatedClick("label[for]",t=>{const e=t.getAttribute("for");if(!e)return;const n=y.getElementById(e);!n||n.type!=="radio"||this.focusRadioInput(n)}),D.handleDelegatedKeydown('input[type="radio"]',(t,e)=>{D.createNavigationHandler({onArrowDown:()=>this.focusNextRadio(t),onArrowRight:()=>this.focusNextRadio(t),onArrowUp:()=>this.focusPreviousRadio(t),onArrowLeft:()=>this.focusPreviousRadio(t),preventDefault:["ArrowDown","ArrowRight","ArrowUp","ArrowLeft"]})(e)})}focusRadioInput(t){y.focus(t,0),this.dispatchFocusEvent(t)}focusNextRadio(t){const e=this.getRadioGroup(t),i=(e.indexOf(t)+1)%e.length,s=e[i];s&&(s.focus(),s.checked=!0,s.dispatchEvent(new Event("change",{bubbles:!0})),this.dispatchFocusEvent(s))}focusPreviousRadio(t){const e=this.getRadioGroup(t),n=e.indexOf(t),i=n===0?e.length-1:n-1,s=e[i];s&&(s.focus(),s.checked=!0,s.dispatchEvent(new Event("change",{bubbles:!0})),this.dispatchFocusEvent(s))}getRadioGroup(t){const e=t.name;return e?Array.from(y.querySelectorAll(`input[type="radio"][name="${e}"]`)).filter(i=>!i.disabled):[t]}dispatchFocusEvent(t){D.dispatchCustomEvent(t,"radio-focus",{radio:t,name:t.name,value:t.value,checked:t.checked})}addFocusHandler(t){return D.addEventListener(document,"radio-focus",e=>{t(e.detail.radio)})}onDestroy(){}}Ls.getInstance();class Fn extends G{initializeElements(){y.findByDataAttribute("range","true").forEach(t=>{this.initializeRange(t)})}initializeRange(t){var a,o,l;if(this.hasState(t))return;const e=y.querySelector(".range-track",t);if(!e)return;const n={min:parseFloat(e.dataset.min||"0"),max:parseFloat(e.dataset.max||"100"),step:parseFloat(e.dataset.step||"1"),dual:e.dataset.dual==="true",ticks:e.dataset.ticks?JSON.parse(e.dataset.ticks):[],disabled:e.dataset.disabled==="true"},i=this.getElements(t,n);if(!i.track)return;const s={minValue:n.dual?parseFloat(((a=i.inputs.min)==null?void 0:a.value)||n.min.toString()):n.min,maxValue:n.dual?parseFloat(((o=i.inputs.max)==null?void 0:o.value)||n.max.toString()):n.max,singleValue:n.dual?n.min:parseFloat(((l=i.inputs.single)==null?void 0:l.value)||n.min.toString()),isDragging:!1,activeHandle:null};this.setState(t,{config:n,state:s,elements:i}),n.disabled||this.setupHandleInteractions(t,i)}getElements(t,e){const n=y.querySelector(".range-track",t),i=y.querySelector(".range-fill",t),s={},a={},o={},l={};return e.dual?(s.min=y.querySelector('[data-handle="min"]',t),s.max=y.querySelector('[data-handle="max"]',t),a.min=y.querySelector('[data-native-input="min"]',t),a.max=y.querySelector('[data-native-input="max"]',t),o.min=y.querySelector('[data-range-input="min"]',t),o.max=y.querySelector('[data-range-input="max"]',t),l.min=y.querySelector('[data-value-display="min"]',t),l.max=y.querySelector('[data-value-display="max"]',t)):(s.single=y.querySelector('[data-handle="single"]',t),a.single=y.querySelector('[data-native-input="single"]',t),o.single=y.querySelector('[data-range-input="single"]',t),l.single=y.querySelector('[data-value-display="single"]',t)),{container:t,track:n,fill:i,handles:s,inputs:a,hiddenInputs:o,valueDisplays:l}}setupHandleInteractions(t,e){const{handles:n}=e;Object.entries(n).forEach(([i,s])=>{s&&(s.addEventListener("mousedown",a=>this.handleStart(a,t,i)),s.addEventListener("touchstart",a=>this.handleStart(a,t,i),{passive:!1}),s.addEventListener("keydown",a=>this.handleKeydown(a,t,i)),s.addEventListener("focus",()=>this.handleFocus(t,i)),s.addEventListener("blur",()=>this.handleBlur(t,i)))}),e.track.addEventListener("click",i=>this.handleTrackClick(i,t))}bindEventListeners(){D.addEventListener(document,"mousemove",t=>this.handleMove(t)),D.addEventListener(document,"mouseup",t=>this.handleEnd(t)),D.addEventListener(document,"touchmove",t=>this.handleMove(t),{passive:!1}),D.addEventListener(document,"touchend",t=>this.handleEnd(t)),D.addEventListener(document,"touchcancel",t=>this.handleEnd(t))}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"range","true")&&this.initializeRange(n),y.findByDataAttribute("range","true",n).forEach(i=>{this.initializeRange(i)})}})})}handleStart(t,e,n){t.preventDefault();const i=this.getState(e);if(!i||i.config.disabled)return;i.state.isDragging=!0,i.state.activeHandle=n;const s=i.elements.handles[n];s&&(s.classList.add("dragging"),s.focus()),e.classList.add("dragging"),document.body.style.userSelect="none"}handleMove(t){const e=Array.from(this.getAllStates().entries()).find(([f,p])=>p.state.isDragging);if(!e)return;t.preventDefault();const[n,i]=e,{config:s,state:a,elements:o}=i,l="touches"in t?t.touches[0].clientX:t.clientX,c=o.track.getBoundingClientRect(),u=Math.max(0,Math.min(1,(l-c.left)/c.width));let h=this.percentageToValue(u,s);h=this.snapToTickIfNeeded(h,s),this.updateValue(n,a.activeHandle,h)}handleEnd(t){const e=Array.from(this.getAllStates().entries()).find(([a,o])=>o.state.isDragging);if(!e)return;const[n,i]=e;i.state.isDragging=!1;const s=i.elements.handles[i.state.activeHandle];s&&s.classList.remove("dragging"),n.classList.remove("dragging"),i.state.activeHandle=null,document.body.style.userSelect="",this.dispatchChangeEvent(n)}handleKeydown(t,e,n){const i=this.getState(e);if(!i||i.config.disabled)return;const{config:s,state:a}=i;let o=!1,l;const c=n==="min"?a.minValue:n==="max"?a.maxValue:a.singleValue;switch(t.key){case"ArrowLeft":case"ArrowDown":l=Math.max(s.min,c-s.step),o=!0;break;case"ArrowRight":case"ArrowUp":l=Math.min(s.max,c+s.step),o=!0;break;case"PageDown":l=Math.max(s.min,c-s.step*10),o=!0;break;case"PageUp":l=Math.min(s.max,c+s.step*10),o=!0;break;case"Home":l=s.min,o=!0;break;case"End":l=s.max,o=!0;break}o&&(t.preventDefault(),l=this.snapToTickIfNeeded(l,s),this.updateValue(e,n,l),this.dispatchChangeEvent(e))}handleTrackClick(t,e){const n=this.getState(e);if(!n||n.config.disabled)return;const{config:i,state:s}=n,a=n.elements.track.getBoundingClientRect(),o=(t.clientX-a.left)/a.width;let l=this.percentageToValue(o,i);if(l=this.snapToTickIfNeeded(l,i),i.dual){const c=Math.abs(l-s.minValue),u=Math.abs(l-s.maxValue),h=c<=u?"min":"max";this.updateValue(e,h,l)}else this.updateValue(e,"single",l);this.dispatchChangeEvent(e)}updateValue(t,e,n){const i=this.getState(t);if(!i)return;const{config:s,state:a,elements:o}=i;s.dual?e==="min"?(n=Math.min(n,a.maxValue),a.minValue=n):e==="max"&&(n=Math.max(n,a.minValue),a.maxValue=n):a.singleValue=n,this.updateVisualElements(t),this.updateFormInputs(t),this.dispatchInputEvent(t)}updateVisualElements(t){const e=this.getState(t);if(!e)return;const{config:n,state:i,elements:s}=e;if(n.dual){const a=this.valueToPercentage(i.minValue,n),o=this.valueToPercentage(i.maxValue,n);s.handles.min&&(s.handles.min.style.left=`${a}%`,s.handles.min.setAttribute("aria-valuenow",i.minValue.toString()),s.handles.min.setAttribute("aria-valuetext",i.minValue.toString())),s.handles.max&&(s.handles.max.style.left=`${o}%`,s.handles.max.setAttribute("aria-valuenow",i.maxValue.toString()),s.handles.max.setAttribute("aria-valuetext",i.maxValue.toString())),s.fill.style.left=`${a}%`,s.fill.style.width=`${o-a}%`,s.valueDisplays.min&&(s.valueDisplays.min.textContent=i.minValue.toString()),s.valueDisplays.max&&(s.valueDisplays.max.textContent=i.maxValue.toString())}else{const a=this.valueToPercentage(i.singleValue,n);s.handles.single&&(s.handles.single.style.left=`${a}%`,s.handles.single.setAttribute("aria-valuenow",i.singleValue.toString()),s.handles.single.setAttribute("aria-valuetext",i.singleValue.toString())),s.fill.style.width=`${a}%`,s.valueDisplays.single&&(s.valueDisplays.single.textContent=i.singleValue.toString())}}updateFormInputs(t){const e=this.getState(t);if(!e)return;const{config:n,state:i,elements:s}=e;n.dual?(s.inputs.min&&(s.inputs.min.value=i.minValue.toString()),s.inputs.max&&(s.inputs.max.value=i.maxValue.toString()),s.hiddenInputs.min&&(s.hiddenInputs.min.value=i.minValue.toString()),s.hiddenInputs.max&&(s.hiddenInputs.max.value=i.maxValue.toString())):(s.inputs.single&&(s.inputs.single.value=i.singleValue.toString()),s.hiddenInputs.single&&(s.hiddenInputs.single.value=i.singleValue.toString()))}percentageToValue(t,e){const n=e.max-e.min;let i=e.min+t*n;return i=Math.round(i/e.step)*e.step,Math.max(e.min,Math.min(e.max,i))}valueToPercentage(t,e){return(t-e.min)/(e.max-e.min)*100}snapToTickIfNeeded(t,e){if(e.ticks.length===0)return t;let n=e.ticks[0],i=Math.abs(t-n);for(const s of e.ticks){const a=Math.abs(t-s);a<i&&(n=s,i=a)}return n}handleFocus(t,e){}handleBlur(t,e){}dispatchInputEvent(t){var a,o,l;const e=this.getState(t);if(!e)return;const{config:n,state:i}=e,s=n.dual?[i.minValue,i.maxValue]:i.singleValue;D.dispatchCustomEvent(t,"range-input",{value:s,dual:n.dual},{bubbles:!0,cancelable:!0}),n.dual?((a=e.elements.hiddenInputs.min)==null||a.dispatchEvent(new Event("input",{bubbles:!0})),(o=e.elements.hiddenInputs.max)==null||o.dispatchEvent(new Event("input",{bubbles:!0}))):(l=e.elements.hiddenInputs.single)==null||l.dispatchEvent(new Event("input",{bubbles:!0}))}dispatchChangeEvent(t){var a,o,l;const e=this.getState(t);if(!e)return;const{config:n,state:i}=e,s=n.dual?[i.minValue,i.maxValue]:i.singleValue;D.dispatchCustomEvent(t,"range-change",{value:s,dual:n.dual},{bubbles:!0,cancelable:!0}),n.dual?((a=e.elements.hiddenInputs.min)==null||a.dispatchEvent(new Event("change",{bubbles:!0})),(o=e.elements.hiddenInputs.max)==null||o.dispatchEvent(new Event("change",{bubbles:!0}))):(l=e.elements.hiddenInputs.single)==null||l.dispatchEvent(new Event("change",{bubbles:!0}))}getValue(t){const e=this.getState(t);if(!e)return null;const{config:n,state:i}=e;return n.dual?[i.minValue,i.maxValue]:i.singleValue}setValue(t,e){const n=this.getState(t);if(!n)return;const{config:i}=n;i.dual&&Array.isArray(e)?(this.updateValue(t,"min",e[0]),this.updateValue(t,"max",e[1])):!i.dual&&typeof e=="number"&&this.updateValue(t,"single",e),this.dispatchChangeEvent(t)}destroyRange(t){this.removeState(t)}destroyAll(){this.clearAllStates()}onDestroy(){}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Fn.getInstance().init()}):Fn.getInstance().init(),window.RangeActions=Fn,Fn.getInstance();let kn=class{static isLivewireAvailable(){return typeof window<"u"&&"Livewire"in window}static isLivewireEnabled(t){return t.dataset.livewireEnabled==="true"||t.dataset.livewireMode==="true"||!!t.dataset.wireModel}static getLivewireComponent(t){if(!this.isLivewireAvailable())return null;const e=t.closest("[wire\\:id]");return e?window.Livewire.find(e.getAttribute("wire:id")):null}static getWireModelProperty(t){return t.dataset.wireModel||t.dataset.livewireProperty||null}static updateLivewireProperty(t,e){const n=this.getLivewireComponent(t),i=this.getWireModelProperty(t);if(!(!n||!i))try{n.set(i,e)}catch(s){console.warn("Failed to update Livewire property:",i,s)}}static formatValueForLivewire(t,e){return e?Array.isArray(t)?t:[]:Array.isArray(t)?t[0]||"":t||""}};class Ds extends G{initializeElements(){y.findByDataAttribute("select","true").forEach((e,n)=>{this.initializeSelect(e)})}initializeSelect(t){const e=t.dataset.multiple==="true",i={selectedValues:this.readInitialValues(t,e),searchTerm:"",filteredOptions:[]};this.setState(t,i),this.updateOptions(t),this.updateOptionsSelectedState(t),this.updateDisplay(t),this.updateStableInputs(t)}readInitialValues(t,e){if(kn.isLivewireEnabled(t))return[];if(e){const n=y.querySelectorAll(".select-pool-input",t),i=[];return n.forEach(s=>{s.dataset.poolActive==="true"&&s.value&&i.push(s.value)}),i}else{const n=y.querySelector(".select-single-input",t);return n&&n.value?[n.value]:[]}}bindEventListeners(){D.handleDelegatedEvent("click","[data-chip-remove]",(t,e)=>{e.preventDefault(),e.stopPropagation();const n=t.dataset.chipValue,i=y.findClosest(t,'[data-select="true"]');i&&n&&this.removeChip(i,n)}),D.handleDelegatedEvent("click","[data-select-clear]",(t,e)=>{e.preventDefault(),e.stopPropagation();const n=y.findClosest(t,'[data-select="true"]');n&&this.clearSelection(n)}),D.handleDelegatedEvent("click","[data-select-option]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,'[data-select="true"]');n&&this.selectOption(n,t)}),D.handleDelegatedEvent("input","input[data-select-search]",(t,e)=>{const n=y.findClosest(t,'[data-select="true"]');n&&n.dataset.searchable==="true"&&this.handleSearch(n,t.value)}),D.addEventListener(document,"toggle",t=>{const e=t.target;e.dataset.keysPopover==="true"&&e.id.startsWith("select-dropdown-")&&t.newState==="closed"&&this.handlePopoverClosed(e)})}handlePopoverClosed(t){var i;const e=t.id.replace("select-dropdown-",""),n=(i=y.querySelector(`[data-select="true"] button[id="${e}"]`))==null?void 0:i.closest('[data-select="true"]');if(n){const s=y.querySelector("[data-select-search]",t);s&&(s.value="",this.handleSearch(n,""))}}selectOption(t,e){var a;const n=this.getState(t),i=e.dataset.value;if(!n||!i||e.getAttribute("aria-disabled")==="true")return;if(t.dataset.multiple==="true"){const o=n.selectedValues.indexOf(i);o>-1?n.selectedValues.splice(o,1):n.selectedValues.push(i)}else{n.selectedValues=[i];const o=y.querySelector(`#select-dropdown-${(a=t.querySelector("button"))==null?void 0:a.id}`);o&&o.hidePopover&&o.hidePopover()}this.setState(t,n),this.updateDisplay(t),this.updateStableInputs(t),this.updateOptionsSelectedState(t),kn.isLivewireEnabled(t)&&this.syncToLivewire(t)}removeChip(t,e){const n=this.getState(t);if(!n)return;const i=n.selectedValues.indexOf(e);i>-1&&(n.selectedValues.splice(i,1),this.setState(t,n),this.updateDisplay(t),this.updateStableInputs(t),this.updateOptionsSelectedState(t),kn.isLivewireEnabled(t)&&this.syncToLivewire(t))}clearSelection(t){const e=this.getState(t);e&&(e.selectedValues=[],this.setState(t,e),this.updateDisplay(t),this.updateStableInputs(t),this.updateOptionsSelectedState(t),kn.isLivewireEnabled(t)&&this.syncToLivewire(t))}handleSearch(t,e){const n=this.getState(t);n&&(n.searchTerm=e.toLowerCase(),this.setState(t,n),this.updateFilteredOptions(t),this.updateOptionsVisibility(t))}updateFilteredOptions(t){const e=this.getState(t);if(!e)return;const n=this.getAllOptions(t);e.searchTerm?e.filteredOptions=n.filter(i=>i.searchableText.includes(e.searchTerm)):e.filteredOptions=n,this.setState(t,e)}updateOptionsVisibility(t){const e=this.getState(t);if(!e)return;const n=y.querySelectorAll("[data-select-option]",t),i=y.querySelector("[data-select-no-results]",t);let s=0;n.forEach(a=>{const o=a,l=o.dataset.value||"";e.filteredOptions.some(u=>u.value===l)?(o.style.display="",s++):o.style.display="none"}),i&&(s===0&&e.searchTerm?i.classList.remove("hidden"):i.classList.add("hidden"))}updateDisplay(t){if(!this.getState(t))return;t.dataset.multiple==="true"?this.updateChipsDisplay(t):this.updateSingleValueDisplay(t),this.updateClearButtonVisibility(t)}updateClearButtonVisibility(t){const e=this.getState(t);if(!e)return;const n=y.querySelector("[data-select-clear]",t);if(!n)return;const i=e.selectedValues.length>0,s=t.dataset.disabled==="true",a=t.dataset.clearable==="true";i&&!s&&a?(n.classList.remove("opacity-0","pointer-events-none"),n.classList.add("opacity-100","pointer-events-auto")):(n.classList.remove("opacity-100","pointer-events-auto"),n.classList.add("opacity-0","pointer-events-none"))}updateChipsDisplay(t){const e=this.getState(t);if(!e)return;const n=y.querySelector("[data-select-chips]",t);if(!n)return;const i=y.querySelectorAll('[data-select-chip="true"]',n),s=y.querySelector("[data-select-placeholder]",t),a=y.querySelector("[data-select-spacer]",t);if(e.selectedValues.length===0)i.forEach(o=>o.remove()),s&&(s.style.display="inline"),a&&(a.style.display="none");else{s&&(s.style.display="none"),a&&(a.style.display="inline");const o=Array.from(i).map(l=>l.dataset.chipValue).filter(l=>l);i.forEach(l=>{const c=l.dataset.chipValue;c&&!e.selectedValues.includes(c)&&l.remove()}),e.selectedValues.forEach(l=>{o.includes(l)||this.createChipElement(t,n,l)})}}createChipElement(t,e,n){this.createChipElementFallback(t,e,n)}createChipElementFallback(t,e,n){const i=this.findOptionByValue(t,n),s=i?i.displayLabel:n,a=document.createElement("span");a.className="inline-flex items-center font-medium px-2 py-0.5 text-xs rounded-sm bg-brand text-brand-foreground",a.setAttribute("data-select-chip","true"),a.setAttribute("data-chip-value",n),a.innerHTML=`
            <span class="chip-label">${s}</span>
            <button type="button" class="ml-1.5 w-4 h-4 flex items-center justify-center rounded-sm hover:bg-white/20 transition-colors focus:outline-none focus:ring-1 focus:ring-white/30" data-chip-remove data-chip-value="${n}">
                <span class="text-xs leading-none" aria-hidden="true">×</span>
                <span class="sr-only">Remove ${s}</span>
            </button>
        `,e.appendChild(a)}updateSingleValueDisplay(t){const e=this.getState(t);if(!e)return;const n=y.querySelector(".select-value",t);if(n)if(e.selectedValues.length===0){const i=t.dataset.placeholder||"Select option...";n.innerHTML=`<span class="text-muted select-placeholder">${i}</span>`}else{const i=e.selectedValues[0],s=this.findOptionByValue(t,i),a=s?s.displayLabel:i;n.textContent=a}}updateStableInputs(t){const e=this.getState(t);if(!e)return;const n=t.dataset.multiple==="true";kn.isLivewireEnabled(t)?this.syncToLivewire(t):n?this.updateMultipleInputPool(t,e.selectedValues):this.updateSingleInput(t,e.selectedValues[0]||"")}updateSingleInput(t,e){const n=y.querySelector(".select-single-input",t);n&&n.value!==e&&(n.value=e,n.dispatchEvent(new Event("change",{bubbles:!0})))}updateMultipleInputPool(t,e){const n=y.querySelectorAll(".select-pool-input",t);n.forEach((s,a)=>{const o=a<e.length,l=o?e[a]:"";s.value!==l&&(s.value=l),s.dataset.poolActive=o?"true":"false",s.style.display=o?"":"none"});const i=n[0];i&&i.dispatchEvent(new Event("change",{bubbles:!0}))}updateOptionsSelectedState(t){const e=this.getState(t);if(!e)return;y.querySelectorAll("[data-select-option]",t).forEach(i=>{const s=i,a=s.dataset.value||"",o=e.selectedValues.includes(a);s.setAttribute("aria-selected",o?"true":"false")})}updateOptions(t){const e=this.getAllOptions(t),n=this.getState(t);n&&(n.filteredOptions=e,this.setState(t,n))}getAllOptions(t){const e=y.querySelectorAll("[data-select-option]",t);return Array.from(e).map(n=>{var a,o;const i=n,s=i.dataset.displayLabel||((a=i.textContent)==null?void 0:a.trim())||"";return{element:i,value:i.dataset.value||"",label:((o=i.textContent)==null?void 0:o.trim())||"",displayLabel:s,searchableText:i.dataset.searchableText||s.toLowerCase(),disabled:i.getAttribute("aria-disabled")==="true"}})}findOptionByValue(t,e){return this.getAllOptions(t).find(i=>i.value===e)||null}syncToLivewire(t){const e=this.getState(t);if(!e||!kn.isLivewireEnabled(t))return;const n=t.dataset.multiple==="true",i=kn.formatValueForLivewire(e.selectedValues,n);kn.updateLivewireProperty(t,i)}setSelectedValues(t,e){const n=this.getState(t);if(!n)return;const i=t.dataset.multiple==="true";n.selectedValues=i?e:e.slice(0,1),this.setState(t,n),this.updateDisplay(t),this.updateStableInputs(t),this.updateOptionsSelectedState(t)}getSelectValue(t){const e=this.getState(t);return e?t.dataset.multiple==="true"?e.selectedValues:e.selectedValues[0]||null:null}}Ds.getInstance();class Is extends G{constructor(){super(...arguments),this.resizeCleanup=null}initializeElements(){y.findByDataAttribute("keys-tabs","true").forEach(t=>{this.initializeTabsElement(t)})}initializeTabsElement(t){const e=t.dataset.orientation||"horizontal",n=t.dataset.variant||"default",i=t.dataset.disabled==="true",s=t.dataset.value,a=Array.from(y.querySelectorAll('[data-tabs-trigger="true"]',t)),o=Array.from(y.querySelectorAll('[data-tabs-panel="true"]',t));let l=s||null;if(!l&&a.length>0){const u=a.find(h=>h.getAttribute("aria-disabled")!=="true");l=(u==null?void 0:u.dataset.value)||null}const c={activeTab:l,tabs:a,panels:o,orientation:e,variant:n,disabled:i};this.setState(t,c),this.updateTabsState(t),this.initializeMarker(t),t.classList.add("tabs-initialized")}bindEventListeners(){D.handleDelegatedClick('[data-tabs-trigger="true"]',(t,e)=>{e.preventDefault();const n=y.findClosest(t,'[data-keys-tabs="true"]');n&&t.getAttribute("aria-disabled")!=="true"&&this.activateTab(n,t.dataset.value||"")}),D.handleDelegatedKeydown('[data-tabs-trigger="true"]',(t,e)=>{const n=y.findClosest(t,'[data-keys-tabs="true"]');n&&this.handleKeydown(n,e)}),this.resizeCleanup=D.handleResize(()=>{this.handleResize()},100)}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"keys-tabs","true")&&(this.hasState(n)||this.initializeTabsElement(n)),y.findByDataAttribute("keys-tabs","true",n).forEach(s=>{this.hasState(s)||this.initializeTabsElement(s)})}})})}activateTab(t,e,n=!1){const i=this.getState(t);if(!i||i.disabled)return;const s=i.tabs.find(o=>o.dataset.value===e);if(!s||s.getAttribute("aria-disabled")==="true")return;const a=i.activeTab;i.activeTab=e,this.setState(t,i),this.updateTabsState(t),this.repositionMarker(t,s),n&&s.focus(),D.dispatchCustomEvent(t,"tabs:change",{tabs:t,activeTab:e,previousTab:a})}updateTabsState(t){const e=this.getState(t);e&&(e.tabs.forEach(n=>{const i=n.dataset.value===e.activeTab,s=n.getAttribute("aria-disabled")==="true";n.setAttribute("aria-selected",i?"true":"false"),n.setAttribute("data-state",i?"active":"inactive"),s?n.setAttribute("tabindex","-1"):i?n.setAttribute("tabindex","0"):n.setAttribute("tabindex","-1"),n.id=`tab-${n.dataset.value}`}),e.panels.forEach(n=>{const i=n.dataset.value===e.activeTab;n.setAttribute("data-state",i?"active":"inactive"),n.style.display=i?"block":"none",n.setAttribute("aria-labelledby",`tab-${n.dataset.value}`)}))}handleKeydown(t,e){const n=this.getState(t);if(!n||n.disabled)return;const i=e.target,s=n.tabs.indexOf(i);let a=-1;switch(e.key){case"ArrowLeft":case"ArrowUp":e.preventDefault(),a=n.orientation==="horizontal"?this.getPreviousEnabledTabIndex(n,s):e.key==="ArrowUp"?this.getPreviousEnabledTabIndex(n,s):s;break;case"ArrowRight":case"ArrowDown":e.preventDefault(),a=n.orientation==="horizontal"?this.getNextEnabledTabIndex(n,s):e.key==="ArrowDown"?this.getNextEnabledTabIndex(n,s):s;break;case"Home":e.preventDefault(),a=this.getFirstEnabledTabIndex(n);break;case"End":e.preventDefault(),a=this.getLastEnabledTabIndex(n);break;case"Enter":case" ":e.preventDefault(),i.dataset.value&&this.activateTab(t,i.dataset.value,!0);return}if(a>=0&&a<n.tabs.length){const o=n.tabs[a];o.dataset.value&&this.activateTab(t,o.dataset.value,!0)}}getNextEnabledTabIndex(t,e){for(let n=1;n<t.tabs.length;n++){const i=(e+n)%t.tabs.length;if(t.tabs[i].getAttribute("aria-disabled")!=="true")return i}return e}getPreviousEnabledTabIndex(t,e){for(let n=1;n<t.tabs.length;n++){const i=(e-n+t.tabs.length)%t.tabs.length;if(t.tabs[i].getAttribute("aria-disabled")!=="true")return i}return e}getFirstEnabledTabIndex(t){for(let e=0;e<t.tabs.length;e++)if(t.tabs[e].getAttribute("aria-disabled")!=="true")return e;return 0}getLastEnabledTabIndex(t){for(let e=t.tabs.length-1;e>=0;e--)if(t.tabs[e].getAttribute("aria-disabled")!=="true")return e;return t.tabs.length-1}getTabsState(t){return this.getState(t)||null}setActiveTab(t,e,n=!1){this.activateTab(t,e,n)}initializeMarker(t){const e=this.getState(t);if(!e||!e.activeTab)return;const n=e.tabs.find(i=>i.dataset.value===e.activeTab);n&&setTimeout(()=>{this.repositionMarker(t,n)},10)}repositionMarker(t,e){const n=this.getState(t);if(!n)return;const i=y.querySelector('[data-tab-marker="true"]',t);if(!i)return;const{orientation:s,variant:a}=n;s==="vertical"?this.repositionVerticalMarker(i,e,a):this.repositionHorizontalMarker(i,e,a)}repositionHorizontalMarker(t,e,n){const i=e.offsetWidth,s=e.offsetLeft;if(t.style.width=`${i}px`,n==="pills"){const a=e.offsetHeight,o=e.offsetTop;t.style.height=`${a}px`,t.style.transform=`translate(${s}px, ${o}px)`}else t.style.transform=`translateX(${s}px)`}repositionVerticalMarker(t,e,n){const i=e.offsetHeight,s=e.offsetTop;if(t.style.height=`${i}px`,n==="pills"){const a=e.offsetWidth,o=e.offsetLeft;t.style.width=`${a}px`,t.style.transform=`translate(${o}px, ${s}px)`}else t.style.transform=`translateY(${s}px)`}handleResize(){this.getAllStates().forEach((t,e)=>{if(t.activeTab){const n=t.tabs.find(i=>i.dataset.value===t.activeTab);n&&this.repositionMarker(e,n)}})}onDestroy(){this.resizeCleanup&&(this.resizeCleanup(),this.resizeCleanup=null)}}Is.getInstance();class Os extends G{initializeElements(){y.querySelectorAll("dialog[data-modal]").forEach(t=>{this.initializeModal(t)}),this.setupLivewireIntegration()}initializeModal(t){if(this.hasState(t))return;const e={lastFocusedElement:null};this.setState(t,e),t.addEventListener("close",()=>{this.handleModalClose(t)}),t.addEventListener("cancel",n=>{this.handleModalCancel(t,n)})}bindEventListeners(){D.handleDelegatedClick("[commandfor]",(t,e)=>{const n=t.getAttribute("command"),i=t.getAttribute("commandfor");if(n==="show-modal"&&i){const s=y.getElementById(i);s&&s.matches("dialog[data-modal]")&&this.handleModalOpen(s,t)}}),D.handleDelegatedClick("[data-modal-close]",(t,e)=>{const n=y.findClosest(t,"dialog[data-modal]");n&&n.close()})}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;n.matches&&n.matches("dialog[data-modal]")&&this.initializeModal(n),y.querySelectorAll("dialog[data-modal]",n).forEach(s=>{this.initializeModal(s)})}})})}handleModalCancel(t,e){this.dispatchModalEvent(t,"modal:cancel",{originalEvent:e})}setInitialFocus(t){const e=y.querySelector("[autofocus]",t);if(e){e.focus();return}const n=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n.length>0&&n[0].focus()}isModalOpen(t){const e=y.getElementById(t);return e?e.open:!1}dispatchModalEvent(t,e,n={}){D.dispatchCustomEvent(t,e,{modal:t,...n},{bubbles:!0,cancelable:!0})}getModalState(t){const e=y.getElementById(t);return e&&this.getState(e)||null}setupLivewireIntegration(){typeof window.Livewire>"u"||(window.Livewire.on("openModal",t=>{const e=t.id||t.modal;e&&(this.openModal(e),t.wireModel&&this.updateWireModel(e,!0))}),window.Livewire.on("closeModal",t=>{const e=t.id||t.modal;e?(this.closeModal(e),t.wireModel&&this.updateWireModel(e,!1)):this.closeAllModals()}),window.Livewire.on("toggleModal",t=>{const e=t.id||t.modal;e&&this.toggleModal(e)}))}updateWireModel(t,e){var s;const n=y.getElementById(t);if(!n)return;const i=n.getAttribute("wire:model");if(i&&typeof window.Livewire<"u"&&window.Livewire.find){const a=(s=y.findClosest(n,"[wire\\:id]"))==null?void 0:s.getAttribute("wire:id");if(a){const o=window.Livewire.find(a);o&&o.set(i,e)}}}toggleModal(t){const e=y.getElementById(t);return!e||!e.matches("dialog[data-modal]")?(console.warn(`Modal with id "${t}" not found`),!1):e.open?this.closeModal(t):this.openModal(t)}closeAllModals(){y.querySelectorAll("dialog[data-modal][open]").forEach(t=>{t.id&&this.closeModal(t.id)})}openModal(t,e){const n=y.getElementById(t);return!n||!n.matches("dialog[data-modal]")?(console.warn(`Modal with id "${t}" not found`),!1):(this.handleModalOpen(n,e),n.showModal(),this.dispatchLivewireEvent("modalOpened",{id:t,modal:t}),!0)}closeModal(t){const e=y.getElementById(t);return!e||!e.matches("dialog[data-modal]")?(console.warn(`Modal with id "${t}" not found`),!1):(e.close(),this.dispatchLivewireEvent("modalClosed",{id:t,modal:t}),!0)}dispatchLivewireEvent(t,e){typeof window.Livewire<"u"&&window.Livewire.dispatch&&window.Livewire.dispatch(t,e)}handleModalClose(t){const e=this.getState(t);if(!e)return;t.getAttribute("wire:model")&&this.updateWireModel(t.id,!1),e.lastFocusedElement&&document.contains(e.lastFocusedElement)&&e.lastFocusedElement.focus(),e.lastFocusedElement=null,this.setState(t,e),this.dispatchModalEvent(t,"modal:close"),this.dispatchLivewireEvent("modalClosed",{id:t.id,modal:t.id})}handleModalOpen(t,e){const n=this.getState(t);if(!n)return;t.getAttribute("wire:model")&&this.updateWireModel(t.id,!0),n.lastFocusedElement=e||document.activeElement,this.setState(t,n),this.dispatchModalEvent(t,"modal:open",{trigger:e}),this.dispatchLivewireEvent("modalOpened",{id:t.id,modal:t.id}),setTimeout(()=>{this.setInitialFocus(t)},50)}onDestroy(){}}Os.getInstance();class Hn extends G{initializeElements(){this.initializeToastSystem(),this.setupLivewireIntegration()}initializeToastSystem(){const t=document.documentElement;if(!this.hasState(t)){const e={toasts:new Map,containers:new Map,timers:new Map,pausedTimers:new Map,toastCounter:0};this.setState(t,e)}this.discoverToasts()}bindEventListeners(){D.handleDelegatedClick("[data-toast-dismiss]",(t,e)=>{const n=t.getAttribute("data-toast-dismiss");n&&(e.preventDefault(),e.stopPropagation(),this.dismiss(n))}),D.handleDelegatedEvent("close","dialog[data-keys-toast]",t=>{const e=t.id;e&&this.dispatchToastEvent("toast:close",e)}),D.handleDelegatedClick("[data-toast-action]",(t,e)=>{const n=t.getAttribute("data-toast-action"),i=y.findClosest(t,"dialog[data-keys-toast]");n&&i&&(e.preventDefault(),e.stopPropagation(),this.dispatchToastEvent("toast:action",i.id,{action:n}))}),D.handleDelegatedEvent("mouseenter","dialog[data-keys-toast]",t=>{this.pauseTimer(t.id)}),D.handleDelegatedEvent("mouseleave","dialog[data-keys-toast]",t=>{this.resumeTimer(t.id)})}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"toast-container")&&this.discoverToasts();const i=n.querySelectorAll("[data-toast-container]"),s=n.querySelectorAll("dialog[data-keys-toast]");(i.length>0||s.length>0)&&this.discoverToasts()}})})}discoverToasts(){const t=this.getGlobalState();t&&(y.findByDataAttribute("toast-container").forEach(e=>{const n=e.getAttribute("data-toast-container");n&&t.containers.set(n,e)}),document.querySelectorAll("dialog[data-keys-toast]").forEach(e=>{if(e instanceof HTMLDialogElement){const n=e.id;n&&(t.toasts.set(n,e),this.setupToastListeners(e))}}))}getGlobalState(){return this.getState(document.documentElement)||null}registerToast(t,e){const n=this.getGlobalState();n&&(n.toasts.set(t,e),this.setupToastListeners(e))}setupToastListeners(t){}setupLivewireIntegration(){typeof window.Livewire>"u"||(window.Livewire.on("showToast",t=>{const e=t.variant||"info";this.show(e,t)}),window.Livewire.on("hideToast",t=>{t.id?this.dismiss(t.id):this.dismissAll()}))}show(t,e={}){const n=this.getGlobalState();if(!n)return!1;const i=e.position||"top-right",s=n.containers.get(i);if(!s)return!1;const a=`toast-${t}-${i}-${++n.toastCounter}`,o=this.createToastElement(a,t,i,e);if(s)s.appendChild(o);else{const u=document.createElement("div");u.className=this.getContainerClasses(i),u.setAttribute("data-toast-container",i),u.appendChild(o),document.body.appendChild(u),n.containers.set(i,u)}o instanceof HTMLDialogElement&&o.show(),o.setAttribute("data-toast-visible","true");const l=e.duration||5e3;return!(e.persistent===!0)&&l>0&&this.setTimer(a,l),n.toasts.set(a,o),this.setupToastListeners(o),this.dispatchToastEvent("toast:show",a,e),!0}createToastElement(t,e,n,i){const s=e==="error"?"danger":e,a=document.createElement("dialog");return a.className=this.getDialogClasses(n,s),a.setAttribute("data-keys-toast","true"),a.setAttribute("data-variant",e),a.setAttribute("data-position",n),a.setAttribute("data-element-type","dialog"),a.setAttribute("data-dismissible","true"),a.setAttribute("role","alert"),a.setAttribute("aria-live","assertive"),a.id=t,i.title&&(a.setAttribute("aria-labelledby",`${t}-title`),a.setAttribute("data-has-title","true")),a.setAttribute("aria-describedby",`${t}-message`),a.innerHTML=`
            <div class="p-4 space-y-3">
                <div class="flex items-start gap-3">
                    <div class="flex-shrink-0 mt-0.5">
                        <svg class="w-5 h-5 ${this.getIconColor(s)}" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-icon="true">
                            ${this.getIconPath(s)}
                        </svg>
                    </div>
                    <div class="flex-1 min-w-0">
                        <h3 id="${t}-title" class="hidden font-semibold text-sm leading-5 mb-1"></h3>
                        <div id="${t}-message" class="text-sm opacity-90 leading-5"></div>
                    </div>
                    <div class="flex-shrink-0">
                        <button type="button"
                                class="inline-flex items-center justify-center rounded-md bg-transparent transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 h-6 w-6 text-xs hover:bg-surface active:bg-muted focus:ring-brand text-current opacity-60 hover:opacity-100 -m-1"
                                data-keys-button="true"
                                data-variant="ghost"
                                data-size="xs"
                                data-element-type="button"
                                data-icon-only="true"
                                data-has-icon="true"
                                data-toast-dismiss="${t}"
                                aria-label="Dismiss notification">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                            <span class="sr-only">Dismiss</span>
                        </button>
                    </div>
                </div>
                <div class="hidden flex gap-2 pt-1" data-toast-actions></div>
            </div>
        `,this.updateToastContent(a,i),a}getContainerClasses(t){const e="fixed z-50";return t==="top-left"?`${e} top-4 left-4`:t==="top-right"?`${e} top-4 right-4`:t==="top-center"?`${e} top-4 left-1/2 -translate-x-1/2`:t==="bottom-left"?`${e} bottom-4 left-4`:t==="bottom-right"?`${e} bottom-4 right-4`:t==="bottom-center"?`${e} bottom-4 left-1/2 -translate-x-1/2`:`${e} top-4 right-4`}getDialogClasses(t,e){let n="max-w-sm w-full p-0 m-0 border rounded-lg shadow-lg backdrop:bg-transparent transition-all duration-300 ease-out";return n+=" translate-y-2 opacity-0 scale-95",n+=" open:translate-y-0 open:opacity-100 open:scale-100",t.startsWith("bottom")&&(n+=" -translate-y-2 open:translate-y-0"),n+=" hover:shadow-xl hover:-translate-y-1 focus-within:shadow-xl focus-within:-translate-y-1",n+=" "+this.getVariantClasses(e),n}getVariantClasses(t){const e={info:"bg-info-100 border-info-200 text-info-foreground",success:"bg-success-100 border-success-200 text-success-foreground",warning:"bg-warning-100 border-warning-200 text-warning-foreground",danger:"bg-danger-100 border-danger-200 text-danger-foreground",neutral:"bg-neutral-100 border-neutral-200 text-neutral-foreground"};return e[t]||e.info}getIconColor(t){const e={info:"text-info",success:"text-success",warning:"text-warning",danger:"text-danger",neutral:"text-neutral"};return e[t]||e.info}getIconPath(t){const e={info:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>',success:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>',warning:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>',danger:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>',neutral:'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>'};return e[t]||e.info}dismiss(t){const e=this.getGlobalState();if(!e)return!1;const n=e.toasts.get(t);return n?(this.clearTimer(t),e.pausedTimers.delete(t),n.setAttribute("data-toast-visible","false"),n.setAttribute("data-toast-exiting","true"),n instanceof HTMLDialogElement&&n.close(),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.toasts.delete(t)},300),this.dispatchToastEvent("toast:dismiss",t),!0):!1}dismissAll(){const t=this.getGlobalState();t&&t.toasts.forEach((e,n)=>{e.getAttribute("data-toast-visible")==="true"&&this.dismiss(n)})}success(t,e={}){return this.show("success",{message:t,...e})}error(t,e={}){return this.show("error",{message:t,...e})}warning(t,e={}){return this.show("warning",{message:t,...e})}info(t,e={}){return this.show("info",{message:t,...e})}updateToastContent(t,e){const n=y.querySelector("[data-toast-title]",t),i=y.querySelector("[data-toast-message]",t),s=y.querySelector("[data-toast-actions]",t);n&&e.title?(n.textContent=e.title,n.classList.remove("hidden"),t.setAttribute("data-has-title","true")):n&&(n.classList.add("hidden"),t.removeAttribute("data-has-title")),i&&e.message&&(i.textContent=e.message,t.setAttribute("data-has-content","true")),s&&e.actions?(s.innerHTML=e.actions,s.classList.remove("hidden")):s&&s.classList.add("hidden"),t.setAttribute("data-timeout",String(e.duration||5e3)),e.persistent===!0&&t.setAttribute("data-persistent","true"),e.duration>0&&!e.persistent&&t.setAttribute("data-auto-hide","true")}resetToastContent(t){const e=y.querySelector("[data-toast-title]",t),n=y.querySelector("[data-toast-message]",t),i=y.querySelector("[data-toast-actions]",t);e&&(e.textContent="",e.classList.add("hidden")),n&&(n.textContent=""),i&&(i.innerHTML="",i.classList.add("hidden")),t.removeAttribute("data-timeout"),t.removeAttribute("data-persistent"),t.removeAttribute("data-auto-hide"),t.removeAttribute("data-has-title"),t.removeAttribute("data-has-content")}setTimer(t,e){const n=this.getGlobalState();if(!n)return;this.clearTimer(t);const i=n.toasts.get(t);i&&i.setAttribute("data-toast-start-time",String(Date.now()));const s=setTimeout(()=>{this.dismiss(t)},e);n.timers.set(t,s)}clearTimer(t){const e=this.getGlobalState();if(!e)return;const n=e.timers.get(t);n&&(clearTimeout(n),e.timers.delete(t))}pauseTimer(t){const e=this.getGlobalState();if(!e)return;const n=e.timers.get(t),i=e.toasts.get(t);if(n&&i){const s=parseInt(i.getAttribute("data-timeout")||"5000"),a=parseInt(i.getAttribute("data-toast-start-time")||"0"),o=Date.now()-a,l=Math.max(0,s-o);this.clearTimer(t),e.pausedTimers.set(t,{remaining:l,startTime:Date.now()})}}resumeTimer(t){const e=this.getGlobalState();if(!e)return;const n=e.toasts.get(t),i=e.timers.get(t),s=e.pausedTimers.get(t);if(n&&i)n.getAttribute("data-persistent")==="true"||e.pausedTimers.delete(t);else if(n&&s){const a=n.getAttribute("data-persistent")==="true",o=n.getAttribute("data-auto-hide")==="true";!a&&o&&s.remaining>0&&(this.setTimer(t,s.remaining),e.pausedTimers.delete(t))}}dispatchToastEvent(t,e,n={}){const i=this.getGlobalState();if(!i)return;const s={id:e,toast:e,...n};D.dispatchCustomEvent(document.documentElement,t,s,{bubbles:!0,cancelable:!0});const a=i.toasts.get(e);if(a&&D.dispatchCustomEvent(a,t,s,{bubbles:!0,cancelable:!0}),typeof window.Livewire<"u"){const o=t.replace("toast:","toast");window.Livewire.dispatch(o,s)}}getToastState(t){const e=this.getGlobalState();if(!e)return null;const n=e.toasts.get(t);return n?{id:t,visible:n.getAttribute("data-toast-visible")==="true",open:n instanceof HTMLDialogElement?n.open:!1,variant:n.getAttribute("data-variant"),position:n.getAttribute("data-position"),duration:parseInt(n.getAttribute("data-timeout")||"0"),persistent:n.getAttribute("data-persistent")==="true",autoHide:n.getAttribute("data-auto-hide")==="true",hasTitle:n.getAttribute("data-has-title")==="true",hasContent:n.getAttribute("data-has-content")==="true"}:null}onDestroy(){const t=this.getGlobalState();t&&(t.timers.forEach(e=>clearTimeout(e)),t.timers.clear(),t.pausedTimers.clear(),t.toasts.forEach(e=>{this.resetToastContent(e),e.style.display="none",e.setAttribute("data-toast-visible","false")}),t.toasts.clear(),t.containers.clear())}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Hn.getInstance().init()}):Hn.getInstance().init();const Km=Hn.getInstance();window.ToastActions=Km,Hn.getInstance();class Ns extends G{initializeElements(){y.findByDataAttribute("dropdown","true").forEach(t=>{this.initializeDropdown(t)}),y.findByDataAttribute("submenu","true").forEach(t=>{this.initializeDropdown(t)})}initializeDropdown(t){const e={isOpen:!1,focusedIndex:-1,menuItems:[],children:[]},n=y.findClosest(t,'[data-submenu="true"]');n&&n!==t&&(e.parent=n),this.setState(t,e),this.updateMenuItems(t),this.initializeSubmenus(t)}initializeSubmenus(t){const e=y.querySelectorAll('[data-submenu="true"]',t),n=this.getState(t);n&&(n.children=Array.from(e),this.setState(t,n)),e.forEach(i=>{this.hasState(i)||this.initializeDropdown(i)})}bindEventListeners(){D.handleDelegatedClick("[data-submenu-trigger], [data-dropdown-trigger], [data-menu-item], [data-menu-checkbox], [data-menu-radio], [data-dropdown-panel], [data-submenu-panel]",(t,e)=>{if(t.matches("[data-submenu-trigger]")){e.preventDefault(),e.stopPropagation();const n=y.findClosest(t,'[data-submenu="true"]');n&&!this.isDisabled(n)&&this.toggleSubmenu(n);return}if(t.matches("[data-dropdown-trigger]")){e.preventDefault(),e.stopPropagation();const n=y.findClosest(t,'[data-dropdown="true"]');n&&!this.isDisabled(n)&&this.toggleDropdown(n);return}if(t.matches("[data-menu-item]")){const n=y.findClosest(t,'[data-dropdown="true"]');n&&(t.dataset.keepOpen==="true"||this.closeDropdown(n));return}if(t.matches("[data-menu-checkbox], [data-menu-radio]")){if(e.stopPropagation(),!(t.dataset.keepOpen!=="false")){const i=y.findClosest(t,'[data-dropdown="true"]');i&&this.closeDropdown(i)}return}if(t.matches("[data-dropdown-panel], [data-submenu-panel]")){e.stopPropagation();return}}),D.addEventListener(document,"click",t=>{const e=t.target;e&&e instanceof Element&&(e.closest("[data-submenu-trigger], [data-dropdown-trigger], [data-menu-item], [data-menu-checkbox], [data-menu-radio], [data-dropdown-panel], [data-submenu-panel]")||this.closeAllDropdowns())}),D.addEventListener(document,"mouseenter",t=>{const e=y.findClosest(t.target,"[data-submenu-trigger]");if(e&&!this.isMobile()){const n=y.findClosest(e,"[data-popover-trigger]");if(n){const i=y.findClosest(e,"[data-keys-dropdown]");i&&y.querySelectorAll("[data-popover-trigger]",i).forEach(a=>{var l;const o=a.getAttribute("data-popover-trigger");if(o&&o!==n.getAttribute("data-popover-trigger")){const c=document.getElementById(o);c&&c.matches(":popover-open")&&((l=c.hidePopover)==null||l.call(c))}}),setTimeout(()=>{e.matches(":hover")&&e.click()},100)}}},{capture:!0}),D.handleDelegatedKeydown('[data-dropdown="true"]',(t,e)=>{this.handleKeydown(t,e)})}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"dropdown","true")&&(this.hasState(n)||this.initializeDropdown(n)),y.hasDataAttribute(n,"submenu","true")&&(this.hasState(n)||this.initializeDropdown(n)),y.findByDataAttribute("dropdown","true",n).forEach(a=>{this.hasState(a)||this.initializeDropdown(a)}),y.findByDataAttribute("submenu","true",n).forEach(a=>{this.hasState(a)||this.initializeDropdown(a)})}})})}toggleDropdown(t){const e=this.getState(t);e&&(e.isOpen?this.closeDropdown(t):this.openDropdown(t))}openDropdown(t){var s;const e=this.getState(t);if(!e||this.isDisabled(t))return;this.closeSiblingDropdowns(t),e.isOpen=!0,e.focusedIndex=-1,this.setState(t,e);const n=y.querySelector("[data-keys-popover]",t),i=y.querySelector("[data-dropdown-trigger]",t);n&&((s=n.showPopover)==null||s.call(n)),i&&i.setAttribute("aria-expanded","true"),this.updateMenuItems(t),this.dispatchDropdownEvent(t,"dropdown:open")}openSubmenu(t){var s;const e=this.getState(t);if(!e||this.isDisabled(t))return;e.isOpen=!0,e.focusedIndex=-1,this.closeSiblingSubmenus(t),this.setState(t,e);const n=y.querySelector("[data-keys-popover]",t),i=y.querySelector("[data-submenu-trigger]",t);if(n)try{(s=n.showPopover)==null||s.call(n)}catch{}i&&i.setAttribute("aria-expanded","true"),this.updateMenuItems(t),this.dispatchDropdownEvent(t,"submenu:open")}closeDropdown(t){var s;const e=this.getState(t);if(!e||!e.isOpen)return;this.closeChildSubmenus(t),e.isOpen=!1,e.focusedIndex=-1,this.setState(t,e);const n=y.querySelector("[data-keys-popover]",t),i=y.querySelector("[data-dropdown-trigger]",t);n&&((s=n.hidePopover)==null||s.call(n)),i&&i.setAttribute("aria-expanded","false"),this.dispatchDropdownEvent(t,"dropdown:close")}closeSubmenu(t){var s;const e=this.getState(t);if(!e||!e.isOpen)return;this.closeChildSubmenus(t),e.isOpen=!1,e.focusedIndex=-1,this.setState(t,e);const n=y.querySelector("[data-keys-popover]",t),i=y.querySelector("[data-submenu-trigger]",t);n&&((s=n.hidePopover)==null||s.call(n)),i&&i.setAttribute("aria-expanded","false"),this.dispatchDropdownEvent(t,"submenu:close")}closeAllDropdowns(){this.getAllStates().forEach((t,e)=>{t.isOpen&&(t.parent||this.closeDropdown(e))})}closeSiblingDropdowns(t){const e=this.getState(t);this.getAllStates().forEach((n,i)=>{if(i!==t&&n.isOpen){const s=(e==null?void 0:e.parent)===i,a=n.parent===t;!s&&!a&&this.closeDropdown(i)}})}closeSiblingSubmenus(t){const e=this.getState(t),n=e==null?void 0:e.parent;if(n){const i=this.getState(n);i==null||i.children.forEach(s=>{s!==t&&this.closeSubmenu(s)})}}closeChildSubmenus(t){const e=this.getState(t);e==null||e.children.forEach(n=>{this.closeSubmenu(n)})}toggleSubmenu(t){const e=this.getState(t);e&&(e.isOpen?this.closeSubmenu(t):this.openSubmenu(t))}isMobile(){return window.innerWidth<768||"ontouchstart"in window}handleKeydown(t,e){const n=this.getState(t);if(n)switch(e.key){case"Enter":case" ":if(!n.isOpen)e.preventDefault(),this.openDropdown(t);else if(n.focusedIndex>=0){e.preventDefault();const i=n.menuItems[n.focusedIndex];i&&i.click()}break;case"Escape":if(n.isOpen){e.preventDefault(),this.closeDropdown(t);const i=y.querySelector("[data-dropdown-trigger]",t);i&&i.focus()}break;case"ArrowDown":n.isOpen?(e.preventDefault(),this.navigateItems(t,1)):(e.preventDefault(),this.openDropdown(t));break;case"ArrowUp":n.isOpen&&(e.preventDefault(),this.navigateItems(t,-1));break;case"Tab":n.isOpen&&this.closeDropdown(t);break}}navigateItems(t,e){const n=this.getState(t);if(!n||!n.isOpen)return;const i=n.menuItems.length;i!==0&&(n.focusedIndex===-1?n.focusedIndex=e>0?0:i-1:(n.focusedIndex+=e,n.focusedIndex>=i?n.focusedIndex=0:n.focusedIndex<0&&(n.focusedIndex=i-1)),this.setState(t,n),this.updateItemFocus(t))}updateItemFocus(t){const e=this.getState(t);e&&e.menuItems.forEach((n,i)=>{i===e.focusedIndex?(n.classList.add("bg-neutral-100","dark:bg-neutral-800"),n.scrollIntoView({block:"nearest"})):n.classList.remove("bg-neutral-100","dark:bg-neutral-800")})}updateMenuItems(t){const e=this.getState(t);if(!e)return;const n=y.querySelectorAll("[data-menu-item], [data-menu-checkbox], [data-menu-radio], [data-submenu-trigger]",t);e.menuItems=Array.from(n).filter(i=>{const s=i;return!s.hasAttribute("disabled")&&s.offsetParent!==null}),this.setState(t,e)}setupFloating(t,e,n){const i=this.getState(t);if(!i)return;i.floating&&i.floating.cleanup();const s=t.dataset.position||"bottom",a=t.dataset.align||"start",o=parseInt(t.dataset.offset||"8");let l=s;s==="bottom"||s==="top"?a==="start"?l=`${s}-start`:a==="end"&&(l=`${s}-end`):(s==="left"||s==="right")&&(a==="start"?l=`${s}-start`:a==="end"&&(l=`${s}-end`));const c=FloatingManager.getInstance().createFloating(e,n,{placement:l,offset:o,flip:{fallbackStrategy:"bestFit",padding:8},shift:{padding:8,crossAxis:!0},hide:{strategy:"escaped"},autoUpdate:{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0}});i.floating=c,this.setState(t,i)}isDisabled(t){return t.dataset.disabled==="true"}dispatchDropdownEvent(t,e,n=null){D.dispatchCustomEvent(t,e,{dropdown:t,...n},{bubbles:!0})}onDestroy(){}}Ns.getInstance();class Un extends G{initializeElements(){y.findByDataAttribute("table","true").forEach(t=>{this.initializeTable(t)}),this.setupLivewireIntegration()}initializeTable(t){var i;if(this.hasState(t))return;const e={selectedRows:new Set,sortColumn:null,sortDirection:null,selectAllState:"none"};this.setState(t,e);const n=y.querySelector('[data-sorted="true"]',t);if(n){const s=n.getAttribute("data-sort-key")||((i=n.textContent)==null?void 0:i.trim())||"",a=n.getAttribute("data-direction");e.sortColumn=s,e.sortDirection=a}this.updateSelectionState(t)}bindEventListeners(){D.handleDelegatedClick('[data-sortable="true"]',(t,e)=>{e.preventDefault(),this.handleSort(t)}),D.handleDelegatedChange("[data-table-row-select]",t=>{this.handleRowSelection(t)}),D.handleDelegatedChange("[data-table-select-all]",t=>{this.handleSelectAll(t)}),D.handleDelegatedKeydown('[data-table="true"]',(t,e)=>{this.handleKeyboard(e)})}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"table","true")&&this.initializeTable(n),y.findByDataAttribute("table","true",n).forEach(i=>{this.initializeTable(i)})}})})}setupLivewireIntegration(){typeof window.Livewire>"u"||D.addEventListener(document,"livewire:navigated",()=>{this.reinitialize()})}handleSort(t){var a;const e=y.findClosest(t,'[data-table="true"]');if(!e)return;const n=this.getState(e);if(!n)return;const i=t.getAttribute("data-sort-key")||((a=t.textContent)==null?void 0:a.trim())||"";let s="asc";n.sortColumn===i&&(n.sortDirection==="asc"?s="desc":n.sortDirection==="desc"&&(s=null)),n.sortColumn=s?i:null,n.sortDirection=s,this.updateSortUI(e,i,s),this.dispatchSortEvent(e,{column:i,direction:s||"asc",url:t.getAttribute("data-sort-url")||void 0,livewireMethod:t.getAttribute("data-sort-method")||void 0})}updateSortUI(t,e,n){if(y.querySelectorAll('[data-sortable="true"]',t).forEach(s=>{s.setAttribute("data-sorted","false"),s.removeAttribute("data-direction"),y.querySelectorAll(".table-sort-icon",s).forEach(o=>{o.setAttribute("data-icon","heroicon-o-chevron-up-down"),o.classList.remove("opacity-100"),o.classList.add("opacity-0","group-hover:opacity-100")})}),n){const s=t.querySelector(`[data-sort-key="${e}"]`);if(s){s.setAttribute("data-sorted","true"),s.setAttribute("data-direction",n);const a=y.querySelector(".table-sort-icon",s);if(a){const o=n==="asc"?"heroicon-o-chevron-up":"heroicon-o-chevron-down";a.setAttribute("data-icon",o),a.classList.remove("opacity-0","group-hover:opacity-100"),a.classList.add("opacity-100")}}}}handleRowSelection(t){const e=y.findClosest(t,'[data-table="true"]');if(!e)return;const n=this.getState(e);if(!n)return;const i=t.getAttribute("data-row-id");i&&(t.checked?n.selectedRows.add(i):n.selectedRows.delete(i),this.updateSelectionState(e),this.dispatchSelectionEvent(e,Array.from(n.selectedRows)))}handleSelectAll(t){const e=y.findClosest(t,'[data-table="true"]');if(!e)return;const n=this.getState(e);if(!n)return;const i=y.querySelectorAll("[data-table-row-select]",e);t.checked?i.forEach(s=>{s.checked=!0;const a=s.getAttribute("data-row-id");a&&n.selectedRows.add(a)}):i.forEach(s=>{s.checked=!1;const a=s.getAttribute("data-row-id");a&&n.selectedRows.delete(a)}),this.updateSelectionState(e),this.dispatchSelectionEvent(e,Array.from(n.selectedRows))}updateSelectionState(t){const e=this.getState(t);if(!e)return;const n=y.querySelectorAll("[data-table-row-select]",t),i=y.querySelector("[data-table-select-all]",t),s=n.length,a=e.selectedRows.size;a===0?(e.selectAllState="none",i&&(i.checked=!1,i.indeterminate=!1)):a===s?(e.selectAllState="all",i&&(i.checked=!0,i.indeterminate=!1)):(e.selectAllState="some",i&&(i.checked=!1,i.indeterminate=!0)),y.querySelectorAll("[data-table-row]",t).forEach(l=>{const c=l.getAttribute("data-row-id");c&&e.selectedRows.has(c)?(l.setAttribute("data-selected","true"),l.classList.add("table-row-selected")):(l.setAttribute("data-selected","false"),l.classList.remove("table-row-selected"))})}handleKeyboard(t){const e=t.target;t.key===" "&&e.matches('[data-sortable="true"]')&&(t.preventDefault(),this.handleSort(e)),t.key==="Enter"&&e.matches('[data-sortable="true"]')&&(t.preventDefault(),this.handleSort(e))}dispatchSortEvent(t,e){if(D.dispatchCustomEvent(t,"table:sort",e,{bubbles:!0,cancelable:!0}),e.livewireMethod&&window.Livewire){const n=t.getAttribute("wire:id");if(n){const i=window.Livewire.find(n);i&&i.call(e.livewireMethod,e.column,e.direction)}}}dispatchSelectionEvent(t,e){D.dispatchCustomEvent(t,"table:selection",{selectedIds:e},{bubbles:!0,cancelable:!0});const n=t.getAttribute("data-selection-method");if(n&&window.Livewire){const i=t.getAttribute("wire:id");if(i){const s=window.Livewire.find(i);s&&s.call(n,e)}}}reinitialize(){this.clearAllStates(),this.initializeElements()}getSelectedRows(t){const e=this.getState(t);return e?Array.from(e.selectedRows):[]}clearSelection(t){const e=this.getState(t);e&&(e.selectedRows.clear(),this.updateSelectionState(t),this.dispatchSelectionEvent(t,[]))}onDestroy(){}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Un.getInstance().init()}):Un.getInstance().init(),window.TableActions=Un,Un.getInstance();class Ms extends G{initializeElements(){this.processButtonGroups()}processButtonGroups(){y.findByDataAttribute("button-group","true").filter(e=>y.hasDataAttribute(e,"attached","true")).forEach(e=>this.processButtonGroup(e))}bindEventListeners(){}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"button-group","true")&&y.hasDataAttribute(n,"attached","true")&&this.processButtonGroup(n),y.findByDataAttribute("button-group","true",n).filter(s=>y.hasDataAttribute(s,"attached","true")).forEach(s=>this.processButtonGroup(s))}})})}processButtonGroup(t){const e=t.getAttribute("data-orientation")||"horizontal",n=Array.from(t.children).filter(i=>i.tagName==="BUTTON"||i.tagName==="A");n.length<=1||n.forEach((i,s)=>{const a=s===0,o=s===n.length-1,l=!a&&!o;this.clearBorderRadiusClasses(i),e==="horizontal"?a?i.classList.add("rounded-r-none"):o?i.classList.add("rounded-l-none"):l&&i.classList.add("rounded-none"):e==="vertical"&&(a?i.classList.add("rounded-b-none"):o?i.classList.add("rounded-t-none"):l&&i.classList.add("rounded-none"))})}clearBorderRadiusClasses(t){["rounded-none","rounded-r-none","rounded-l-none","rounded-t-none","rounded-b-none"].forEach(n=>{t.classList.remove(n)})}refresh(){this.processButtonGroups()}processGroup(t){t.matches('[data-button-group="true"][data-attached="true"]')&&this.processButtonGroup(t)}onDestroy(){}}Ms.getInstance();const Qm=["top","right","bottom","left"],he=Math.min,Dt=Math.max,qs=Math.round,_s=Math.floor,_e=r=>({x:r,y:r}),Xm={left:"right",right:"left",bottom:"top",top:"bottom"},Zm={start:"end",end:"start"};function Oo(r,t,e){return Dt(r,he(t,e))}function Sn(r,t){return typeof r=="function"?r(t):r}function Re(r){return r.split("-")[0]}function kr(r){return r.split("-")[1]}function ed(r){return r==="x"?"y":"x"}function No(r){return r==="y"?"height":"width"}const Jm=new Set(["top","bottom"]);function ze(r){return Jm.has(Re(r))?"y":"x"}function Mo(r){return ed(ze(r))}function tb(r,t,e){e===void 0&&(e=!1);const n=kr(r),i=Mo(r),s=No(i);let a=i==="x"?n===(e?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Rs(a)),[a,Rs(a)]}function eb(r){const t=Rs(r);return[qo(r),t,qo(t)]}function qo(r){return r.replace(/start|end/g,t=>Zm[t])}const nd=["left","right"],rd=["right","left"],nb=["top","bottom"],rb=["bottom","top"];function ib(r,t,e){switch(r){case"top":case"bottom":return e?t?rd:nd:t?nd:rd;case"left":case"right":return t?nb:rb;default:return[]}}function sb(r,t,e,n){const i=kr(r);let s=ib(Re(r),e==="start",n);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(qo)))),s}function Rs(r){return r.replace(/left|right|bottom|top/g,t=>Xm[t])}function ab(r){return{top:0,right:0,bottom:0,left:0,...r}}function _o(r){return typeof r!="number"?ab(r):{top:r,right:r,bottom:r,left:r}}function Sr(r){const{x:t,y:e,width:n,height:i}=r;return{width:n,height:i,top:e,left:t,right:t+n,bottom:e+i,x:t,y:e}}function id(r,t,e){let{reference:n,floating:i}=r;const s=ze(t),a=Mo(t),o=No(a),l=Re(t),c=s==="y",u=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:u,y:n.y-i.height};break;case"bottom":p={x:u,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(kr(t)){case"start":p[a]-=f*(e&&c?-1:1);break;case"end":p[a]+=f*(e&&c?-1:1);break}return p}const ob=async(r,t,e)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=e,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:r,floating:t,strategy:i}),{x:u,y:h}=id(c,n,l),f=n,p={},m=0;for(let b=0;b<o.length;b++){const{name:w,fn:v}=o[b],{x:k,y:A,data:E,reset:T}=await v({x:u,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:c,platform:a,elements:{reference:r,floating:t}});u=k??u,h=A??h,p={...p,[w]:{...p[w],...E}},T&&m<=50&&(m++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(c=T.rects===!0?await a.getElementRects({reference:r,floating:t,strategy:i}):T.rects),{x:u,y:h}=id(c,f,l)),b=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:p}};async function mi(r,t){var e;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=r,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Sn(t,r),m=_o(p),w=o[f?h==="floating"?"reference":"floating":h],v=Sr(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(w)))==null||e?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),k=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},T=Sr(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:k,offsetParent:A,strategy:l}):k);return{top:(v.top-T.top+m.top)/E.y,bottom:(T.bottom-v.bottom+m.bottom)/E.y,left:(v.left-T.left+m.left)/E.x,right:(T.right-v.right+m.right)/E.x}}const lb=r=>({name:"arrow",options:r,async fn(t){const{x:e,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=Sn(r,t)||{};if(c==null)return{};const h=_o(u),f={x:e,y:n},p=Mo(i),m=No(p),b=await a.getDimensions(c),w=p==="y",v=w?"top":"left",k=w?"bottom":"right",A=w?"clientHeight":"clientWidth",E=s.reference[m]+s.reference[p]-f[p]-s.floating[m],T=f[p]-s.reference[p],M=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let N=M?M[A]:0;(!N||!await(a.isElement==null?void 0:a.isElement(M)))&&(N=o.floating[A]||s.floating[m]);const S=E/2-T/2,C=N/2-b[m]/2-1,q=he(h[v],C),O=he(h[k],C),F=q,Z=N-b[m]-O,U=N/2-b[m]/2+S,dt=Oo(F,U,Z),at=!l.arrow&&kr(i)!=null&&U!==dt&&s.reference[m]/2-(U<F?q:O)-b[m]/2<0,kt=at?U<F?U-F:U-Z:0;return{[p]:f[p]+kt,data:{[p]:dt,centerOffset:U-dt-kt,...at&&{alignmentOffset:kt}},reset:at}}}),cb=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var e,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:b=!0,...w}=Sn(r,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const v=Re(i),k=ze(o),A=Re(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=f||(A||!b?[Rs(o)]:eb(o)),M=m!=="none";!f&&M&&T.push(...sb(o,b,m,E));const N=[o,...T],S=await mi(t,w),C=[];let q=((n=s.flip)==null?void 0:n.overflows)||[];if(u&&C.push(S[v]),h){const U=tb(i,a,E);C.push(S[U[0]],S[U[1]])}if(q=[...q,{placement:i,overflows:C}],!C.every(U=>U<=0)){var O,F;const U=(((O=s.flip)==null?void 0:O.index)||0)+1,dt=N[U];if(dt&&(!(h==="alignment"?k!==ze(dt):!1)||q.every(ht=>ze(ht.placement)===k?ht.overflows[0]>0:!0)))return{data:{index:U,overflows:q},reset:{placement:dt}};let at=(F=q.filter(kt=>kt.overflows[0]<=0).sort((kt,ht)=>kt.overflows[1]-ht.overflows[1])[0])==null?void 0:F.placement;if(!at)switch(p){case"bestFit":{var Z;const kt=(Z=q.filter(ht=>{if(M){const St=ze(ht.placement);return St===k||St==="y"}return!0}).map(ht=>[ht.placement,ht.overflows.filter(St=>St>0).reduce((St,V)=>St+V,0)]).sort((ht,St)=>ht[1]-St[1])[0])==null?void 0:Z[0];kt&&(at=kt);break}case"initialPlacement":at=o;break}if(i!==at)return{reset:{placement:at}}}return{}}}};function sd(r,t){return{top:r.top-t.height,right:r.right-t.width,bottom:r.bottom-t.height,left:r.left-t.width}}function ad(r){return Qm.some(t=>r[t]>=0)}const ub=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(t){const{rects:e}=t,{strategy:n="referenceHidden",...i}=Sn(r,t);switch(n){case"referenceHidden":{const s=await mi(t,{...i,elementContext:"reference"}),a=sd(s,e.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:ad(a)}}}case"escaped":{const s=await mi(t,{...i,altBoundary:!0}),a=sd(s,e.floating);return{data:{escapedOffsets:a,escaped:ad(a)}}}default:return{}}}}};function od(r){const t=he(...r.map(s=>s.left)),e=he(...r.map(s=>s.top)),n=Dt(...r.map(s=>s.right)),i=Dt(...r.map(s=>s.bottom));return{x:t,y:e,width:n-t,height:i-e}}function db(r){const t=r.slice().sort((i,s)=>i.y-s.y),e=[];let n=null;for(let i=0;i<t.length;i++){const s=t[i];!n||s.y-n.y>n.height/2?e.push([s]):e[e.length-1].push(s),n=s}return e.map(i=>Sr(od(i)))}const hb=function(r){return r===void 0&&(r={}),{name:"inline",options:r,async fn(t){const{placement:e,elements:n,rects:i,platform:s,strategy:a}=t,{padding:o=2,x:l,y:c}=Sn(r,t),u=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(n.reference))||[]),h=db(u),f=Sr(od(u)),p=_o(o);function m(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&c!=null)return h.find(w=>l>w.left-p.left&&l<w.right+p.right&&c>w.top-p.top&&c<w.bottom+p.bottom)||f;if(h.length>=2){if(ze(e)==="y"){const q=h[0],O=h[h.length-1],F=Re(e)==="top",Z=q.top,U=O.bottom,dt=F?q.left:O.left,at=F?q.right:O.right,kt=at-dt,ht=U-Z;return{top:Z,bottom:U,left:dt,right:at,width:kt,height:ht,x:dt,y:Z}}const w=Re(e)==="left",v=Dt(...h.map(q=>q.right)),k=he(...h.map(q=>q.left)),A=h.filter(q=>w?q.left===k:q.right===v),E=A[0].top,T=A[A.length-1].bottom,M=k,N=v,S=N-M,C=T-E;return{top:E,bottom:T,left:M,right:N,width:S,height:C,x:M,y:E}}return f}const b=await s.getElementRects({reference:{getBoundingClientRect:m},floating:n.floating,strategy:a});return i.reference.x!==b.reference.x||i.reference.y!==b.reference.y||i.reference.width!==b.reference.width||i.reference.height!==b.reference.height?{reset:{rects:b}}:{}}}},fb=new Set(["left","top"]);async function pb(r,t){const{placement:e,platform:n,elements:i}=r,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Re(e),o=kr(e),l=ze(e)==="y",c=fb.has(a)?-1:1,u=s&&l?-1:1,h=Sn(t,r);let{mainAxis:f,crossAxis:p,alignmentAxis:m}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof m=="number"&&(p=o==="end"?m*-1:m),l?{x:p*u,y:f*c}:{x:f*c,y:p*u}}const gb=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var e,n;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await pb(t,r);return a===((e=o.offset)==null?void 0:e.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},mb=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:e,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:v,y:k}=w;return{x:v,y:k}}},...l}=Sn(r,t),c={x:e,y:n},u=await mi(t,l),h=ze(Re(i)),f=ed(h);let p=c[f],m=c[h];if(s){const w=f==="y"?"top":"left",v=f==="y"?"bottom":"right",k=p+u[w],A=p-u[v];p=Oo(k,p,A)}if(a){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",k=m+u[w],A=m-u[v];m=Oo(k,m,A)}const b=o.fn({...t,[f]:p,[h]:m});return{...b,data:{x:b.x-e,y:b.y-n,enabled:{[f]:s,[h]:a}}}}}},bb=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){var e,n;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...c}=Sn(r,t),u=await mi(t,c),h=Re(i),f=kr(i),p=ze(i)==="y",{width:m,height:b}=s.floating;let w,v;h==="top"||h==="bottom"?(w=h,v=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=h,w=f==="end"?"top":"bottom");const k=b-u.top-u.bottom,A=m-u.left-u.right,E=he(b-u[w],k),T=he(m-u[v],A),M=!t.middlewareData.shift;let N=E,S=T;if((e=t.middlewareData.shift)!=null&&e.enabled.x&&(S=A),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=k),M&&!f){const q=Dt(u.left,0),O=Dt(u.right,0),F=Dt(u.top,0),Z=Dt(u.bottom,0);p?S=m-2*(q!==0||O!==0?q+O:Dt(u.left,u.right)):N=b-2*(F!==0||Z!==0?F+Z:Dt(u.top,u.bottom))}await l({...t,availableWidth:S,availableHeight:N});const C=await a.getDimensions(o.floating);return m!==C.width||b!==C.height?{reset:{rects:!0}}:{}}}};function zs(){return typeof window<"u"}function Ar(r){return ld(r)?(r.nodeName||"").toLowerCase():"#document"}function Gt(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function Be(r){var t;return(t=(ld(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function ld(r){return zs()?r instanceof Node||r instanceof Gt(r).Node:!1}function fe(r){return zs()?r instanceof Element||r instanceof Gt(r).Element:!1}function Pe(r){return zs()?r instanceof HTMLElement||r instanceof Gt(r).HTMLElement:!1}function cd(r){return!zs()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Gt(r).ShadowRoot}const yb=new Set(["inline","contents"]);function bi(r){const{overflow:t,overflowX:e,overflowY:n,display:i}=pe(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!yb.has(i)}const vb=new Set(["table","td","th"]);function wb(r){return vb.has(Ar(r))}const xb=[":popover-open",":modal"];function Bs(r){return xb.some(t=>{try{return r.matches(t)}catch{return!1}})}const kb=["transform","translate","scale","rotate","perspective"],Sb=["transform","translate","scale","rotate","perspective","filter"],Ab=["paint","layout","strict","content"];function Ro(r){const t=zo(),e=fe(r)?pe(r):r;return kb.some(n=>e[n]?e[n]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||Sb.some(n=>(e.willChange||"").includes(n))||Ab.some(n=>(e.contain||"").includes(n))}function Eb(r){let t=An(r);for(;Pe(t)&&!Er(t);){if(Ro(t))return t;if(Bs(t))return null;t=An(t)}return null}function zo(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Cb=new Set(["html","body","#document"]);function Er(r){return Cb.has(Ar(r))}function pe(r){return Gt(r).getComputedStyle(r)}function Ps(r){return fe(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function An(r){if(Ar(r)==="html")return r;const t=r.assignedSlot||r.parentNode||cd(r)&&r.host||Be(r);return cd(t)?t.host:t}function ud(r){const t=An(r);return Er(t)?r.ownerDocument?r.ownerDocument.body:r.body:Pe(t)&&bi(t)?t:ud(t)}function yi(r,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=ud(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),a=Gt(i);if(s){const o=Bo(a);return t.concat(a,a.visualViewport||[],bi(i)?i:[],o&&e?yi(o):[])}return t.concat(i,yi(i,[],e))}function Bo(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function dd(r){const t=pe(r);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Pe(r),s=i?r.offsetWidth:e,a=i?r.offsetHeight:n,o=qs(e)!==s||qs(n)!==a;return o&&(e=s,n=a),{width:e,height:n,$:o}}function Po(r){return fe(r)?r:r.contextElement}function Cr(r){const t=Po(r);if(!Pe(t))return _e(1);const e=t.getBoundingClientRect(),{width:n,height:i,$:s}=dd(t);let a=(s?qs(e.width):e.width)/n,o=(s?qs(e.height):e.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Tb=_e(0);function hd(r){const t=Gt(r);return!zo()||!t.visualViewport?Tb:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Lb(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==Gt(r)?!1:t}function Vn(r,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=r.getBoundingClientRect(),s=Po(r);let a=_e(1);t&&(n?fe(n)&&(a=Cr(n)):a=Cr(r));const o=Lb(s,e,n)?hd(s):_e(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(s){const f=Gt(s),p=n&&fe(n)?Gt(n):n;let m=f,b=Bo(m);for(;b&&n&&p!==m;){const w=Cr(b),v=b.getBoundingClientRect(),k=pe(b),A=v.left+(b.clientLeft+parseFloat(k.paddingLeft))*w.x,E=v.top+(b.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=A,c+=E,m=Gt(b),b=Bo(m)}}return Sr({width:u,height:h,x:l,y:c})}function $s(r,t){const e=Ps(r).scrollLeft;return t?t.left+e:Vn(Be(r)).left+e}function fd(r,t){const e=r.getBoundingClientRect(),n=e.left+t.scrollLeft-$s(r,e),i=e.top+t.scrollTop;return{x:n,y:i}}function Db(r){let{elements:t,rect:e,offsetParent:n,strategy:i}=r;const s=i==="fixed",a=Be(n),o=t?Bs(t.floating):!1;if(n===a||o&&s)return e;let l={scrollLeft:0,scrollTop:0},c=_e(1);const u=_e(0),h=Pe(n);if((h||!h&&!s)&&((Ar(n)!=="body"||bi(a))&&(l=Ps(n)),Pe(n))){const p=Vn(n);c=Cr(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}const f=a&&!h&&!s?fd(a,l):_e(0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:e.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Ib(r){return Array.from(r.getClientRects())}function Ob(r){const t=Be(r),e=Ps(r),n=r.ownerDocument.body,i=Dt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Dt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-e.scrollLeft+$s(r);const o=-e.scrollTop;return pe(n).direction==="rtl"&&(a+=Dt(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const pd=25;function Nb(r,t){const e=Gt(r),n=Be(r),i=e.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=zo();(!u||u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=$s(n);if(c<=0){const u=n.ownerDocument,h=u.body,f=getComputedStyle(h),p=u.compatMode==="CSS1Compat"&&parseFloat(f.marginLeft)+parseFloat(f.marginRight)||0,m=Math.abs(n.clientWidth-h.clientWidth-p);m<=pd&&(s-=m)}else c<=pd&&(s+=c);return{width:s,height:a,x:o,y:l}}const Mb=new Set(["absolute","fixed"]);function qb(r,t){const e=Vn(r,!0,t==="fixed"),n=e.top+r.clientTop,i=e.left+r.clientLeft,s=Pe(r)?Cr(r):_e(1),a=r.clientWidth*s.x,o=r.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function gd(r,t,e){let n;if(t==="viewport")n=Nb(r,e);else if(t==="document")n=Ob(Be(r));else if(fe(t))n=qb(t,e);else{const i=hd(r);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Sr(n)}function md(r,t){const e=An(r);return e===t||!fe(e)||Er(e)?!1:pe(e).position==="fixed"||md(e,t)}function _b(r,t){const e=t.get(r);if(e)return e;let n=yi(r,[],!1).filter(o=>fe(o)&&Ar(o)!=="body"),i=null;const s=pe(r).position==="fixed";let a=s?An(r):r;for(;fe(a)&&!Er(a);){const o=pe(a),l=Ro(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Mb.has(i.position)||bi(a)&&!l&&md(r,a))?n=n.filter(u=>u!==a):i=o,a=An(a)}return t.set(r,n),n}function Rb(r){let{element:t,boundary:e,rootBoundary:n,strategy:i}=r;const a=[...e==="clippingAncestors"?Bs(t)?[]:_b(t,this._c):[].concat(e),n],o=a[0],l=a.reduce((c,u)=>{const h=gd(t,u,i);return c.top=Dt(h.top,c.top),c.right=he(h.right,c.right),c.bottom=he(h.bottom,c.bottom),c.left=Dt(h.left,c.left),c},gd(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function zb(r){const{width:t,height:e}=dd(r);return{width:t,height:e}}function Bb(r,t,e){const n=Pe(t),i=Be(t),s=e==="fixed",a=Vn(r,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=_e(0);function c(){l.x=$s(i)}if(n||!n&&!s)if((Ar(t)!=="body"||bi(i))&&(o=Ps(t)),n){const p=Vn(t,!0,s,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();s&&!n&&i&&c();const u=i&&!n&&!s?fd(i,o):_e(0),h=a.left+o.scrollLeft-l.x-u.x,f=a.top+o.scrollTop-l.y-u.y;return{x:h,y:f,width:a.width,height:a.height}}function $o(r){return pe(r).position==="static"}function bd(r,t){if(!Pe(r)||pe(r).position==="fixed")return null;if(t)return t(r);let e=r.offsetParent;return Be(r)===e&&(e=e.ownerDocument.body),e}function yd(r,t){const e=Gt(r);if(Bs(r))return e;if(!Pe(r)){let i=An(r);for(;i&&!Er(i);){if(fe(i)&&!$o(i))return i;i=An(i)}return e}let n=bd(r,t);for(;n&&wb(n)&&$o(n);)n=bd(n,t);return n&&Er(n)&&$o(n)&&!Ro(n)?e:n||Eb(r)||e}const Pb=async function(r){const t=this.getOffsetParent||yd,e=this.getDimensions,n=await e(r.floating);return{reference:Bb(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function $b(r){return pe(r).direction==="rtl"}const jb={convertOffsetParentRelativeRectToViewportRelativeRect:Db,getDocumentElement:Be,getClippingRect:Rb,getOffsetParent:yd,getElementRects:Pb,getClientRects:Ib,getDimensions:zb,getScale:Cr,isElement:fe,isRTL:$b};function vd(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function Fb(r,t){let e=null,n;const i=Be(r);function s(){var o;clearTimeout(n),(o=e)==null||o.disconnect(),e=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=r.getBoundingClientRect(),{left:u,top:h,width:f,height:p}=c;if(o||t(),!f||!p)return;const m=_s(h),b=_s(i.clientWidth-(u+f)),w=_s(i.clientHeight-(h+p)),v=_s(u),A={rootMargin:-m+"px "+-b+"px "+-w+"px "+-v+"px",threshold:Dt(0,he(1,l))||1};let E=!0;function T(M){const N=M[0].intersectionRatio;if(N!==l){if(!E)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!vd(c,r.getBoundingClientRect())&&a(),E=!1}try{e=new IntersectionObserver(T,{...A,root:i.ownerDocument})}catch{e=new IntersectionObserver(T,A)}e.observe(r)}return a(!0),s}function Hb(r,t,e,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Po(r),u=i||s?[...c?yi(c):[],...yi(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",e,{passive:!0}),s&&v.addEventListener("resize",e)});const h=c&&o?Fb(c,e):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[k]=v;k&&k.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(t)})),e()}),c&&!l&&p.observe(c),p.observe(t));let m,b=l?Vn(r):null;l&&w();function w(){const v=Vn(r);b&&!vd(b,v)&&e(),b=v,m=requestAnimationFrame(w)}return e(),()=>{var v;u.forEach(k=>{i&&k.removeEventListener("scroll",e),s&&k.removeEventListener("resize",e)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const wd=gb,Ub=mb,Vb=cb,Yb=bb,Wb=ub,Gb=lb,Kb=hb,Qb=(r,t,e)=>{const n=new Map,i={platform:jb,...e},s={...i.platform,_c:n};return ob(r,t,{...i,platform:s})};let jo=class ks{constructor(){this.floatingElements=new Map,this.bindEvents()}static getInstance(){return ks.instance||(ks.instance=new ks),ks.instance}createFloating(t,e,n={}){if(n.useFloating===!1)return this.createFallbackFloating(t,e,n);const i=this.generateFloatingId(),s=[];if(n.offset!==void 0?s.push(wd(n.offset)):s.push(wd(8)),n.inline){const h=typeof n.inline=="object"?n.inline:{};s.push(Kb(h))}if(n.flip!==!1){const h=typeof n.flip=="object"?n.flip:{};s.push(Vb({boundary:h.boundary||n.boundary,rootBoundary:h.rootBoundary||n.rootBoundary||"viewport",fallbackPlacements:h.fallbackPlacements||this.getFallbackPlacements(n.placement||"bottom"),fallbackStrategy:h.fallbackStrategy||n.fallbackStrategy||"bestFit",padding:h.padding||8}))}if(n.shift!==!1){const h=typeof n.shift=="object"?n.shift:{};s.push(Ub({boundary:h.boundary||n.boundary,rootBoundary:h.rootBoundary||n.rootBoundary||"viewport",padding:h.padding||8,limiter:h.limiter,crossAxis:h.crossAxis!==!1}))}if(n.size){const h=typeof n.size=="object"?n.size:{};s.push(Yb({boundary:h.boundary||n.boundary,rootBoundary:h.rootBoundary||n.rootBoundary||"viewport",padding:h.padding||8,apply:h.apply||(({availableWidth:f,availableHeight:p})=>{Object.assign(e.style,{maxWidth:`${f}px`,maxHeight:`${p}px`})})}))}if(n.hide!==!1){const h=typeof n.hide=="object"?n.hide:{};s.push(Wb({strategy:h.strategy||"referenceHidden",boundary:h.boundary||n.boundary,rootBoundary:h.rootBoundary||n.rootBoundary||"viewport",padding:h.padding||8}))}n.arrow&&n.arrow!==!0&&s.push(Gb({element:n.arrow}));const a=async()=>{const{x:h,y:f,placement:p,middlewareData:m}=await Qb(t,e,{placement:n.placement||"bottom-start",strategy:n.strategy||"absolute",middleware:s}),b=this.floatingElements.get(i);if(b&&(b.x=h,b.y=f,b.placement=p,b.middlewareData=m),Object.assign(e.style,{left:`${h}px`,top:`${f}px`,position:n.strategy||"absolute"}),e.setAttribute("data-floating-placement",p),m.hide){const{referenceHidden:w,escaped:v}=m.hide;e.style.visibility=w||v?"hidden":"visible"}if(n.arrow&&n.arrow!==!0&&m.arrow){const w=n.arrow,{x:v,y:k}=m.arrow,A={top:"bottom",right:"left",bottom:"top",left:"right"}[p.split("-")[0]];Object.assign(w.style,{left:v!=null?`${v}px`:"",top:k!=null?`${k}px`:"",right:"",bottom:"",[A]:"-4px"})}},o=n.autoUpdate!==!1?typeof n.autoUpdate=="object"?n.autoUpdate:{}:null;let l=null;o&&(l=Hb(t,e,a,{ancestorScroll:o.ancestorScroll!==!1,ancestorResize:o.ancestorResize!==!1,elementResize:o.elementResize!==!1,layoutShift:o.layoutShift!==!1,animationFrame:o.animationFrame===!0}));const u={id:i,trigger:t,floating:e,cleanup:()=>{l&&l(),this.destroyFloating(i)},update:a};return this.floatingElements.set(i,u),a(),u}createFallbackFloating(t,e,n={}){const i=this.generateFloatingId(),s=async()=>{const c=t.getBoundingClientRect(),u=e.getBoundingClientRect();let h=0,f=0;const p=n.placement||"bottom-start",m=typeof n.offset=="number"?n.offset:8;p.startsWith("bottom")?h=c.bottom+m:p.startsWith("top")?h=c.top-u.height-m:p.startsWith("right")?f=c.right+m:p.startsWith("left")&&(f=c.left-u.width-m),p.includes("start")?p.startsWith("top")||p.startsWith("bottom")?f=c.left:h=c.top:p.includes("end")?p.startsWith("top")||p.startsWith("bottom")?f=c.right-u.width:h=c.bottom-u.height:p.startsWith("top")||p.startsWith("bottom")?f=c.left+(c.width-u.width)/2:h=c.top+(c.height-u.height)/2,Object.assign(e.style,{position:"fixed",top:`${h}px`,left:`${f}px`}),e.setAttribute("data-floating-placement",p)},o={id:i,trigger:t,floating:e,cleanup:()=>{this.destroyFloating(i)},update:s};this.floatingElements.set(i,o),s();const l=()=>s();return window.addEventListener("resize",l),window.addEventListener("scroll",l,!0),o.cleanup=()=>{window.removeEventListener("resize",l),window.removeEventListener("scroll",l,!0),this.destroyFloating(i)},o}destroyFloating(t){this.floatingElements.get(t)&&this.floatingElements.delete(t)}destroyAllFloating(){this.floatingElements.forEach(t=>{t.cleanup()}),this.floatingElements.clear()}getFloating(t){return this.floatingElements.get(t)}async updateAllFloating(){const t=Array.from(this.floatingElements.values()).map(e=>e.update());await Promise.all(t)}generateFloatingId(){return`floating-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}getFallbackPlacements(t){return{bottom:["top","bottom-end","bottom-start"],"bottom-start":["top-start","bottom-end","bottom"],"bottom-end":["top-end","bottom-start","bottom"],top:["bottom","top-end","top-start"],"top-start":["bottom-start","top-end","top"],"top-end":["bottom-end","top-start","top"],right:["left","right-end","right-start"],"right-start":["left-start","right-end","right"],"right-end":["left-end","right-start","right"],left:["right","left-end","left-start"],"left-start":["right-start","left-end","left"],"left-end":["right-end","left-start","left"]}[t]||["bottom","top","right","left"]}bindEvents(){window.addEventListener("beforeunload",()=>{this.destroyAllFloating()}),document.addEventListener("keydown",t=>{t.key})}destroy(){this.destroyAllFloating()}};const Xb=jo.getInstance();class Yn extends G{constructor(){super(...arguments),this.tooltipContainer=null,this.templateRetryTimeouts=new Map}initializeElements(){this.createTooltipContainer(),this.scanForTooltips(),this.setupLivewireIntegration()}createTooltipContainer(){this.tooltipContainer||(this.tooltipContainer=document.createElement("div"),this.tooltipContainer.id="keys-tooltip-container",this.tooltipContainer.className="keys-tooltip-container fixed inset-0 pointer-events-none z-[9999]",document.body.appendChild(this.tooltipContainer))}scanForTooltips(){y.querySelectorAll("[data-tooltip]").forEach(e=>{this.hasState(e)||this.initializeTooltip(e)})}initializeTooltip(t){const e=t.getAttribute("data-tooltip");if(!e||t.getAttribute("data-tooltip-disabled")==="true")return;const n=t.getAttribute("data-tooltip-trigger")||"hover",i=t.getAttribute("data-tooltip-placement")||"top",s=t.getAttribute("data-tooltip-color")||"dark",a=t.getAttribute("data-tooltip-size")||"md",o=parseInt(t.getAttribute("data-tooltip-delay")||"100"),l=t.getAttribute("data-tooltip-arrow")==="true",c=this.getTooltipContent(t,e),u=this.createTooltipElement(t,c,s,a,l),h={element:t,tooltip:u,content:c,trigger:n,placement:i,color:s,size:a,delay:o,isVisible:!1,hasArrow:l,isDisabled:!1};this.setState(t,h),this.bindTooltipEvents(t,h),t.setAttribute("aria-describedby",u.id)}getTooltipContent(t,e){if(e==="template"){const n=t.getAttribute("data-tooltip-template-id");if(n){const i=this.findTemplate(n);return i&&i.content&&i.content.childNodes.length>0?i.content.cloneNode(!0):(this.scheduleTemplateRetry(t,n),"Loading rich content...")}else return"Template ID missing"}return e}findTemplate(t){let e=y.getElementById(t);if(e&&e.tagName==="TEMPLATE")return e;try{if(e=document.querySelector(`template[id="${t}"]`),e&&e.tagName==="TEMPLATE")return e}catch{}const n=document.querySelectorAll('template[data-tooltip-template="true"]');for(const i of n)if(i.id===t)return i;return null}scheduleTemplateRetry(t,e){this.templateRetryTimeouts.has(t)||this.templateRetryTimeouts.set(t,[]);const n=this.templateRetryTimeouts.get(t),i=window.setTimeout(()=>{const s=this.findTemplate(e);if(s&&s.content&&s.content.childNodes.length>0){const a=s.content.cloneNode(!0);this.updateTooltipContent(t,a),this.clearTemplateRetryTimeouts(t)}else{const a=window.setTimeout(()=>{const o=this.findTemplate(e);if(o&&o.content&&o.content.childNodes.length>0){const l=o.content.cloneNode(!0);this.updateTooltipContent(t,l)}else this.updateTooltipContent(t,"Rich content unavailable");this.clearTemplateRetryTimeouts(t)},200);n.push(a)}},100);n.push(i)}clearTemplateRetryTimeouts(t){const e=this.templateRetryTimeouts.get(t);e&&(e.forEach(n=>clearTimeout(n)),this.templateRetryTimeouts.delete(t))}updateTooltipContent(t,e){const n=this.getState(t);if(n){n.content=e;const i=y.querySelector(".tooltip-content-wrapper",n.tooltip);i&&(i.innerHTML="",typeof e=="string"?i.textContent=e:i.appendChild(e))}}createTooltipElement(t,e,n,i,s){var c;const a=`tooltip-${t.getAttribute("data-tooltip-id")||Date.now()}`,o=document.createElement("div");if(o.id=a,o.className=this.getTooltipClasses(n,i),o.setAttribute("role","tooltip"),o.setAttribute("data-keys-tooltip-element","true"),o.setAttribute("data-tooltip-placement",t.getAttribute("data-tooltip-placement")||"top"),o.setAttribute("data-tooltip-color",n),s){const u=document.createElement("div");u.className=this.getArrowClasses(n),u.setAttribute("data-tooltip-arrow","true"),o.appendChild(u)}const l=document.createElement("div");return l.className="tooltip-content-wrapper",typeof e=="string"?l.textContent=e:l.appendChild(e),o.appendChild(l),o.style.display="none",o.style.position="absolute",o.style.opacity="0",o.style.transform="scale(0.95)",(c=this.tooltipContainer)==null||c.appendChild(o),o}getTooltipClasses(t,e){const n="tooltip-content transition-all duration-200 pointer-events-none",i={sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"}[e]||"px-3 py-2 text-sm",s={dark:"bg-neutral-900 text-white border border-neutral-700 dark:bg-neutral-800 dark:border-neutral-600",light:"bg-surface text-foreground border border-border"}[t]||"bg-neutral-900 text-white border border-neutral-700 dark:bg-neutral-800 dark:border-neutral-600";return`${n} ${i} ${s}`}getArrowClasses(t){const e="tooltip-arrow absolute w-2 h-2 rotate-45 -z-10",n={dark:"bg-neutral-900 dark:bg-neutral-800",light:"bg-surface"}[t]||"bg-neutral-900 dark:bg-neutral-800";return`${e} ${n}`}bindTooltipEvents(t,e){switch(e.trigger){case"hover":t.addEventListener("mouseenter",()=>this.scheduleShow(t)),t.addEventListener("mouseleave",()=>this.scheduleHide(t)),e.tooltip.addEventListener("mouseenter",()=>this.cancelHide(t)),e.tooltip.addEventListener("mouseleave",()=>this.scheduleHide(t));break;case"click":t.addEventListener("click",n=>{n.preventDefault(),this.toggleTooltip(t)});break;case"focus":t.addEventListener("focus",()=>this.scheduleShow(t)),t.addEventListener("blur",()=>this.scheduleHide(t));break}t.addEventListener("keydown",n=>{n.key==="Escape"&&e.isVisible&&this.hideTooltip(t)})}bindEventListeners(){D.addEventListener(document,"click",t=>{const e=t.target;e&&this.getAllStates().forEach((n,i)=>{n.trigger==="click"&&n.isVisible&&!i.contains(e)&&!n.tooltip.contains(e)&&this.hideTooltip(i)})}),D.addEventListener(document,"scroll",()=>{this.getAllStates().forEach((t,e)=>{t.isVisible&&this.hideTooltip(e)})},{passive:!0}),D.handleResize(()=>{this.getAllStates().forEach((t,e)=>{t.isVisible&&this.positionTooltip(e)})},100)}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;n.hasAttribute("data-tooltip")&&this.initializeTooltip(n),y.querySelectorAll("[data-tooltip]",n).forEach(i=>{this.hasState(i)||this.initializeTooltip(i)})}})})}scheduleShow(t){const e=this.getState(t);!e||e.isDisabled||(this.cancelHide(t),e.showTimer=window.setTimeout(()=>{this.showTooltip(t)},e.delay))}scheduleHide(t){const e=this.getState(t);e&&(this.cancelShow(t),e.hideTimer=window.setTimeout(()=>{this.hideTooltip(t)},100))}cancelShow(t){const e=this.getState(t);e!=null&&e.showTimer&&(clearTimeout(e.showTimer),delete e.showTimer)}cancelHide(t){const e=this.getState(t);e!=null&&e.hideTimer&&(clearTimeout(e.hideTimer),delete e.hideTimer)}showTooltip(t){const e=this.getState(t);!e||e.isVisible||(this.hideAllTooltips(),e.tooltip.style.display="block",this.positionTooltip(t),e.isVisible=!0,requestAnimationFrame(()=>{e.tooltip.style.opacity="1",e.tooltip.style.transform="scale(1)"}),this.dispatchTooltipEvent(t,"tooltip:show"))}hideTooltip(t){const e=this.getState(t);!e||!e.isVisible||(e.floating&&(e.floating.cleanup(),e.floating=void 0),e.tooltip.style.opacity="0",e.tooltip.style.transform="scale(0.95)",setTimeout(()=>{e.tooltip.style.display="none"},200),e.isVisible=!1,this.dispatchTooltipEvent(t,"tooltip:hide"))}toggleTooltip(t){const e=this.getState(t);e&&(e.isVisible?this.hideTooltip(t):this.showTooltip(t))}hideAllTooltips(){this.getAllStates().forEach((t,e)=>{t.isVisible&&this.hideTooltip(e)})}positionTooltip(t){const e=this.getState(t);if(!e)return;e.floating&&e.floating.cleanup();const n=e.hasArrow?y.querySelector("[data-tooltip-arrow]",e.tooltip):void 0,i=jo.getInstance().createFloating(t,e.tooltip,{placement:e.placement,offset:8,flip:{fallbackStrategy:"bestFit",padding:8},shift:{padding:8,crossAxis:!0},arrow:n||void 0,hide:{strategy:"referenceHidden"},autoUpdate:{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0}});e.floating=i}dispatchTooltipEvent(t,e,n={}){D.dispatchCustomEvent(t,e,{element:t,...n},{bubbles:!0,cancelable:!0})}setupLivewireIntegration(){typeof window.Livewire>"u"||(document.addEventListener("livewire:navigated",()=>{this.reinitialize()}),document.addEventListener("livewire:updated",()=>{this.scanForTooltips()}))}reinitialize(){this.hideAllTooltips(),this.clearAllStates(),this.scanForTooltips()}show(t){const e=typeof t=="string"?y.querySelector(t):t;return e&&this.hasState(e)?(this.showTooltip(e),!0):!1}hide(t){const e=typeof t=="string"?y.querySelector(t):t;return e&&this.hasState(e)?(this.hideTooltip(e),!0):!1}toggle(t){const e=typeof t=="string"?y.querySelector(t):t;return e&&this.hasState(e)?(this.toggleTooltip(e),!0):!1}updateContent(t,e){const n=typeof t=="string"?y.querySelector(t):t;return n&&this.hasState(n)&&this.getState(n)?(this.updateTooltipContent(n,e),typeof e=="string"?(n.setAttribute("data-tooltip",e),n.setAttribute("title",e)):(n.setAttribute("data-tooltip","template"),n.removeAttribute("title")),!0):!1}setEnabled(t,e){const n=typeof t=="string"?y.querySelector(t):t;if(n&&this.hasState(n)){const i=this.getState(n);if(i)return i.isDisabled=!e,n.setAttribute("data-tooltip-disabled",e?"false":"true"),!e&&i.isVisible&&this.hideTooltip(n),!0}return!1}onDestroy(){this.getAllStates().forEach(t=>{t.floating&&t.floating.cleanup()}),this.templateRetryTimeouts.forEach((t,e)=>{t.forEach(n=>clearTimeout(n))}),this.templateRetryTimeouts.clear(),this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Yn.getInstance().init()}):Yn.getInstance().init(),window.TooltipActions=Yn,Yn.getInstance();class Wn extends G{initializeElements(){y.querySelectorAll("[data-keys-timepicker]").forEach(t=>{this.initializeTimePicker(t)})}initializeTimePicker(t){if(console.log("🕒 Initializing TimePicker:",t),this.hasState(t)){console.log("🕒 TimePicker already initialized, skipping");return}const e=t.dataset.format||"24",n=t.dataset.showSeconds==="true",i=parseInt(t.dataset.step||"1"),s=t.dataset.minTime||null,a=t.dataset.maxTime||null,o=t.dataset.value||null;console.log("🕒 TimePicker config:",{format:e,showSeconds:n,step:i,minTime:s,maxTime:a,initialValue:o});const l=this.parseTime(o)||this.getCurrentTime(),c={isOpen:!1,format:e,showSeconds:n,hour:l.hour,minute:l.minute,second:l.second,period:l.period||"AM",step:i,minTime:s,maxTime:a,value:o};this.setState(t,c),this.updateDisplay(t),this.updateSelectedStates(t),this.updateClearButtonVisibility(t,o||""),console.log("🕒 TimePicker initialized successfully with state:",c)}bindEventListeners(){D.handleDelegatedClick("[data-timepicker-trigger]",(t,e)=>{console.log("🕒 TimePicker trigger clicked:",t);const n=y.findClosest(t,"[data-keys-timepicker]");if(n&&!this.isDisabled(n)){console.log("🕒 Native popover will handle toggle for:",n);const i=this.getState(n);i&&console.log("🕒 Current TimePicker state:",i)}else console.log("🕒 TimePicker trigger ignored - disabled or not found"),e.preventDefault()}),D.handleDelegatedClick("[data-timepicker-clear]",(t,e)=>{console.log("🕒 TimePicker clear button clicked:",t),e.preventDefault(),e.stopPropagation();const n=y.findClosest(t,"[data-keys-timepicker]");n&&(console.log("🕒 Clearing TimePicker value for:",n),this.clearTime(n))}),D.handleDelegatedClick("[data-timepicker-hour]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]"),i=parseInt(t.dataset.timepickerHour||"0");n&&this.setHour(n,i)}),D.handleDelegatedClick("[data-timepicker-minute]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]"),i=parseInt(t.dataset.timepickerMinute||"0");n&&this.setMinute(n,i)}),D.handleDelegatedClick("[data-timepicker-second]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]"),i=parseInt(t.dataset.timepickerSecond||"0");n&&this.setSecond(n,i)}),D.handleDelegatedClick("[data-timepicker-period]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]"),i=t.dataset.timepickerPeriod;n&&this.setPeriod(n,i)}),D.handleDelegatedClick("[data-timepicker-format]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]"),i=t.dataset.timepickerFormat;n&&this.setFormat(n,i)}),D.handleDelegatedClick("[data-timepicker-now]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]");n&&this.setToCurrentTime(n)}),D.handleDelegatedClick("[data-timepicker-apply]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]");n&&this.applyTime(n)}),D.handleDelegatedClick("[data-timepicker-cancel]",(t,e)=>{e.preventDefault();const n=y.findClosest(t,"[data-keys-timepicker]");n&&this.closeDropdown(n)}),D.addEventListener(document,"click",t=>{const e=t.target;e&&e instanceof Element&&(e.closest("[data-keys-timepicker]")||this.closeAllDropdowns())}),D.handleDelegatedKeydown("[data-keys-timepicker]",(t,e)=>{this.handleKeydown(t,e)})}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;n.matches&&n.matches("[data-keys-timepicker]")&&this.initializeTimePicker(n),y.querySelectorAll("[data-keys-timepicker]",n).forEach(i=>{this.initializeTimePicker(i)})}})})}toggleDropdown(t){const e=this.getState(t);e&&(e.isOpen?this.closeDropdown(t):this.openDropdown(t))}openDropdown(t){const e=this.getState(t);if(!e||this.isDisabled(t))return;this.closeAllDropdowns(),e.isOpen=!0,this.setState(t,e);const n=y.querySelector("[data-timepicker-trigger]",t);n&&n.setAttribute("aria-expanded","true"),this.updateSelectedStates(t),this.scrollToSelectedOptions(t),this.dispatchTimePickerEvent(t,"timepicker:open")}closeDropdown(t){const e=this.getState(t);if(!e)return;e.floating&&(e.floating.cleanup(),e.floating=void 0),e.isOpen=!1,this.setState(t,e);const n=y.querySelector("[data-timepicker-trigger]",t),i=y.querySelector("[data-popover]",t);if(n&&n.setAttribute("aria-expanded","false"),i&&"hidePopover"in i)try{i.hidePopover()}catch{console.log("Fallback: triggering click to close popover"),n&&n.click()}else n&&n.click();this.dispatchTimePickerEvent(t,"timepicker:close")}closeAllDropdowns(){this.getAllStates().forEach((t,e)=>{t.isOpen&&this.closeDropdown(e)})}setHour(t,e){const n=this.getState(t);n&&(n.hour=e,this.setState(t,n),this.updateSelectedStates(t),this.updatePreview(t))}setMinute(t,e){const n=this.getState(t);n&&(n.minute=e,this.setState(t,n),this.updateSelectedStates(t),this.updatePreview(t))}setSecond(t,e){const n=this.getState(t);n&&(n.second=e,this.setState(t,n),this.updateSelectedStates(t),this.updatePreview(t))}setPeriod(t,e){const n=this.getState(t);n&&(n.period=e,this.setState(t,n),this.updateSelectedStates(t),this.updatePreview(t))}convertHourBetweenFormats(t,e,n,i){if(e===n)return{hour:t,period:i};if(e==="24"&&n==="12")return t===0?{hour:12,period:"AM"}:t>=1&&t<=11?{hour:t,period:"AM"}:t===12?{hour:12,period:"PM"}:{hour:t-12,period:"PM"};if(e==="12"&&n==="24"){if(!i)throw new Error("Period (AM/PM) required for 12h to 24h conversion");return i==="AM"?t===12?{hour:0}:{hour:t}:t===12?{hour:12}:{hour:t+12}}return{hour:t,period:i}}setFormat(t,e){const n=this.getState(t);if(!n)return;const i=t.dataset.formatMode;if(i==="12"||i==="24"){console.warn(`TimePicker format is locked to ${i}h mode. Cannot switch to ${e}h.`);return}if(n.format!==e){const s=this.convertHourBetweenFormats(n.hour,n.format,e,n.period);n.hour=s.hour,s.period&&(n.period=s.period),n.format=e,this.setState(t,n),this.updateFormatButtons(t),this.updatePeriodSectionVisibility(t),this.updateGridLayout(t),this.updateHourOptions(t),this.updateSelectedStates(t),this.updateDisplay(t),this.updatePreview(t)}}setToCurrentTime(t){const e=this.getState(t);if(!e)return;const n=this.getCurrentTime();if(e.format==="12"){const i=this.convertHourBetweenFormats(n.hour,"24","12");e.hour=i.hour,e.period=i.period}else e.hour=n.hour;e.minute=n.minute,e.second=n.second,this.setState(t,e),this.updateSelectedStates(t),this.scrollToSelectedOptions(t),this.updatePreview(t)}applyTime(t){const e=this.getState(t);if(!e)return;const n=this.formatTimeValue(e);this.setValue(t,n),this.closeDropdown(t),this.dispatchTimePickerEvent(t,"timepicker:change",{value:n,state:{...e}})}clearTime(t){this.setValue(t,""),this.dispatchTimePickerEvent(t,"timepicker:change",{value:"",state:null})}handleKeydown(t,e){const n=this.getState(t);if(n)switch(e.key){case"Enter":case" ":n.isOpen?(e.preventDefault(),this.applyTime(t)):(e.preventDefault(),this.openDropdown(t));break;case"Escape":n.isOpen&&(e.preventDefault(),this.closeDropdown(t));break;case"ArrowUp":n.isOpen?e.preventDefault():(e.preventDefault(),this.incrementTime(t,"minute",1));break;case"ArrowDown":n.isOpen?e.preventDefault():(e.preventDefault(),this.incrementTime(t,"minute",-1));break;case"ArrowLeft":n.isOpen||(e.preventDefault(),this.incrementTime(t,"hour",-1));break;case"ArrowRight":n.isOpen||(e.preventDefault(),this.incrementTime(t,"hour",1));break}}incrementTime(t,e,n){const i=this.getState(t);if(i){switch(e){case"hour":i.format==="12"?(i.hour=i.hour+n,i.hour>12&&(i.hour=1),i.hour<1&&(i.hour=12)):(i.hour=i.hour+n,i.hour>23&&(i.hour=0),i.hour<0&&(i.hour=23));break;case"minute":i.minute=i.minute+n*i.step,i.minute>=60?i.minute=i.minute%60:i.minute<0&&(i.minute=60+i.minute%60,i.minute===60&&(i.minute=0));break;case"second":i.second=i.second+n,i.second>=60?i.second=0:i.second<0&&(i.second=59);break}this.setState(t,i),this.updateDisplay(t),this.dispatchTimePickerEvent(t,"timepicker:increment",{unit:e,direction:n,value:this.formatTimeValue(i)})}}updateDisplay(t){const e=this.getState(t);if(!e)return;const n=this.formatTimeValue(e),i=y.querySelector("[data-timepicker-display]",t);if(i)if(n)i.innerHTML=n;else{const s=t.dataset.placeholder||"Select time...";i.innerHTML=`<span class="text-muted timepicker-placeholder">${s}</span>`}n?t.dataset.hasValue="true":delete t.dataset.hasValue,this.updateClearButtonVisibility(t,n)}updatePreview(t){this.updateDisplay(t)}setValue(t,e){const n=y.querySelector("[data-timepicker-hidden-input]",t),i=y.querySelector("[data-timepicker-display]",t);if(n&&(n.value=e),i)if(e)i.innerHTML=e;else{const a=t.dataset.placeholder||"Select time...";i.innerHTML=`<span class="text-muted timepicker-placeholder">${a}</span>`}e?t.dataset.hasValue="true":delete t.dataset.hasValue,this.updateClearButtonVisibility(t,e);const s=this.getState(t);s&&(s.value=e,this.setState(t,s))}updateClearButtonVisibility(t,e){const n=y.querySelector("[data-timepicker-clear]",t);console.log("🕒 Updating clear button visibility:",{value:e,clearButton:!!n,disabled:t.dataset.disabled}),n&&(e&&!t.dataset.disabled?(n.classList.remove("opacity-0","pointer-events-none"),n.classList.add("pointer-events-auto"),console.log("🕒 Clear button shown")):(n.classList.add("opacity-0","pointer-events-none"),n.classList.remove("pointer-events-auto"),console.log("🕒 Clear button hidden")))}updateSelectedStates(t){const e=this.getState(t);if(!e)return;y.querySelectorAll(".selected",t).forEach(s=>s.classList.remove("selected"));const n=y.querySelector(`[data-timepicker-hour="${e.hour}"]`,t);n&&n.classList.add("selected");const i=y.querySelector(`[data-timepicker-minute="${e.minute}"]`,t);if(i&&i.classList.add("selected"),e.showSeconds){const s=t.querySelector(`[data-timepicker-second="${e.second}"]`);s&&s.classList.add("selected")}if(e.format==="12"){const s=t.querySelector(`[data-timepicker-period="${e.period}"]`);s&&s.classList.add("selected")}}updateFormatButtons(t){const e=this.getState(t);if(!e)return;y.querySelectorAll("[data-timepicker-format]",t).forEach(i=>{i.dataset.timepickerFormat===e.format?(i.classList.add("bg-brand","text-foreground-brand"),i.classList.remove("bg-surface","text-muted")):(i.classList.remove("bg-brand","text-foreground-brand"),i.classList.add("bg-surface","text-muted"))})}updateHourOptions(t){const e=this.getState(t);if(!e)return;const n=y.querySelector("[data-timepicker-hours]",t);if(!n)return;const i=e.format==="12"?Array.from({length:12},(s,a)=>a+1):Array.from({length:24},(s,a)=>a);n.innerHTML="",i.forEach(s=>{const a=document.createElement("button");a.type="button",a.dataset.timepickerHour=s.toString(),a.className="w-full px-3 py-2 text-sm text-left hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:bg-brand focus:text-foreground-brand [&.selected]:bg-brand [&.selected]:text-foreground-brand transition-colors",a.textContent=s.toString().padStart(2,"0"),n.appendChild(a)}),e.format==="12"&&(e.hour<1||e.hour>12)?(e.hour=Math.max(1,Math.min(12,e.hour)),this.setState(t,e),this.updateDisplay(t),this.updatePreview(t)):e.format==="24"&&(e.hour<0||e.hour>23)&&(e.hour=Math.max(0,Math.min(23,e.hour)),this.setState(t,e),this.updateDisplay(t),this.updatePreview(t))}updatePeriodSectionVisibility(t){const e=this.getState(t);if(!e)return;const n=y.querySelector("[data-timepicker-period-section]",t);n&&(n.style.display=e.format==="12"?"block":"none")}updateGridLayout(t){const e=this.getState(t);if(!e)return;const n=y.querySelector("[data-timepicker-grid]",t);if(!n)return;let i=2;e.showSeconds&&i++,e.format==="12"&&i++,n.style.gridTemplateColumns=`repeat(${i}, 1fr)`}scrollToSelectedOptions(t){y.querySelectorAll(".selected",t).forEach(n=>{n.scrollIntoView({block:"center",behavior:"smooth"})})}positionDropdown(t){const e=y.querySelector("[data-timepicker-dropdown]",t),n=y.querySelector("[data-timepicker-trigger]",t);!e||!n||this.setupFloating(t,n,e)}setupFloating(t,e,n){const i=this.getState(t);if(!i)return;i.floating&&i.floating.cleanup();const s=t.dataset.position||"bottom",a=t.dataset.align||"start",o=parseInt(t.dataset.offset||"8");let l=s;(s==="bottom"||s==="top")&&(a==="start"?l=`${s}-start`:a==="end"&&(l=`${s}-end`));const c=jo.getInstance().createFloating(e,n,{placement:l,offset:o,flip:{fallbackStrategy:"bestFit",padding:8},shift:{padding:8,crossAxis:!0},size:{apply:({availableHeight:u})=>{const f=Math.max(u-16,200);n.style.maxHeight=`${f}px`,n.style.overflowY="auto"}},hide:{strategy:"escaped"},autoUpdate:{ancestorScroll:!0,ancestorResize:!0,elementResize:!0,layoutShift:!0}});i.floating=c,this.setState(t,i)}parseTime(t){var e;if(!t)return null;try{const n=[/^(\d{1,2}):(\d{2})(?::(\d{2}))?\s*(AM|PM)?$/i,/^(\d{1,2}):(\d{2})(?::(\d{2}))?$/];for(const i of n){const s=t.match(i);if(s){const a=parseInt(s[1]),o=parseInt(s[2]),l=parseInt(s[3]||"0"),c=(e=s[4])==null?void 0:e.toUpperCase();return{hour:a,minute:o,second:l,period:c}}}}catch{}return null}getCurrentTime(){const t=new Date;return{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()}}formatTimeValue(t){const{hour:e,minute:n,second:i,period:s,format:a,showSeconds:o}=t;if(a==="12"){const l=e.toString(),c=n.toString().padStart(2,"0"),u=i.toString().padStart(2,"0");return o?`${l}:${c}:${u} ${s}`:`${l}:${c} ${s}`}else{const l=e.toString().padStart(2,"0"),c=n.toString().padStart(2,"0"),u=i.toString().padStart(2,"0");return o?`${l}:${c}:${u}`:`${l}:${c}`}}isDisabled(t){return t.dataset.disabled==="true"}dispatchTimePickerEvent(t,e,n=null){D.dispatchCustomEvent(t,e,{timepicker:t,...n},{bubbles:!0,cancelable:!0})}getTimePickerState(t){return this.getState(t)||null}setTime(t,e){const n=this.parseTime(e),i=this.getState(t);!n||!i||(i.hour=n.hour,i.minute=n.minute,i.second=n.second,n.period&&(i.period=n.period),this.setState(t,i),this.updateDisplay(t),this.updateSelectedStates(t),this.dispatchTimePickerEvent(t,"timepicker:change",{value:this.formatTimeValue(i),state:{...i}}))}onDestroy(){this.getAllStates().forEach((t,e)=>{t.floating&&t.floating.cleanup()})}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Wn.getInstance().init()}):Wn.getInstance().init(),window.TimePickerActions=Wn,Wn.getInstance();class Gn{static isLivewireAvailable(){return typeof window<"u"&&"Livewire"in window}static isLivewireEnabled(t){return t.dataset.livewireEnabled==="true"||t.dataset.livewireMode==="true"||!!t.dataset.wireModel||!!t.querySelector('[data-quill-input="true"][wire\\:model]')}static getLivewireComponent(t){if(!this.isLivewireAvailable())return null;const e=t.closest("[wire\\:id]");return e?window.Livewire.find(e.getAttribute("wire:id")):null}static getWireModelProperty(t){if(t.dataset.wireModel)return t.dataset.wireModel;if(t.dataset.livewireProperty)return t.dataset.livewireProperty;for(const n of t.attributes)if(n.name.startsWith("wire:model"))return n.value;const e=t.querySelector('[data-quill-input="true"]');if(e){for(const n of e.attributes)if(n.name.startsWith("wire:model"))return n.value}return null}static updateLivewireProperty(t,e){const n=this.getLivewireComponent(t),i=this.getWireModelProperty(t);if(!(!n||!i))try{n.set(i,e)}catch(s){console.warn("Failed to update Livewire property:",i,s)}}static formatValueForLivewire(t){return t||""}}class js extends G{initializeElements(){this.processQuillEditors()}processQuillEditors(){y.findByDataAttribute("quill-editor","true").forEach(e=>this.initializeQuillEditor(e))}bindEventListeners(){}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"quill-editor","true")&&this.initializeQuillEditor(n),y.findByDataAttribute("quill-editor","true",n).forEach(s=>this.initializeQuillEditor(s))}})})}findHiddenInput(t){return y.querySelector('[data-quill-input="true"]',t)}initializeQuillEditor(t){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>{this.initializeQuillEditor(t)});return}if(!y.getDataAttribute(t,"editorId")){console.warn("Editor missing editorId, skipping initialization");return}if(this.hasState(t))return;const n=y.querySelector('[data-quill-container="true"]',t),i=this.findHiddenInput(t),s=y.querySelector('[data-quill-live-region="true"]',t);if(!n)return;const a=y.getDataAttribute(n,"quillConfig");let o="";if(i&&i.value)o=i.value;else{const h=y.getDataAttribute(n,"quill-value");if(h)try{o=JSON.parse(h)}catch{o=h}}let l={theme:"snow",modules:{toolbar:[["bold","italic","underline"],[{header:[1,2,!1]}],[{list:"ordered"},{list:"bullet"}],["link"],["clean"]]}};if(a)try{const h=JSON.parse(a);l={...l,...h}}catch{}let c;try{if(!window.Quill){console.error("Global Quill not available");return}c=new window.Quill(n,l)}catch(h){console.error("Quill initialization failed:",h);return}if(o)try{c.clipboard.dangerouslyPasteHTML(o)}catch(h){console.warn("Failed to set initial content:",h),c.setText(o)}Gn.isLivewireEnabled(t);const u={quillInstance:c,containerElement:n,hiddenInput:i,config:l,liveRegion:s,lastAnnouncementTime:0};this.setState(t,u),this.setupContentSync(u),this.setupAccessibilityFeatures(u)}setupContentSync(t){const e=Gn.isLivewireEnabled(t.containerElement);t.quillInstance.on("text-change",(n,i,s)=>{e?this.syncToLivewireWithState(t):this.syncQuillToInput(t)}),e?this.syncToLivewireWithState(t):this.syncQuillToInput(t)}syncQuillToInput(t){if(t.hiddenInput){const e=t.quillInstance.root.innerHTML,n=t.hiddenInput.value;e!==n&&(t.hiddenInput.value=e,this.dispatchLivewireInputEvent(t.hiddenInput,e))}}dispatchLivewireInputEvent(t,e){const n=new InputEvent("input",{bubbles:!0,cancelable:!0,inputType:"insertText",data:e});t.dispatchEvent(n);const i=new Event("change",{bubbles:!0,cancelable:!0});t.dispatchEvent(i)}getEditorContent(t){const e=this.getState(t);return e?e.quillInstance.root.innerHTML:""}setEditorContent(t,e){const n=this.getState(t);if(n){try{n.quillInstance.clipboard.dangerouslyPasteHTML(e)}catch(i){console.warn("Failed to set editor content:",i),n.quillInstance.setText(e)}this.syncQuillToInput(n)}}clearEditor(t){const e=this.getState(t);e&&(e.quillInstance.setText(""),this.syncQuillToInput(e))}focusEditor(t){const e=this.getState(t);e&&e.quillInstance.focus()}getQuillInstance(t){const e=this.getState(t);return e?e.quillInstance:null}setupAccessibilityFeatures(t){this.setupKeyboardNavigation(t),this.setupContentAnnouncements(t),this.setupToolbarAccessibility(t)}setupKeyboardNavigation(t){t.quillInstance.keyboard.addBinding({key:"F1",handler:()=>(this.announceKeyboardHelp(t),!1)}),t.containerElement.addEventListener("focus",()=>{t.liveRegion&&this.announceToLiveRegion(t,"Rich text editor focused. Press F1 for keyboard shortcuts.")})}setupContentAnnouncements(t){let e=null;const n=2e3;t.quillInstance.on("text-change",(i,s,a)=>{a==="user"&&(e&&clearTimeout(e),e=window.setTimeout(()=>{const o=t.quillInstance.getText().trim(),l=o?o.split(/\s+/).length:0;l>0&&this.announceToLiveRegion(t,`${l} words written`)},n))}),t.quillInstance.on("selection-change",(i,s,a)=>{if(i&&a==="user"){const o=t.quillInstance.getFormat(i);this.announceFormattingChanges(t,o)}})}setupToolbarAccessibility(t){const e=t.containerElement.querySelector(".ql-toolbar");if(!e)return;e.setAttribute("role","toolbar"),e.setAttribute("aria-label","Rich text editor toolbar");const n=e.querySelectorAll("button");n.forEach((i,s)=>{this.enhanceButtonAccessibility(i),i.setAttribute("tabindex",s===0?"0":"-1")}),e.addEventListener("keydown",i=>{this.handleToolbarKeyboard(i,n)})}enhanceButtonAccessibility(t){const e={"ql-bold":"Bold","ql-italic":"Italic","ql-underline":"Underline","ql-strike":"Strikethrough","ql-link":"Insert link","ql-clean":"Remove formatting",'ql-list[value="ordered"]':"Numbered list",'ql-list[value="bullet"]':"Bullet list",'ql-header[value="1"]':"Heading 1",'ql-header[value="2"]':"Heading 2"};for(const[n,i]of Object.entries(e))if(t.classList.contains(n.split("[")[0])||t.matches(`[${n.split("[")[1]}`)){t.setAttribute("aria-label",i),t.setAttribute("title",i);break}}handleToolbarKeyboard(t,e){const n=Array.from(e).findIndex(s=>s===document.activeElement);if(n===-1)return;let i=n;switch(t.key){case"ArrowLeft":case"ArrowUp":i=n>0?n-1:e.length-1,t.preventDefault();break;case"ArrowRight":case"ArrowDown":i=n<e.length-1?n+1:0,t.preventDefault();break;case"Home":i=0,t.preventDefault();break;case"End":i=e.length-1,t.preventDefault();break;default:return}e[n].setAttribute("tabindex","-1"),e[i].setAttribute("tabindex","0"),e[i].focus()}announceToLiveRegion(t,e){if(!t.liveRegion)return;const n=Date.now();n-t.lastAnnouncementTime<1e3||(t.liveRegion.textContent=e,t.lastAnnouncementTime=n,setTimeout(()=>{t.liveRegion&&(t.liveRegion.textContent="")},3e3))}announceFormattingChanges(t,e){const n=Object.keys(e).filter(i=>e[i]);if(n.length>0){const i=n.map(s=>{switch(s){case"bold":return"bold";case"italic":return"italic";case"underline":return"underlined";case"strike":return"strikethrough";case"header":return`heading ${e[s]}`;case"list":return`${e[s]} list`;default:return s}});this.announceToLiveRegion(t,`Formatting: ${i.join(", ")}`)}}announceKeyboardHelp(t){this.announceToLiveRegion(t,"Keyboard shortcuts: Ctrl+B for bold, Ctrl+I for italic, Ctrl+U for underline, Ctrl+K for link. Use arrow keys to navigate toolbar buttons.")}syncToLivewireWithState(t){const e=t.quillInstance.root.innerHTML,n=Gn.formatValueForLivewire(e);Gn.updateLivewireProperty(t.containerElement,n)}reinitializeAfterMorph(t){y.querySelector('[data-quill-container="true"]',t)&&!this.hasState(t)&&this.initializeQuillEditor(t)}manualSync(){y.querySelectorAll('[data-quill-container="true"]').forEach(e=>{if(Gn.isLivewireEnabled(e)){const n=window.Quill.find(e);if(n){const i=n.root.innerHTML,s=Gn.formatValueForLivewire(i);Gn.updateLivewireProperty(e,s)}}})}onDestroy(){this.stateManager.forEach(t=>{t.quillInstance.off("text-change")})}}js.getInstance();const to=class to{static formatDate(t,e){if(!t||isNaN(t.getTime()))return"";const n=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),a={Y:String(n),y:String(n).slice(-2),F:this.MONTH_NAMES[i-1],M:this.MONTH_NAMES_SHORT[i-1],m:String(i).padStart(2,"0"),n:String(i),d:String(s).padStart(2,"0"),j:String(s)};let o=e;for(const[l,c]of Object.entries(a))o=o.replace(new RegExp(l,"g"),c);return o}static formatDateString(t){if(!t||isNaN(t.getTime()))return"";const e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${i}`}static parseDate(t){if(!t||typeof t!="string"||!t.trim())return null;try{const e=new Date(t);return isNaN(e.getTime())?null:e}catch{return null}}static formatDateForDisplay(t,e){if(!t)return"";const n=this.parseDate(t);return n?this.formatDate(n,e):""}static formatRangeForDisplay(t,e,n,i=" - "){if(!t)return"";const s=this.formatDateForDisplay(t,n),a=e?this.formatDateForDisplay(e,n):"";return a?`${s}${i}${a}`:s}static formatRangeForSubmission(t,e,n="Y-m-d"){if(!t)return null;const i=this.formatDateForSubmission(t,n),s=e?this.formatDateForSubmission(e,n):"";return s?`${i},${s}`:i}static formatDateForSubmission(t,e="Y-m-d"){if(!t)return"";const n=this.parseDate(t);return n?this.formatDate(n,e):""}static addDaysToDate(t,e){const n=this.parseDate(t);return n?(n.setDate(n.getDate()+e),this.formatDateString(n)):t}static addMonthsToDate(t,e){const n=this.parseDate(t);return n?(n.setMonth(n.getMonth()+e),this.formatDateString(n)):t}static getFirstDayOfMonth(t){const e=this.parseDate(t);return e?(e.setDate(1),this.formatDateString(e)):t}static getLastDayOfMonth(t){const e=this.parseDate(t);return e?(e.setMonth(e.getMonth()+1,0),this.formatDateString(e)):t}static getCurrentYearMonth(){const t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`}static getTodayDate(){return this.formatDateString(new Date)}static isToday(t){return t===this.getTodayDate()}static isDateInRange(t,e,n){if(!e||!n)return!1;const i=this.parseDate(t),s=this.parseDate(e),a=this.parseDate(n);return!i||!s||!a?!1:i>=s&&i<=a}static isDateRangeStart(t,e){return e===t}static isDateRangeEnd(t,e){return e===t}static getFormatPlaceholder(t){return{"Y-m-d":"YYYY-MM-DD","Y/m/d":"YYYY/MM/DD","d-m-Y":"DD-MM-YYYY","d/m/Y":"DD/MM/YYYY","m/d/Y":"MM/DD/YYYY","m-d-Y":"MM-DD-YYYY","F j, Y":"Month DD, YYYY","M j, Y":"Mon DD, YYYY","j F Y":"DD Month YYYY"}[t]||"YYYY-MM-DD"}static parseInputDate(t,e){if(!t||!t.trim())return null;try{const n=new Date(t);if(!isNaN(n.getTime()))return n}catch{}return null}static createDateAriaLabel(t,e=!1,n=!1,i=!1,s=!1,a=!1){const o=this.parseDate(t);if(!o)return t;let c=o.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return e&&(c+=", Today"),n?c+=", Selected":i?c+=", Range start":s?c+=", Range end":a&&(c+=", In selected range"),c}static isValidDateString(t){const e=this.parseDate(t);return e!==null&&!isNaN(e.getTime())}static compareDates(t,e){const n=this.parseDate(t),i=this.parseDate(e);return!n||!i?0:n.getTime()-i.getTime()}static getQuickSelectorDate(t){const e=new Date;let n=null,i=null;switch(t){case"today":n=e,i=e;break;case"yesterday":n=new Date(e),n.setDate(e.getDate()-1),i=n;break;case"last7days":i=e,n=new Date(e),n.setDate(e.getDate()-6);break;case"last30days":i=e,n=new Date(e),n.setDate(e.getDate()-29);break;case"thismonth":n=new Date(e.getFullYear(),e.getMonth(),1),i=new Date(e.getFullYear(),e.getMonth()+1,0);break;case"lastmonth":n=new Date(e.getFullYear(),e.getMonth()-1,1),i=new Date(e.getFullYear(),e.getMonth(),0);break;case"thisyear":n=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),11,31);break}return{start:n,end:i}}};to.MONTH_NAMES=["January","February","March","April","May","June","July","August","September","October","November","December"],to.MONTH_NAMES_SHORT=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let En=to;class Kn extends G{initializeElements(){y.querySelectorAll("[data-keys-date-picker]").forEach(t=>{this.initializeDatePicker(t)})}initializeDatePicker(t){if(this.hasState(t))return;const e=t.dataset.datePickerConfig,n=t.dataset.inline==="true",i=t.dataset.disabled==="true";let s;try{s=e?JSON.parse(e):{}}catch(o){console.error("Failed to parse date picker config:",o),s={}}const a={selectedDate:s.selectedDate||null,startDate:s.startDate||null,endDate:s.endDate||null,format:s.format||"Y-m-d",displayFormat:s.displayFormat||s.format||"Y-m-d",isRange:s.isRange||!1,closeOnSelect:s.closeOnSelect!==!1,isInline:n,isDisabled:i};this.setState(t,a),this.setupCalendarEventListeners(t)}bindEventListeners(){D.handleDelegatedClick("[data-date-picker-trigger]",(t,e)=>{console.log("🗓️ DatePicker trigger clicked:",t);const n=y.findClosest(t,"[data-keys-date-picker]");if(n&&!this.isDisabled(n)){console.log("🗓️ Native popover will handle toggle for:",n);const i=this.getState(n);i&&console.log("🗓️ Current DatePicker state:",i)}else console.log("🗓️ DatePicker trigger ignored - disabled or not found"),e.preventDefault()}),D.handleDelegatedClick("[data-date-picker-clear]",(t,e)=>{e.preventDefault(),e.stopPropagation();const n=y.findClosest(t,'[data-date-picker="true"]');n&&!this.isDisabled(n)&&this.clearDate(n)}),D.handleDelegatedKeydown("[data-date-picker-input]",(t,e)=>{const n=y.findClosest(t,"[data-keys-date-picker]");if(n)switch(e.key){case"Tab":const i=y.querySelector('[data-keys-calendar="true"]',n);if(i){const s=y.findClosest(i,"[data-keys-popover]");s&&s.matches(":popover-open")&&setTimeout(()=>{const a=i.querySelector("button:not(:disabled)");a&&a.focus()},10)}break}}),D.handleDelegatedInput("[data-date-picker-input]",t=>{if(!t.readOnly){const e=y.findClosest(t,"[data-keys-date-picker]");e&&!this.isDisabled(e)&&this.handleManualInput(e,t.value)}})}setupCalendarEventListeners(t){const e=y.querySelector('[data-keys-calendar="true"]',t);e&&(e.addEventListener("calendar:dateSelected",n=>{n.stopPropagation();const i=n.detail;this.handleDateSelected(t,i.selectedDate,i.formattedDate)}),e.addEventListener("calendar:rangeSelected",n=>{n.stopPropagation();const i=n.detail;this.handleRangeSelected(t,i.startDate,i.endDate,i.formattedRange)}),e.addEventListener("calendar:cleared",n=>{n.stopPropagation(),this.handleCalendarCleared(t)}))}handleDateSelected(t,e,n){const i=this.getState(t);if(!i)return;i.selectedDate=e,this.setState(t,i);const s=y.querySelector("[data-date-picker-display]",t);if(s)if(e)s.innerHTML=this.formatDateForDisplay(e,i.displayFormat);else{const o=t.dataset.placeholder||"Select date...";s.innerHTML=`<span class="text-muted date-picker-placeholder">${o}</span>`}const a=y.querySelector("[data-date-picker-value]",t);a&&(a.value=e?En.formatDateForSubmission(e,i.format):""),i.closeOnSelect&&!i.isInline&&!i.isRange&&setTimeout(()=>{const o=y.findClosest(t,"[data-keys-popover]")||y.querySelector("[data-keys-popover]",t);if(o&&"hidePopover"in o)try{o.hidePopover()}catch{console.log("Popover already closed or not open")}},150),this.dispatchDatePickerEvent(t,"datepicker:change",{value:e,formatted:n})}handleRangeSelected(t,e,n,i){const s=this.getState(t);if(!s)return;s.startDate=e,s.endDate=n,this.setState(t,s);const a=y.querySelector("[data-date-picker-display]",t);if(a){const l=En.formatRangeForDisplay(e,n,s.displayFormat);if(l)a.innerHTML=l;else{const c=t.dataset.placeholder||"Select date range";a.innerHTML=`<span class="text-muted date-picker-placeholder">${c}</span>`}}const o=y.querySelector("[data-date-picker-value]",t);if(o){const l=En.formatRangeForSubmission(e,n,s.format);o.value=l||""}s.closeOnSelect&&e&&n&&!s.isInline&&setTimeout(()=>{const l=y.findClosest(t,"[data-keys-popover]")||y.querySelector("[data-keys-popover]",t);if(l&&"hidePopover"in l)try{l.hidePopover()}catch{}},150),this.dispatchDatePickerEvent(t,"datepicker:change",{startDate:e,endDate:n,formatted:i})}handleCalendarCleared(t){this.clearDate(t)}clearDate(t){const e=this.getState(t);if(!e)return;e.selectedDate=null,e.startDate=null,e.endDate=null,this.setState(t,e);const n=y.querySelector("[data-date-picker-display]",t);if(n){const a=t.dataset.placeholder||"Select date...";n.innerHTML=`<span class="text-muted date-picker-placeholder">${a}</span>`}const i=y.querySelector("[data-date-picker-value]",t);i&&(i.value="");const s=y.querySelector('[data-keys-calendar="true"]',t);if(s&&window.CalendarCore)try{const a=window.CalendarCore.getInstance();e.isRange?a.setSelectedRange(s,null,null):a.setSelectedDate(s,null)}catch{}if(!e.isInline){const a=y.findClosest(t,"[data-keys-popover]")||y.querySelector("[data-keys-popover]",t);if(a&&"hidePopover"in a)try{a.hidePopover()}catch{}}this.dispatchDatePickerEvent(t,"datepicker:cleared")}handleManualInput(t,e){const n=this.getState(t);if(!n)return;const i=En.parseInputDate(e,n.displayFormat);if(i){const s=En.formatDateString(i),a=y.querySelector("[data-date-picker-display]",t);a&&(a.innerHTML=this.formatDateForDisplay(s,n.displayFormat));const o=y.querySelector('[data-keys-calendar="true"]',t);if(o&&window.CalendarCore)try{window.CalendarCore.getInstance().setSelectedDate(o,s)}catch(l){console.warn("Calendar core not available or failed:",l)}}}isDisabled(t){const e=this.getState(t);return e?e.isDisabled:!1}dispatchDatePickerEvent(t,e,n=null){D.dispatchCustomEvent(t,e,{datePicker:t,...n},{bubbles:!0,cancelable:!0})}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE){const n=e;y.hasDataAttribute(n,"keys-date-picker","true")&&this.initializeDatePicker(n),y.findByDataAttribute("keys-date-picker","true",n).forEach(i=>{this.initializeDatePicker(i)})}})})}formatDateForDisplay(t,e){try{const n=new Date(t+"T00:00:00");if(e==="F j, Y"){const s=["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()],a=n.getDate(),o=n.getFullYear();return`${s} ${a}, ${o}`}return En.formatDateForDisplay(t,e)}catch(n){return console.warn("Date formatting error:",n),t}}onDestroy(){}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{Kn.getInstance().init()}):Kn.getInstance().init(),window.DatePickerActions=Kn,Kn.getInstance();class Fs extends G{constructor(){super(...arguments),this.cleanupFunctions=[]}bindEventListeners(){this.cleanupFunctions.push(D.handleDelegatedClick('[data-add-to-cart="true"]',(t,e)=>this.handleAddToCart(t,e))),this.cleanupFunctions.push(D.handleDelegatedClick(".qty-decrease",(t,e)=>this.handleQuantityChange(t,e,"decrease"))),this.cleanupFunctions.push(D.handleDelegatedClick(".qty-increase",(t,e)=>this.handleQuantityChange(t,e,"increase"))),this.cleanupFunctions.push(D.handleDelegatedInput(".qty-input",(t,e)=>this.handleQuantityInput(t,e))),this.cleanupFunctions.push(D.handleDelegatedKeydown(".qty-input",(t,e)=>this.handleQuantityKeydown(t,e)))}initializeElements(){y.findByDataAttribute("add-to-cart","true").forEach(e=>this.initializeButton(e))}initializeButton(t){const e=this.extractStateFromButton(t);if(e){const n=y.querySelector(".button-text",t);n&&(e.originalText=n.textContent||""),this.setState(t,e),this.updateButtonState(t),this.updateQuantityControls(t)}}extractStateFromButton(t){const e=y.getDataAttribute(t,"productId");return e?{productId:e,variantId:y.getDataAttribute(t,"variantId"),quantity:parseInt(y.getDataAttribute(t,"quantity")||"1"),maxQuantity:parseInt(y.getDataAttribute(t,"maxQuantity")||"99"),stockLevel:y.getDataAttribute(t,"stockLevel")?parseInt(y.getDataAttribute(t,"stockLevel")):void 0,price:y.getDataAttribute(t,"price"),ajaxUrl:y.getDataAttribute(t,"ajaxUrl")||"/cart/add",inCart:y.getDataAttribute(t,"inCart")==="true",isProcessing:!1}:(console.warn("AddToCart button missing required data-product-id attribute"),null)}async handleAddToCart(t,e){if(e.preventDefault(),y.isDisabled(t))return;const n=this.getState(t);if(!n||n.isProcessing)return;const i=this.getQuantityInput(t);if(i&&(n.quantity=parseInt(i.value)||1),!this.validateQuantity(n.quantity,n)){this.showError(t,"Invalid quantity");return}n.isProcessing=!0,this.setState(t,n),this.setButtonState(t,"adding");try{const s=await this.sendCartRequest(n);if(s.success)n.inCart=s.inCart??!0,n.isProcessing=!1,s.stockLevel!==void 0&&(n.stockLevel=s.stockLevel,y.setDataAttribute(t,"stockLevel",s.stockLevel.toString())),this.setState(t,n),this.setButtonState(t,"added"),this.dispatchCartEvent(t,"cart:added",{productId:n.productId,variantId:n.variantId,quantity:n.quantity,cartCount:s.cartCount}),setTimeout(()=>{var a;(a=this.getState(t))!=null&&a.inCart&&this.setButtonState(t,"default")},2e3);else throw new Error(s.error||s.message||"Failed to add to cart")}catch(s){n.isProcessing=!1,this.setState(t,n),this.setButtonState(t,"default"),this.showError(t,s instanceof Error?s.message:"An error occurred")}this.updateQuantityControls(t)}handleQuantityChange(t,e,n){e.preventDefault();const i=y.getDataAttribute(t,"target");if(!i)return;const s=y.getElementById(i);if(!s)return;const a=y.findClosest(t,".add-to-cart-wrapper"),o=a?y.querySelector('[data-add-to-cart="true"]',a):null;if(!o)return;const l=this.getState(o);if(!l)return;const c=parseInt(s.value)||1;let u=c;n==="increase"?u=Math.min(c+1,l.maxQuantity):u=Math.max(c-1,1),u!==c&&(s.value=u.toString(),l.quantity=u,this.setState(o,l),this.dispatchCartEvent(o,"cart:quantity-changed",{productId:l.productId,quantity:u,previousQuantity:c})),this.updateQuantityControls(o)}handleQuantityInput(t,e){const n=y.findClosest(t,".add-to-cart-wrapper"),i=n?y.querySelector('[data-add-to-cart="true"]',n):null;if(!i)return;const s=this.getState(i);if(!s)return;let a=parseInt(t.value)||1;a=Math.max(1,Math.min(a,s.maxQuantity)),t.value!==a.toString()&&(t.value=a.toString()),s.quantity=a,this.setState(i,s),this.updateQuantityControls(i)}handleQuantityKeydown(t,e){[8,9,27,13,35,36,37,39,38,40].includes(e.keyCode)||e.ctrlKey&&[65,67,86,88].includes(e.keyCode)||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}validateQuantity(t,e){return!(t<1||t>e.maxQuantity||e.stockLevel!==void 0&&t>e.stockLevel)}async sendCartRequest(t){var s;const e=new FormData;e.append("product_id",t.productId),e.append("quantity",t.quantity.toString()),t.variantId&&e.append("variant_id",t.variantId);const n=(s=y.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content");n&&e.append("_token",n);const i=await fetch(t.ajaxUrl,{method:"POST",body:e,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return await i.json()}setButtonState(t,e){y.removeClasses(t,["adding","added"]),e!=="default"&&y.addClass(t,e);const n=y.querySelector(".button-text",t);if(n){const i=this.getState(t);switch(e){case"adding":const s=y.getDataAttribute(t,"labelToggle");s&&(n.textContent=s);break;case"added":const a=y.getDataAttribute(t,"labelSuccess");a&&(n.textContent=a);break;case"default":i!=null&&i.originalText&&(n.textContent=i.originalText);break}}}updateButtonState(t){const e=this.getState(t);e&&(e.stockLevel!==void 0&&e.stockLevel<=0?(y.toggleAttribute(t,"disabled","true"),y.addClasses(t,["cursor-not-allowed","opacity-50"])):(y.toggleAttribute(t,"disabled"),y.removeClasses(t,["cursor-not-allowed","opacity-50"])))}updateQuantityControls(t){const e=this.getState(t);if(!e)return;const n=y.findClosest(t,".add-to-cart-wrapper");if(!n)return;const i=y.querySelector(".qty-decrease",n);i&&y.toggleAttribute(i,"disabled",e.quantity<=1?"true":void 0);const s=y.querySelector(".qty-increase",n);if(s){const o=e.quantity>=e.maxQuantity||e.stockLevel!==void 0&&e.quantity>=e.stockLevel;y.toggleAttribute(s,"disabled",o?"true":void 0)}const a=this.getQuantityInput(t);a&&(a.max=e.maxQuantity.toString(),e.stockLevel!==void 0&&(a.max=Math.min(e.maxQuantity,e.stockLevel).toString()))}getQuantityInput(t){const e=y.findClosest(t,".add-to-cart-wrapper");return e?y.querySelector(".qty-input",e):null}showError(t,e){this.dispatchCartEvent(t,"cart:error",{message:e}),console.error("Add to Cart Error:",e)}dispatchCartEvent(t,e,n){D.dispatchCustomEvent(t,e,n)}setupDynamicObserver(){this.createDynamicObserver(t=>{t.forEach(e=>{e instanceof Element&&y.findByDataAttribute("add-to-cart","true",e).forEach(i=>this.initializeButton(i))})})}destroy(){this.cleanupFunctions.forEach(t=>t()),this.cleanupFunctions=[],super.destroy()}}if(typeof document<"u"){const r=()=>{Fs.getInstance().init()};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r()}class Zb extends G{constructor(){super(),this.cleanupFunctions=[],this.currentModal=null}bindEventListeners(){this.cleanupFunctions.push(D.handleDelegatedClick("[data-lightbox-trigger]",(t,e)=>this.handleThumbnailClick(t,e))),this.cleanupFunctions.push(D.handleDelegatedClick("[data-lightbox-close]",(t,e)=>this.handleCloseClick(t,e))),this.cleanupFunctions.push(D.handleDelegatedClick("[data-lightbox-prev]",(t,e)=>this.handlePrevClick(t,e))),this.cleanupFunctions.push(D.handleDelegatedClick("[data-lightbox-next]",(t,e)=>this.handleNextClick(t,e))),this.cleanupFunctions.push(D.addEventListener(document,"keydown",t=>{this.handleKeydown(t)})),this.cleanupFunctions.push(D.handleDelegatedClick("[data-lightbox-modal]",(t,e)=>this.handleModalBackgroundClick(t,e)))}initializeElements(){y.findByDataAttribute("file-upload-zone").forEach(i=>{if(i.getAttribute("data-lightbox")==="true"){const a=i.parentElement;a&&this.initializeLightboxForUpload(a)}}),y.findByDataAttribute("lightbox-image").forEach(i=>{this.initializeLightboxForImage(i)}),y.findByDataAttribute("gallery").forEach(i=>{i.getAttribute("data-lightbox")==="true"&&this.initializeLightboxForGallery(i)})}initializeLightboxForUpload(t){const e=t.getAttribute("data-file-upload-id")||t.id||"upload-"+Date.now();this.setState(t,{currentImageIndex:0,images:[],isOpen:!1,elementId:e})}initializeLightboxForImage(t){const e=t.id||"image-"+Date.now(),n=t.closest("[data-lightbox-container]")||t,i=t.querySelector("img")||t;if(i&&i.tagName==="IMG"){const s=this.extractImageData(i,e);this.setState(n,{currentImageIndex:0,images:[s],isOpen:!1,elementId:e})}}initializeLightboxForGallery(t){const e=t.getAttribute("data-gallery-id")||t.id||"gallery-"+Date.now(),n=[];t.querySelectorAll("[data-gallery-image]").forEach((s,a)=>{const o=s.querySelector("img")||s;o&&o.tagName==="IMG"&&n.push(this.extractImageData(o,`${e}-${a}`,a))}),this.setState(t,{currentImageIndex:0,images:n,isOpen:!1,elementId:e})}getFilenameFromSrc(t){try{return new URL(t).pathname.split("/").pop()||"image"}catch{return t.split("/").pop()||"image"}}extractImageData(t,e,n){return{id:e,src:t.src,alt:t.alt||(n!==void 0?`Gallery image ${n+1}`:"Image"),fileName:t.getAttribute("data-filename")||this.getFilenameFromSrc(t.src),fileSize:t.getAttribute("data-filesize")||"Unknown size",fileType:t.getAttribute("data-filetype")||"image"}}handleThumbnailClick(t,e){e.preventDefault(),e.stopPropagation();const n=this.findLightboxContainer(t);if(!n)return;const i=this.getState(n);if(!i)return;let s=0;const a=t.getAttribute("data-lightbox-trigger");a&&(s=i.images.findIndex(l=>l.id===a));const o=t.getAttribute("data-gallery-image");o!==null&&(s=parseInt(o,10)),t.hasAttribute("data-lightbox-image")&&(s=0),!(s===-1||s>=i.images.length)&&this.openLightbox(n,s)}handleCloseClick(t,e){e.preventDefault(),this.closeLightbox()}handlePrevClick(t,e){e.preventDefault(),this.navigateToPrevious()}handleNextClick(t,e){e.preventDefault(),this.navigateToNext()}handleKeydown(t){if(!(!this.currentModal||!this.currentModal.open))switch(t.key){case"Escape":t.preventDefault(),this.closeLightbox();break;case"ArrowLeft":t.preventDefault(),this.navigateToPrevious();break;case"ArrowRight":t.preventDefault(),this.navigateToNext();break}}handleModalBackgroundClick(t,e){e.target===t&&this.closeLightbox()}openLightbox(t,e){const n=this.getState(t);if(!n||!n.images.length)return;n.currentImageIndex=e,n.isOpen=!0,this.setState(t,n);const i=this.getOrCreateLightboxModal(t);this.currentModal=i,this.updateModalContent(i,n),i.showModal(),D.dispatchCustomEvent(t,"lightbox:open",{imageIndex:e,image:n.images[e]})}closeLightbox(){if(!this.currentModal)return;const t=this.findContainerElementFromModal(this.currentModal);if(t){const e=this.getState(t);e&&(e.isOpen=!1,this.setState(t,e)),D.dispatchCustomEvent(t,"lightbox:close",{})}this.currentModal.close(),this.currentModal=null}navigateToPrevious(){if(!this.currentModal)return;const t=this.findContainerElementFromModal(this.currentModal);if(!t)return;const e=this.getState(t);if(!e||!e.images.length)return;const n=e.currentImageIndex>0?e.currentImageIndex-1:e.images.length-1;e.currentImageIndex=n,this.setState(t,e),this.updateModalContent(this.currentModal,e),D.dispatchCustomEvent(t,"lightbox:navigate",{direction:"previous",imageIndex:n,image:e.images[n]})}navigateToNext(){if(!this.currentModal)return;const t=this.findContainerElementFromModal(this.currentModal);if(!t)return;const e=this.getState(t);if(!e||!e.images.length)return;const n=e.currentImageIndex<e.images.length-1?e.currentImageIndex+1:0;e.currentImageIndex=n,this.setState(t,e),this.updateModalContent(this.currentModal,e),D.dispatchCustomEvent(t,"lightbox:navigate",{direction:"next",imageIndex:n,image:e.images[n]})}getOrCreateLightboxModal(t){const n=this.getElementId(t)+"-lightbox-modal";let i=document.getElementById(n);return i||(i=this.createLightboxModal(n),document.body.appendChild(i)),i}getElementId(t){const e=t.getAttribute("data-file-upload-id");if(e)return e;const n=t.getAttribute("data-gallery-id");return n||t.id||"lightbox-"+Date.now()}createLightboxModal(t){const e=y.createElement("dialog",{attributes:{id:t,"data-lightbox-modal":"true","data-modal":"true",class:"lightbox-modal p-0 m-0 w-full h-full max-w-none max-h-none bg-black/90 backdrop:bg-black/50"}});return e.innerHTML=`
            <div class="lightbox-content relative w-full h-full flex items-center justify-center p-8">
                <!-- Close button -->
                <button
                    type="button"
                    class="lightbox-close absolute top-4 right-4 z-20 w-10 h-10 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all duration-200 flex items-center justify-center"
                    data-lightbox-close="true"
                    aria-label="Close lightbox"
                >
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>

                <!-- Previous button -->
                <button
                    type="button"
                    class="lightbox-nav lightbox-prev absolute left-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all duration-200 flex items-center justify-center"
                    data-lightbox-prev="true"
                    aria-label="Previous image"
                >
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>

                <!-- Next button -->
                <button
                    type="button"
                    class="lightbox-nav lightbox-next absolute right-4 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-black/50 hover:bg-black/70 text-white rounded-full transition-all duration-200 flex items-center justify-center"
                    data-lightbox-next="true"
                    aria-label="Next image"
                >
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>

                <!-- Image container -->
                <div class="lightbox-image-container flex-1 flex items-center justify-center">
                    <img
                        class="lightbox-image max-w-full max-h-full object-contain"
                        src=""
                        alt=""
                        data-lightbox-image="true"
                    />
                </div>

                <!-- Image info -->
                <div class="lightbox-info absolute bottom-4 left-4 right-4 z-20 bg-black/70 text-white p-4 rounded-lg">
                    <h3 class="lightbox-title text-lg font-semibold mb-1" data-lightbox-title="true"></h3>
                    <div class="lightbox-meta text-sm text-white/80 flex items-center gap-4">
                        <span data-lightbox-size="true"></span>
                        <span data-lightbox-counter="true"></span>
                    </div>
                </div>
            </div>
        `,e}updateModalContent(t,e){const n=e.images[e.currentImageIndex];if(!n)return;const i=t.querySelector("[data-lightbox-image]");i&&(i.src=n.src,i.alt=n.alt);const s=t.querySelector("[data-lightbox-title]");s&&(s.textContent=n.fileName);const a=t.querySelector("[data-lightbox-size]");a&&(a.textContent=n.fileSize);const o=t.querySelector("[data-lightbox-counter]");o&&(o.textContent=`${e.currentImageIndex+1} of ${e.images.length}`);const l=t.querySelector("[data-lightbox-prev]"),c=t.querySelector("[data-lightbox-next]");if(l&&c){const u=e.images.length>1;l.style.display=u?"flex":"none",c.style.display=u?"flex":"none"}}findLightboxContainer(t){const e=y.findClosest(t,"[data-file-upload-id]");if(e)return e;const n=y.findClosest(t,"[data-gallery]");if(n)return n;const i=y.findClosest(t,"[data-lightbox-container]");return i||(t.hasAttribute("data-lightbox-image")?t:null)}findContainerElementFromModal(t){const n=t.id.replace("-lightbox-modal","");let i=document.querySelector(`[data-file-upload-id="${n}"]`);return i||(i=document.querySelector(`[data-gallery-id="${n}"]`),i)||(i=document.getElementById(n),i)?i:null}addImage(t,e){const n=this.getState(t);n&&(n.images.push(e),this.setState(t,n))}addImages(t,e){const n=this.getState(t);n&&(n.images.push(...e),this.setState(t,n))}setImages(t,e){const n=this.getState(t);n&&(n.images=e,this.setState(t,n))}removeImage(t,e){const n=this.getState(t);if(!n)return;const i=n.images.findIndex(s=>s.id===e);i!==-1&&(n.images.splice(i,1),n.currentImageIndex>=n.images.length&&(n.currentImageIndex=Math.max(0,n.images.length-1)),this.setState(t,n),n.images.length===0&&n.isOpen&&this.closeLightbox())}destroy(){this.cleanupFunctions.forEach(t=>t()),this.cleanupFunctions=[],this.currentModal&&(this.currentModal.close(),this.currentModal=null),super.destroy()}}class Fo extends G{constructor(){super(),this.lightboxActions=new Zb,this.init()}initializeElements(){this.lightboxActions.init(),y.findByDataAttribute("gallery","true").forEach(t=>{this.initializeGallery(t)})}bindEventListeners(){D.handleDelegatedKeydown('[data-gallery="true"]',(t,e)=>{const n=t.dataset.galleryId;n&&this.handleKeyboardNavigation(e,n,t)})}extractImageData(t){const e=[];return t.querySelectorAll("[data-gallery-slide]").forEach((i,s)=>{const a=i.querySelector("img");a&&e.push({id:i.getAttribute("data-gallery-slide")||`img-${s}`,src:a.src,alt:a.alt||`Image ${s+1}`,caption:a.getAttribute("data-caption"),thumbnail:a.src,title:a.getAttribute("data-title"),description:a.getAttribute("data-description")})}),e}initializeGallery(t){const e=t.dataset.galleryId;if(!e)return;const n=parseInt(t.dataset.totalImages||"0"),i=this.extractImageData(t);this.setState(t,{currentIndex:0,isAutoplayActive:t.dataset.autoplay==="true",autoplayInterval:null,touchStartX:0,touchEndX:0,isDragging:!1,totalImages:n,images:i}),this.setupGalleryEventListeners(t,e),t.dataset.autoplay==="true"&&this.startAutoplay(e,t),this.updateAccessibility(t,e),this.initializeImageErrorHandling(t),this.preloadAdjacentImages(t,0)}setupGalleryEventListeners(t,e){const n=t.querySelector('[data-gallery-action="prev"]'),i=t.querySelector('[data-gallery-action="next"]');n&&D.addEventListener(n,"click",()=>{this.navigateToImage(e,t,"prev")}),i&&D.addEventListener(i,"click",()=>{this.navigateToImage(e,t,"next")}),t.querySelectorAll("[data-gallery-thumbnail]").forEach((o,l)=>{D.addEventListener(o,"click",()=>{this.goToImage(e,t,l)}),D.addEventListener(o,"keydown",c=>{const u=c;(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),this.goToImage(e,t,l))})});const a=t.querySelector('[data-gallery-action="toggle-autoplay"]');a&&D.addEventListener(a,"click",()=>{this.toggleAutoplay(e,t)}),this.setupTouchEvents(t,e),D.addEventListener(t,"mouseenter",()=>{this.pauseAutoplayOnHover(e)}),D.addEventListener(t,"mouseleave",()=>{this.resumeAutoplayOnHover(e,t)})}setupTouchEvents(t,e){const n=t.querySelector(".gallery-main");n&&(D.addEventListener(n,"touchstart",i=>{const s=i,a=this.getState(t);a&&(a.touchStartX=s.touches[0].clientX,a.isDragging=!0,this.setState(t,a))}),D.addEventListener(n,"touchmove",i=>{const s=i,a=this.getState(t);a!=null&&a.isDragging&&(a.touchEndX=s.touches[0].clientX,this.setState(t,a))}),D.addEventListener(n,"touchend",()=>{const i=this.getState(t);if(!(i!=null&&i.isDragging))return;i.isDragging=!1;const s=i.touchStartX-i.touchEndX;Math.abs(s)>50&&(s>0?this.navigateToImage(e,t,"next"):this.navigateToImage(e,t,"prev")),this.setState(t,i)}))}handleKeyboardNavigation(t,e,n){switch(t.key){case"ArrowLeft":t.preventDefault(),this.navigateToImage(e,n,"prev");break;case"ArrowRight":t.preventDefault(),this.navigateToImage(e,n,"next");break;case"Home":t.preventDefault(),this.goToImage(e,n,0);break;case"End":t.preventDefault();const i=this.getState(n);i&&this.goToImage(e,n,i.totalImages-1);break;case"Escape":t.preventDefault(),this.handleEscapeKey(e,n);break;case" ":case"Spacebar":t.preventDefault(),this.toggleAutoplay(e,n);break;case"Enter":const s=t.target;if(s.hasAttribute("data-gallery-thumbnail")){t.preventDefault();const a=parseInt(s.getAttribute("data-gallery-thumbnail")||"0");this.goToImage(e,n,a)}break}}handleEscapeKey(t,e){const n=e.dataset.lightbox==="true",i=this.getState(e);n?this.closeLightbox(e):i!=null&&i.isAutoplayActive&&this.pauseAutoplay(t,e),this.announceAction(e,"Gallery navigation closed")}closeLightbox(t){const e=this.lightboxActions.getState(t);e&&e.isOpen&&(this.emitGalleryEvent(t,"gallery:lightboxClose",{}),this.announceAction(t,"Lightbox closed"))}announceAction(t,e){const n=t.querySelector("[data-gallery-live]");n&&(n.textContent=e,setTimeout(()=>{n.textContent===e&&(n.textContent="")},1e3))}navigateToImage(t,e,n){const i=this.getState(e);if(!i)return;const s=parseInt(e.dataset.totalImages||"0"),a=e.dataset.loop==="true";let o=i.currentIndex;n==="next"?(o=i.currentIndex+1,o>=s&&(o=a?0:s-1)):(o=i.currentIndex-1,o<0&&(o=a?s-1:0)),this.goToImage(t,e,o)}goToImage(t,e,n){const i=this.getState(e);if(!i)return;const s=parseInt(e.dataset.totalImages||"0");n<0||n>=s||(i.currentIndex=n,this.setState(e,i),this.updateImageDisplay(e,n),this.updateThumbnails(e,n),this.updateCounter(e,n),this.updateImageDetails(e,n),this.updateNavigationButtons(e,n,s),this.updateAccessibility(e,t),this.announceImageChange(e,n,s),this.preloadAdjacentImages(e,n),this.emitGalleryEvent(e,"gallery:imageChanged",{currentIndex:n,galleryId:t}))}updateImageDisplay(t,e){t.querySelectorAll(".gallery-slide").forEach((i,s)=>{const a=i;s===e?(a.classList.remove("opacity-0"),a.classList.add("opacity-100","active")):(a.classList.remove("opacity-100","active"),a.classList.add("opacity-0"))})}updateThumbnails(t,e){t.querySelectorAll(".gallery-thumbnail").forEach((i,s)=>{const a=i;s===e?(a.classList.add("active","border-brand-500"),a.classList.remove("border-transparent"),a.setAttribute("aria-current","true")):(a.classList.remove("active","border-brand-500"),a.classList.add("border-transparent"),a.removeAttribute("aria-current"))})}updateCounter(t,e){const n=t.querySelector("[data-gallery-current]");n&&(n.textContent=(e+1).toString())}updateImageDetails(t,e){t.querySelector("[data-gallery-title]"),t.querySelector("[data-gallery-description]")}updateNavigationButtons(t,e,n){const i=t.querySelector('[data-gallery-action="prev"]'),s=t.querySelector('[data-gallery-action="next"]'),a=t.dataset.loop==="true";i&&(i.disabled=!a&&e===0),s&&(s.disabled=!a&&e===n-1)}startAutoplay(t,e){const n=this.getState(e);if(!n)return;const i=parseInt(e.dataset.autoplayDelay||"3000");n.autoplayInterval=window.setInterval(()=>{this.navigateToImage(t,e,"next")},i),n.isAutoplayActive=!0,this.setState(e,n),this.updateAutoplayButton(e,!0)}pauseAutoplay(t,e){const n=this.getState(e);n&&(n.autoplayInterval&&(clearInterval(n.autoplayInterval),n.autoplayInterval=null),n.isAutoplayActive=!1,this.setState(e,n),this.updateAutoplayButton(e,!1))}toggleAutoplay(t,e){const n=this.getState(e);n&&(n.isAutoplayActive?this.pauseAutoplay(t,e):this.startAutoplay(t,e))}updateAutoplayButton(t,e){const n=t.querySelector(".gallery-autoplay-toggle");if(n){n.setAttribute("aria-pressed",e.toString()),n.setAttribute("aria-label",e?"Pause autoplay":"Resume autoplay");const i=n.querySelector(".button-icon-default"),s=n.querySelector(".button-icon-toggle");i&&s&&(e?(i.classList.remove("opacity-0"),i.classList.add("opacity-100"),s.classList.remove("opacity-100"),s.classList.add("opacity-0")):(i.classList.remove("opacity-100"),i.classList.add("opacity-0"),s.classList.remove("opacity-0"),s.classList.add("opacity-100")))}}pauseAutoplayOnHover(t){const e=document.querySelector(`[data-gallery-id="${t}"]`);if(!e)return;const n=this.getState(e);!(n!=null&&n.isAutoplayActive)||!n.autoplayInterval||(clearInterval(n.autoplayInterval),n.autoplayInterval=null,this.setState(e,n))}resumeAutoplayOnHover(t,e){const n=this.getState(e);if(!(n!=null&&n.isAutoplayActive)||n.autoplayInterval)return;const i=parseInt(e.dataset.autoplayDelay||"3000");n.autoplayInterval=window.setInterval(()=>{this.navigateToImage(t,e,"next")},i),this.setState(e,n)}updateAccessibility(t,e){const n=this.getState(t);if(!n)return;const i=parseInt(t.dataset.totalImages||"0"),s=t.querySelector(`[data-gallery-slide="${n.currentIndex}"]`);s&&(s.setAttribute("aria-current","true"),s.setAttribute("aria-label",`Image ${n.currentIndex+1} of ${i}`)),t.querySelectorAll("[data-gallery-slide]").forEach((o,l)=>{l!==n.currentIndex&&o.removeAttribute("aria-current")})}emitGalleryEvent(t,e,n){const i=new CustomEvent(e,{detail:n,bubbles:!0});t.dispatchEvent(i)}announceImageChange(t,e,n){const i=t.querySelector("[data-gallery-live]");if(i){const a=t.querySelectorAll("[data-gallery-slide]")[e],o=a==null?void 0:a.querySelector("img"),c=`Showing ${(o==null?void 0:o.getAttribute("alt"))||`Image ${e+1}`}, image ${e+1} of ${n}`;i.textContent=c,setTimeout(()=>{i.textContent===c&&(i.textContent="")},1e3)}}initializeImageErrorHandling(t){t.querySelectorAll(".gallery-slide img").forEach(i=>{const s=i;s.complete||this.setImageLoadingState(s,!0),s.addEventListener("load",()=>{this.setImageLoadingState(s,!1),this.setImageErrorState(s,!1)}),s.addEventListener("error",()=>{this.setImageLoadingState(s,!1),this.setImageErrorState(s,!0),this.handleImageError(s,t),console.warn(`Failed to load gallery image: ${s.src}`)})}),t.querySelectorAll(".gallery-thumbnail img").forEach(i=>{const s=i;s.addEventListener("error",()=>{this.setThumbnailErrorState(s,!0),console.warn(`Failed to load gallery thumbnail: ${s.src}`)})})}setImageLoadingState(t,e){const n=t.closest(".gallery-slide");n&&(e?(n.classList.add("gallery-image-loading"),n.setAttribute("aria-busy","true")):(n.classList.remove("gallery-image-loading"),n.removeAttribute("aria-busy")))}setImageErrorState(t,e){const n=t.closest(".gallery-slide");if(n)if(e)n.classList.add("gallery-image-error"),n.setAttribute("aria-label","Image failed to load"),n.querySelector(".gallery-error-placeholder")||this.createImageErrorPlaceholder(n);else{n.classList.remove("gallery-image-error"),n.removeAttribute("aria-label");const i=n.querySelector(".gallery-error-placeholder");i&&i.remove()}}setThumbnailErrorState(t,e){const n=t.closest(".gallery-thumbnail");n&&e&&(n.classList.add("gallery-thumbnail-error"),t.style.display="none",n.querySelector(".gallery-thumbnail-error-placeholder")||this.createThumbnailErrorPlaceholder(n))}createImageErrorPlaceholder(t){const e=document.createElement("div");e.className="gallery-error-placeholder absolute inset-0 flex items-center justify-center bg-surface border border-border rounded-lg",e.innerHTML=`
            <div class="text-center">
                <div class="w-16 h-16 mx-auto mb-3 text-muted opacity-50">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                    </svg>
                </div>
                <p class="text-sm text-muted">Image failed to load</p>
            </div>
        `,t.appendChild(e)}createThumbnailErrorPlaceholder(t){const e=document.createElement("div");e.className="gallery-thumbnail-error-placeholder absolute inset-0 flex items-center justify-center bg-surface border border-border rounded text-muted",e.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
            </svg>
        `,t.appendChild(e)}preloadAdjacentImages(t,e){const n=parseInt(t.dataset.totalImages||"0"),i=t.dataset.loop==="true",s=[],a=e-1;a>=0?s.push(a):i&&n>1&&s.push(n-1);const o=e+1;o<n?s.push(o):i&&n>1&&s.push(0),s.forEach(l=>{const c=t.querySelector(`[data-gallery-slide="${l}"]`);if(c){const u=c.querySelector("img");if(u&&u.src&&!u.complete){const h=new Image;h.src=u.src,h.onerror=()=>{console.warn(`Failed to preload image: ${h.src}`)}}}})}handleImageError(t,e){const n=parseInt(t.dataset.retryCount||"0");n<2?(t.dataset.retryCount=(n+1).toString(),setTimeout(()=>{const s=t.src;t.src="",t.src=s+"?retry="+n},1e3*(n+1))):(this.checkGalleryHealth(e),this.announceAction(e,"Image failed to load"))}checkGalleryHealth(t){const e=t.querySelectorAll(".gallery-slide img").length;t.querySelectorAll(".gallery-image-error").length>e/2&&this.setGalleryErrorState(t,!0)}setGalleryErrorState(t,e){e?(t.classList.add("gallery-has-errors"),this.announceAction(t,"Gallery has loading issues. Some images may not be available.")):t.classList.remove("gallery-has-errors")}cleanup(t){const e=document.querySelector(`[data-gallery-id="${t}"]`);if(!e)return;const n=this.getState(e);n!=null&&n.autoplayInterval&&clearInterval(n.autoplayInterval),this.removeState(e)}}class Hs{constructor(){console.log("PopoverActions: Using native HTML Popover API")}}new Hs;function xd(){const r=document.querySelectorAll('[data-keys-file-upload="true"]:not([data-initialized="true"])'),t=typeof window.Livewire<"u";r.forEach(e=>{const n=e,i=n.querySelector(".file-input");i&&(Jb(n,i),ty(n,i),ey(n,i),ny(n,i),ry(n,i,t),n.dataset.initialized="true")})}function Jb(r,t,e){t.addEventListener("change",()=>{t.files&&t.files.length>0?kd(r,t,t.files[0]):Sd(r)})}function ty(r,t){if(r.dataset.dragDrop!=="true"||r.dataset.disabled==="true")return;["dragenter","dragover","dragleave","drop"].forEach(n=>r.addEventListener(n,oy)),["dragenter","dragover"].forEach(n=>{r.addEventListener(n,()=>r.classList.add("dragover"))}),["dragleave","drop"].forEach(n=>{r.addEventListener(n,()=>r.classList.remove("dragover"))}),r.addEventListener("drop",n=>{var s;const i=(s=n.dataTransfer)==null?void 0:s.files;i&&i.length>0&&kd(r,t,i[0])})}function ey(r,t){const e=r.querySelector('[type="button"]:not(.file-change-btn)');e&&e.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),t.disabled||t.click()});const n=r.querySelector(".file-change-btn");n&&n.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),t.disabled||t.click()}),r.addEventListener("click",i=>{var l;const s=i.target;!((l=r.querySelector(".upload-empty-state"))!=null&&l.classList.contains("hidden"))&&(s===r||s.closest(".upload-empty-state")||s.closest(".file-input"))&&!s.closest("button")&&!t.disabled&&t.click()})}function ny(r,t){const e=r.querySelector(".file-remove");e&&e.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),t.value="",Sd(r),Ho(r),Cd(r,"File removed"),r.dataset.livewire==="true"&&t.dispatchEvent(new Event("change",{bubbles:!0}))})}function ry(r,t,e){!e||r.dataset.livewire!=="true"||(t.addEventListener("livewire-upload-start",()=>{Tr(r,!0),Uo(r,0)}),t.addEventListener("livewire-upload-progress",n=>{var s;const i=n;(s=i.detail)!=null&&s.progress&&Uo(r,i.detail.progress)}),t.addEventListener("livewire-upload-finish",()=>{Tr(r,!1),t.files&&t.files.length>0&&Ad(r,t.files[0])}),t.addEventListener("livewire-upload-error",n=>{var s;Ed(r,((s=n.detail)==null?void 0:s.message)||"Upload failed. Please try again."),Tr(r,!1)}),t.addEventListener("livewire-upload-cancel",()=>{Tr(r,!1),Ho(r)}))}function kd(r,t,e,n){const i=iy(r,e);if(!i.valid){Ed(r,i.error||"Invalid file");return}Ho(r),r.dataset.livewire==="true"?(Tr(r,!0),Uo(r,0)):Ad(r,e)}function iy(r,t){const e=r.dataset.accept,n=r.dataset.maxSize,i=r.dataset.maxSizeFormatted;if(e&&e!=="*"){const s=e.split(",").map(o=>o.trim());if(!s.some(o=>o.startsWith(".")?t.name.toLowerCase().endsWith(o.toLowerCase()):o.includes("*")?t.type.startsWith(o.split("/")[0]+"/"):t.type===o))return{valid:!1,error:`File type not allowed. Accepted: ${s.join(", ")}`}}return n&&t.size>parseInt(n)?{valid:!1,error:`File too large. Maximum size: ${i||"10MB"}`}:{valid:!0}}function Sd(r){const t=r.querySelector(".upload-empty-state"),e=r.querySelector(".upload-file-state");ge(t,!0),ge(e,!1),Tr(r,!1),r.classList.remove("dragover")}function Ad(r,t){const e=r.querySelector(".upload-empty-state"),n=r.querySelector(".upload-file-state");ge(e,!1),ge(n,!0),sy(r,t),Cd(r,`File selected: ${t.name}`)}function sy(r,t){const e=r.querySelector(".file-name"),n=r.querySelector(".file-size"),i=r.querySelector(".file-preview-image"),s=r.querySelector(".file-icon");if(e&&(e.textContent=t.name),n&&(n.textContent=ay(t.size)),t.type.startsWith("image/")){const a=new FileReader;a.onload=o=>{var l;i&&((l=o.target)!=null&&l.result)&&(i.src=o.target.result,ge(i,!0),ge(s,!1))},a.readAsDataURL(t)}else ge(i,!1),ge(s,!0)}function Tr(r,t){const e=r.querySelector(".upload-progress");ge(e,t)}function Ed(r,t){const e=r.querySelector(".error-message");e&&(e.textContent=t,ge(e,!0)),r.setAttribute("data-invalid","true")}function Ho(r){const t=r.querySelector(".error-message");t&&ge(t,!1),r.removeAttribute("data-invalid")}function ay(r){if(r===0)return"0 Bytes";const t=1024,e=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(t));return parseFloat((r/Math.pow(t,n)).toFixed(2))+" "+e[n]}function ge(r,t){r&&r.classList.toggle("hidden",!t)}function Uo(r,t){const e=r.querySelector(".upload-progress-bar");e&&(e.style.width=`${t}%`)}function oy(r){r.preventDefault(),r.stopPropagation()}function Cd(r,t){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.className="sr-only",e.textContent=t,r.appendChild(e),setTimeout(()=>{r.contains(e)&&r.removeChild(e)},1e3)}document.addEventListener("DOMContentLoaded",xd),typeof window.Livewire<"u"&&document.addEventListener("livewire:navigated",xd);var Td=typeof global=="object"&&global&&global.Object===Object&&global,ly=typeof self=="object"&&self&&self.Object===Object&&self,$e=Td||ly||Function("return this")(),Cn=$e.Symbol,Ld=Object.prototype,cy=Ld.hasOwnProperty,uy=Ld.toString,vi=Cn?Cn.toStringTag:void 0;function dy(r){var t=cy.call(r,vi),e=r[vi];try{r[vi]=void 0;var n=!0}catch{}var i=uy.call(r);return n&&(t?r[vi]=e:delete r[vi]),i}var hy=Object.prototype,fy=hy.toString;function py(r){return fy.call(r)}var gy="[object Null]",my="[object Undefined]",Dd=Cn?Cn.toStringTag:void 0;function Lr(r){return r==null?r===void 0?my:gy:Dd&&Dd in Object(r)?dy(r):py(r)}function on(r){return r!=null&&typeof r=="object"}var Qn=Array.isArray;function Tn(r){var t=typeof r;return r!=null&&(t=="object"||t=="function")}function Id(r){return r}var by="[object AsyncFunction]",yy="[object Function]",vy="[object GeneratorFunction]",wy="[object Proxy]";function Vo(r){if(!Tn(r))return!1;var t=Lr(r);return t==yy||t==vy||t==by||t==wy}var Yo=$e["__core-js_shared__"],Od=function(){var r=/[^.]+$/.exec(Yo&&Yo.keys&&Yo.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function xy(r){return!!Od&&Od in r}var ky=Function.prototype,Sy=ky.toString;function Xn(r){if(r!=null){try{return Sy.call(r)}catch{}try{return r+""}catch{}}return""}var Ay=/[\\^$.*+?()[\]{}|]/g,Ey=/^\[object .+?Constructor\]$/,Cy=Function.prototype,Ty=Object.prototype,Ly=Cy.toString,Dy=Ty.hasOwnProperty,Iy=RegExp("^"+Ly.call(Dy).replace(Ay,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oy(r){if(!Tn(r)||xy(r))return!1;var t=Vo(r)?Iy:Ey;return t.test(Xn(r))}function Ny(r,t){return r==null?void 0:r[t]}function Zn(r,t){var e=Ny(r,t);return Oy(e)?e:void 0}var Wo=Zn($e,"WeakMap"),Nd=Object.create,My=function(){function r(){}return function(t){if(!Tn(t))return{};if(Nd)return Nd(t);r.prototype=t;var e=new r;return r.prototype=void 0,e}}();function qy(r,t,e){switch(e.length){case 0:return r.call(t);case 1:return r.call(t,e[0]);case 2:return r.call(t,e[0],e[1]);case 3:return r.call(t,e[0],e[1],e[2])}return r.apply(t,e)}function _y(r,t){var e=-1,n=r.length;for(t||(t=Array(n));++e<n;)t[e]=r[e];return t}var Ry=800,zy=16,By=Date.now;function Py(r){var t=0,e=0;return function(){var n=By(),i=zy-(n-e);if(e=n,i>0){if(++t>=Ry)return arguments[0]}else t=0;return r.apply(void 0,arguments)}}function $y(r){return function(){return r}}var Us=function(){try{var r=Zn(Object,"defineProperty");return r({},"",{}),r}catch{}}(),jy=Us?function(r,t){return Us(r,"toString",{configurable:!0,enumerable:!1,value:$y(t),writable:!0})}:Id,Fy=Py(jy);function Hy(r,t){for(var e=-1,n=r==null?0:r.length;++e<n&&t(r[e],e,r)!==!1;);return r}var Uy=9007199254740991,Vy=/^(?:0|[1-9]\d*)$/;function Md(r,t){var e=typeof r;return t=t??Uy,!!t&&(e=="number"||e!="symbol"&&Vy.test(r))&&r>-1&&r%1==0&&r<t}function Go(r,t,e){t=="__proto__"&&Us?Us(r,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[t]=e}function wi(r,t){return r===t||r!==r&&t!==t}var Yy=Object.prototype,Wy=Yy.hasOwnProperty;function qd(r,t,e){var n=r[t];(!(Wy.call(r,t)&&wi(n,e))||e===void 0&&!(t in r))&&Go(r,t,e)}function Gy(r,t,e,n){var i=!e;e||(e={});for(var s=-1,a=t.length;++s<a;){var o=t[s],l=void 0;l===void 0&&(l=r[o]),i?Go(e,o,l):qd(e,o,l)}return e}var _d=Math.max;function Ky(r,t,e){return t=_d(t===void 0?r.length-1:t,0),function(){for(var n=arguments,i=-1,s=_d(n.length-t,0),a=Array(s);++i<s;)a[i]=n[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=n[i];return o[t]=e(a),qy(r,this,o)}}function Qy(r,t){return Fy(Ky(r,t,Id),r+"")}var Xy=9007199254740991;function Rd(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Xy}function Vs(r){return r!=null&&Rd(r.length)&&!Vo(r)}function Zy(r,t,e){if(!Tn(e))return!1;var n=typeof t;return(n=="number"?Vs(e)&&Md(t,e.length):n=="string"&&t in e)?wi(e[t],r):!1}function Jy(r){return Qy(function(t,e){var n=-1,i=e.length,s=i>1?e[i-1]:void 0,a=i>2?e[2]:void 0;for(s=r.length>3&&typeof s=="function"?(i--,s):void 0,a&&Zy(e[0],e[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var o=e[n];o&&r(t,o,n,s)}return t})}var tv=Object.prototype;function Ko(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||tv;return r===e}function ev(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}var nv="[object Arguments]";function zd(r){return on(r)&&Lr(r)==nv}var Bd=Object.prototype,rv=Bd.hasOwnProperty,iv=Bd.propertyIsEnumerable,Qo=zd(function(){return arguments}())?zd:function(r){return on(r)&&rv.call(r,"callee")&&!iv.call(r,"callee")};function sv(){return!1}var Pd=typeof j=="object"&&j&&!j.nodeType&&j,$d=Pd&&typeof module=="object"&&module&&!module.nodeType&&module,av=$d&&$d.exports===Pd,jd=av?$e.Buffer:void 0,ov=jd?jd.isBuffer:void 0,xi=ov||sv,lv="[object Arguments]",cv="[object Array]",uv="[object Boolean]",dv="[object Date]",hv="[object Error]",fv="[object Function]",pv="[object Map]",gv="[object Number]",mv="[object Object]",bv="[object RegExp]",yv="[object Set]",vv="[object String]",wv="[object WeakMap]",xv="[object ArrayBuffer]",kv="[object DataView]",Sv="[object Float32Array]",Av="[object Float64Array]",Ev="[object Int8Array]",Cv="[object Int16Array]",Tv="[object Int32Array]",Lv="[object Uint8Array]",Dv="[object Uint8ClampedArray]",Iv="[object Uint16Array]",Ov="[object Uint32Array]",ut={};ut[Sv]=ut[Av]=ut[Ev]=ut[Cv]=ut[Tv]=ut[Lv]=ut[Dv]=ut[Iv]=ut[Ov]=!0,ut[lv]=ut[cv]=ut[xv]=ut[uv]=ut[kv]=ut[dv]=ut[hv]=ut[fv]=ut[pv]=ut[gv]=ut[mv]=ut[bv]=ut[yv]=ut[vv]=ut[wv]=!1;function Nv(r){return on(r)&&Rd(r.length)&&!!ut[Lr(r)]}function Xo(r){return function(t){return r(t)}}var Fd=typeof j=="object"&&j&&!j.nodeType&&j,ki=Fd&&typeof module=="object"&&module&&!module.nodeType&&module,Mv=ki&&ki.exports===Fd,Zo=Mv&&Td.process,Dr=function(){try{var r=ki&&ki.require&&ki.require("util").types;return r||Zo&&Zo.binding&&Zo.binding("util")}catch{}}(),Hd=Dr&&Dr.isTypedArray,Jo=Hd?Xo(Hd):Nv,qv=Object.prototype,_v=qv.hasOwnProperty;function Ud(r,t){var e=Qn(r),n=!e&&Qo(r),i=!e&&!n&&xi(r),s=!e&&!n&&!i&&Jo(r),a=e||n||i||s,o=a?ev(r.length,String):[],l=o.length;for(var c in r)(t||_v.call(r,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Md(c,l)))&&o.push(c);return o}function Vd(r,t){return function(e){return r(t(e))}}var Rv=Vd(Object.keys,Object),zv=Object.prototype,Bv=zv.hasOwnProperty;function Pv(r){if(!Ko(r))return Rv(r);var t=[];for(var e in Object(r))Bv.call(r,e)&&e!="constructor"&&t.push(e);return t}function $v(r){return Vs(r)?Ud(r):Pv(r)}function jv(r){var t=[];if(r!=null)for(var e in Object(r))t.push(e);return t}var Fv=Object.prototype,Hv=Fv.hasOwnProperty;function Uv(r){if(!Tn(r))return jv(r);var t=Ko(r),e=[];for(var n in r)n=="constructor"&&(t||!Hv.call(r,n))||e.push(n);return e}function Yd(r){return Vs(r)?Ud(r,!0):Uv(r)}var Si=Zn(Object,"create");function Vv(){this.__data__=Si?Si(null):{},this.size=0}function Yv(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t}var Wv="__lodash_hash_undefined__",Gv=Object.prototype,Kv=Gv.hasOwnProperty;function Qv(r){var t=this.__data__;if(Si){var e=t[r];return e===Wv?void 0:e}return Kv.call(t,r)?t[r]:void 0}var Xv=Object.prototype,Zv=Xv.hasOwnProperty;function Jv(r){var t=this.__data__;return Si?t[r]!==void 0:Zv.call(t,r)}var t1="__lodash_hash_undefined__";function e1(r,t){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=Si&&t===void 0?t1:t,this}function Jn(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}Jn.prototype.clear=Vv,Jn.prototype.delete=Yv,Jn.prototype.get=Qv,Jn.prototype.has=Jv,Jn.prototype.set=e1;function n1(){this.__data__=[],this.size=0}function Ys(r,t){for(var e=r.length;e--;)if(wi(r[e][0],t))return e;return-1}var r1=Array.prototype,i1=r1.splice;function s1(r){var t=this.__data__,e=Ys(t,r);if(e<0)return!1;var n=t.length-1;return e==n?t.pop():i1.call(t,e,1),--this.size,!0}function a1(r){var t=this.__data__,e=Ys(t,r);return e<0?void 0:t[e][1]}function o1(r){return Ys(this.__data__,r)>-1}function l1(r,t){var e=this.__data__,n=Ys(e,r);return n<0?(++this.size,e.push([r,t])):e[n][1]=t,this}function ln(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}ln.prototype.clear=n1,ln.prototype.delete=s1,ln.prototype.get=a1,ln.prototype.has=o1,ln.prototype.set=l1;var Ai=Zn($e,"Map");function c1(){this.size=0,this.__data__={hash:new Jn,map:new(Ai||ln),string:new Jn}}function u1(r){var t=typeof r;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?r!=="__proto__":r===null}function Ws(r,t){var e=r.__data__;return u1(t)?e[typeof t=="string"?"string":"hash"]:e.map}function d1(r){var t=Ws(this,r).delete(r);return this.size-=t?1:0,t}function h1(r){return Ws(this,r).get(r)}function f1(r){return Ws(this,r).has(r)}function p1(r,t){var e=Ws(this,r),n=e.size;return e.set(r,t),this.size+=e.size==n?0:1,this}function tr(r){var t=-1,e=r==null?0:r.length;for(this.clear();++t<e;){var n=r[t];this.set(n[0],n[1])}}tr.prototype.clear=c1,tr.prototype.delete=d1,tr.prototype.get=h1,tr.prototype.has=f1,tr.prototype.set=p1;function g1(r,t){for(var e=-1,n=t.length,i=r.length;++e<n;)r[i+e]=t[e];return r}var Wd=Vd(Object.getPrototypeOf,Object),m1="[object Object]",b1=Function.prototype,y1=Object.prototype,Gd=b1.toString,v1=y1.hasOwnProperty,w1=Gd.call(Object);function x1(r){if(!on(r)||Lr(r)!=m1)return!1;var t=Wd(r);if(t===null)return!0;var e=v1.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Gd.call(e)==w1}function k1(){this.__data__=new ln,this.size=0}function S1(r){var t=this.__data__,e=t.delete(r);return this.size=t.size,e}function A1(r){return this.__data__.get(r)}function E1(r){return this.__data__.has(r)}var C1=200;function T1(r,t){var e=this.__data__;if(e instanceof ln){var n=e.__data__;if(!Ai||n.length<C1-1)return n.push([r,t]),this.size=++e.size,this;e=this.__data__=new tr(n)}return e.set(r,t),this.size=e.size,this}function je(r){var t=this.__data__=new ln(r);this.size=t.size}je.prototype.clear=k1,je.prototype.delete=S1,je.prototype.get=A1,je.prototype.has=E1,je.prototype.set=T1;var Kd=typeof j=="object"&&j&&!j.nodeType&&j,Qd=Kd&&typeof module=="object"&&module&&!module.nodeType&&module,L1=Qd&&Qd.exports===Kd,Xd=L1?$e.Buffer:void 0,Zd=Xd?Xd.allocUnsafe:void 0;function Jd(r,t){if(t)return r.slice();var e=r.length,n=Zd?Zd(e):new r.constructor(e);return r.copy(n),n}function D1(r,t){for(var e=-1,n=r==null?0:r.length,i=0,s=[];++e<n;){var a=r[e];t(a,e,r)&&(s[i++]=a)}return s}function I1(){return[]}var O1=Object.prototype,N1=O1.propertyIsEnumerable,th=Object.getOwnPropertySymbols,M1=th?function(r){return r==null?[]:(r=Object(r),D1(th(r),function(t){return N1.call(r,t)}))}:I1;function q1(r,t,e){var n=t(r);return Qn(r)?n:g1(n,e(r))}function tl(r){return q1(r,$v,M1)}var el=Zn($e,"DataView"),nl=Zn($e,"Promise"),rl=Zn($e,"Set"),eh="[object Map]",_1="[object Object]",nh="[object Promise]",rh="[object Set]",ih="[object WeakMap]",sh="[object DataView]",R1=Xn(el),z1=Xn(Ai),B1=Xn(nl),P1=Xn(rl),$1=Xn(Wo),me=Lr;(el&&me(new el(new ArrayBuffer(1)))!=sh||Ai&&me(new Ai)!=eh||nl&&me(nl.resolve())!=nh||rl&&me(new rl)!=rh||Wo&&me(new Wo)!=ih)&&(me=function(r){var t=Lr(r),e=t==_1?r.constructor:void 0,n=e?Xn(e):"";if(n)switch(n){case R1:return sh;case z1:return eh;case B1:return nh;case P1:return rh;case $1:return ih}return t});var j1=Object.prototype,F1=j1.hasOwnProperty;function H1(r){var t=r.length,e=new r.constructor(t);return t&&typeof r[0]=="string"&&F1.call(r,"index")&&(e.index=r.index,e.input=r.input),e}var Gs=$e.Uint8Array;function il(r){var t=new r.constructor(r.byteLength);return new Gs(t).set(new Gs(r)),t}function U1(r,t){var e=il(r.buffer);return new r.constructor(e,r.byteOffset,r.byteLength)}var V1=/\w*$/;function Y1(r){var t=new r.constructor(r.source,V1.exec(r));return t.lastIndex=r.lastIndex,t}var ah=Cn?Cn.prototype:void 0,oh=ah?ah.valueOf:void 0;function W1(r){return oh?Object(oh.call(r)):{}}function lh(r,t){var e=t?il(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)}var G1="[object Boolean]",K1="[object Date]",Q1="[object Map]",X1="[object Number]",Z1="[object RegExp]",J1="[object Set]",t0="[object String]",e0="[object Symbol]",n0="[object ArrayBuffer]",r0="[object DataView]",i0="[object Float32Array]",s0="[object Float64Array]",a0="[object Int8Array]",o0="[object Int16Array]",l0="[object Int32Array]",c0="[object Uint8Array]",u0="[object Uint8ClampedArray]",d0="[object Uint16Array]",h0="[object Uint32Array]";function f0(r,t,e){var n=r.constructor;switch(t){case n0:return il(r);case G1:case K1:return new n(+r);case r0:return U1(r);case i0:case s0:case a0:case o0:case l0:case c0:case u0:case d0:case h0:return lh(r,e);case Q1:return new n;case X1:case t0:return new n(r);case Z1:return Y1(r);case J1:return new n;case e0:return W1(r)}}function ch(r){return typeof r.constructor=="function"&&!Ko(r)?My(Wd(r)):{}}var p0="[object Map]";function g0(r){return on(r)&&me(r)==p0}var uh=Dr&&Dr.isMap,m0=uh?Xo(uh):g0,b0="[object Set]";function y0(r){return on(r)&&me(r)==b0}var dh=Dr&&Dr.isSet,v0=dh?Xo(dh):y0,w0=1,hh="[object Arguments]",x0="[object Array]",k0="[object Boolean]",S0="[object Date]",A0="[object Error]",fh="[object Function]",E0="[object GeneratorFunction]",C0="[object Map]",T0="[object Number]",ph="[object Object]",L0="[object RegExp]",D0="[object Set]",I0="[object String]",O0="[object Symbol]",N0="[object WeakMap]",M0="[object ArrayBuffer]",q0="[object DataView]",_0="[object Float32Array]",R0="[object Float64Array]",z0="[object Int8Array]",B0="[object Int16Array]",P0="[object Int32Array]",$0="[object Uint8Array]",j0="[object Uint8ClampedArray]",F0="[object Uint16Array]",H0="[object Uint32Array]",ot={};ot[hh]=ot[x0]=ot[M0]=ot[q0]=ot[k0]=ot[S0]=ot[_0]=ot[R0]=ot[z0]=ot[B0]=ot[P0]=ot[C0]=ot[T0]=ot[ph]=ot[L0]=ot[D0]=ot[I0]=ot[O0]=ot[$0]=ot[j0]=ot[F0]=ot[H0]=!0,ot[A0]=ot[fh]=ot[N0]=!1;function Ks(r,t,e,n,i,s){var a,o=t&w0;if(a!==void 0)return a;if(!Tn(r))return r;var l=Qn(r);if(l)a=H1(r);else{var c=me(r),u=c==fh||c==E0;if(xi(r))return Jd(r,o);if(c==ph||c==hh||u&&!i)a=u?{}:ch(r);else{if(!ot[c])return i?r:{};a=f0(r,c,o)}}s||(s=new je);var h=s.get(r);if(h)return h;s.set(r,a),v0(r)?r.forEach(function(m){a.add(Ks(m,t,e,m,r,s))}):m0(r)&&r.forEach(function(m,b){a.set(b,Ks(m,t,e,b,r,s))});var f=tl,p=l?void 0:f(r);return Hy(p||r,function(m,b){p&&(b=m,m=r[b]),qd(a,b,Ks(m,t,e,b,r,s))}),a}var U0=1,V0=4;function Ir(r){return Ks(r,U0|V0)}var Y0="__lodash_hash_undefined__";function W0(r){return this.__data__.set(r,Y0),this}function G0(r){return this.__data__.has(r)}function Qs(r){var t=-1,e=r==null?0:r.length;for(this.__data__=new tr;++t<e;)this.add(r[t])}Qs.prototype.add=Qs.prototype.push=W0,Qs.prototype.has=G0;function K0(r,t){for(var e=-1,n=r==null?0:r.length;++e<n;)if(t(r[e],e,r))return!0;return!1}function Q0(r,t){return r.has(t)}var X0=1,Z0=2;function gh(r,t,e,n,i,s){var a=e&X0,o=r.length,l=t.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(r),u=s.get(t);if(c&&u)return c==t&&u==r;var h=-1,f=!0,p=e&Z0?new Qs:void 0;for(s.set(r,t),s.set(t,r);++h<o;){var m=r[h],b=t[h];if(n)var w=a?n(b,m,h,t,r,s):n(m,b,h,r,t,s);if(w!==void 0){if(w)continue;f=!1;break}if(p){if(!K0(t,function(v,k){if(!Q0(p,k)&&(m===v||i(m,v,e,n,s)))return p.push(k)})){f=!1;break}}else if(!(m===b||i(m,b,e,n,s))){f=!1;break}}return s.delete(r),s.delete(t),f}function J0(r){var t=-1,e=Array(r.size);return r.forEach(function(n,i){e[++t]=[i,n]}),e}function tw(r){var t=-1,e=Array(r.size);return r.forEach(function(n){e[++t]=n}),e}var ew=1,nw=2,rw="[object Boolean]",iw="[object Date]",sw="[object Error]",aw="[object Map]",ow="[object Number]",lw="[object RegExp]",cw="[object Set]",uw="[object String]",dw="[object Symbol]",hw="[object ArrayBuffer]",fw="[object DataView]",mh=Cn?Cn.prototype:void 0,sl=mh?mh.valueOf:void 0;function pw(r,t,e,n,i,s,a){switch(e){case fw:if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case hw:return!(r.byteLength!=t.byteLength||!s(new Gs(r),new Gs(t)));case rw:case iw:case ow:return wi(+r,+t);case sw:return r.name==t.name&&r.message==t.message;case lw:case uw:return r==t+"";case aw:var o=J0;case cw:var l=n&ew;if(o||(o=tw),r.size!=t.size&&!l)return!1;var c=a.get(r);if(c)return c==t;n|=nw,a.set(r,t);var u=gh(o(r),o(t),n,i,s,a);return a.delete(r),u;case dw:if(sl)return sl.call(r)==sl.call(t)}return!1}var gw=1,mw=Object.prototype,bw=mw.hasOwnProperty;function yw(r,t,e,n,i,s){var a=e&gw,o=tl(r),l=o.length,c=tl(t),u=c.length;if(l!=u&&!a)return!1;for(var h=l;h--;){var f=o[h];if(!(a?f in t:bw.call(t,f)))return!1}var p=s.get(r),m=s.get(t);if(p&&m)return p==t&&m==r;var b=!0;s.set(r,t),s.set(t,r);for(var w=a;++h<l;){f=o[h];var v=r[f],k=t[f];if(n)var A=a?n(k,v,f,t,r,s):n(v,k,f,r,t,s);if(!(A===void 0?v===k||i(v,k,e,n,s):A)){b=!1;break}w||(w=f=="constructor")}if(b&&!w){var E=r.constructor,T=t.constructor;E!=T&&"constructor"in r&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(b=!1)}return s.delete(r),s.delete(t),b}var vw=1,bh="[object Arguments]",yh="[object Array]",Xs="[object Object]",ww=Object.prototype,vh=ww.hasOwnProperty;function xw(r,t,e,n,i,s){var a=Qn(r),o=Qn(t),l=a?yh:me(r),c=o?yh:me(t);l=l==bh?Xs:l,c=c==bh?Xs:c;var u=l==Xs,h=c==Xs,f=l==c;if(f&&xi(r)){if(!xi(t))return!1;a=!0,u=!1}if(f&&!u)return s||(s=new je),a||Jo(r)?gh(r,t,e,n,i,s):pw(r,t,l,e,n,i,s);if(!(e&vw)){var p=u&&vh.call(r,"__wrapped__"),m=h&&vh.call(t,"__wrapped__");if(p||m){var b=p?r.value():r,w=m?t.value():t;return s||(s=new je),i(b,w,e,n,s)}}return f?(s||(s=new je),yw(r,t,e,n,i,s)):!1}function wh(r,t,e,n,i){return r===t?!0:r==null||t==null||!on(r)&&!on(t)?r!==r&&t!==t:xw(r,t,e,n,wh,i)}function kw(r){return function(t,e,n){for(var i=-1,s=Object(t),a=n(t),o=a.length;o--;){var l=a[++i];if(e(s[l],l,s)===!1)break}return t}}var Sw=kw();function al(r,t,e){(e!==void 0&&!wi(r[t],e)||e===void 0&&!(t in r))&&Go(r,t,e)}function Aw(r){return on(r)&&Vs(r)}function ol(r,t){if(!(t==="constructor"&&typeof r[t]=="function")&&t!="__proto__")return r[t]}function Ew(r){return Gy(r,Yd(r))}function Cw(r,t,e,n,i,s,a){var o=ol(r,e),l=ol(t,e),c=a.get(l);if(c){al(r,e,c);return}var u=s?s(o,l,e+"",r,t,a):void 0,h=u===void 0;if(h){var f=Qn(l),p=!f&&xi(l),m=!f&&!p&&Jo(l);u=l,f||p||m?Qn(o)?u=o:Aw(o)?u=_y(o):p?(h=!1,u=Jd(l,!0)):m?(h=!1,u=lh(l,!0)):u=[]:x1(l)||Qo(l)?(u=o,Qo(o)?u=Ew(o):(!Tn(o)||Vo(o))&&(u=ch(l))):h=!1}h&&(a.set(l,u),i(u,l,n,s,a),a.delete(l)),al(r,e,u)}function xh(r,t,e,n,i){r!==t&&Sw(t,function(s,a){if(i||(i=new je),Tn(s))Cw(r,t,a,e,xh,n,i);else{var o=n?n(ol(r,a),s,a+"",r,t,i):void 0;o===void 0&&(o=s),al(r,a,o)}},Yd)}function ll(r,t){return wh(r,t)}var Ln=Jy(function(r,t,e){xh(r,t,e)}),P=(r=>(r[r.TYPE=3]="TYPE",r[r.LEVEL=12]="LEVEL",r[r.ATTRIBUTE=13]="ATTRIBUTE",r[r.BLOT=14]="BLOT",r[r.INLINE=7]="INLINE",r[r.BLOCK=11]="BLOCK",r[r.BLOCK_BLOT=10]="BLOCK_BLOT",r[r.INLINE_BLOT=6]="INLINE_BLOT",r[r.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",r[r.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",r[r.ANY=15]="ANY",r))(P||{});class Fe{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const i=P.TYPE&P.ATTRIBUTE;this.scope=n.scope!=null?n.scope&P.LEVEL|i:P.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class Or extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const kh=class Zu{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const i=this.query(e);if(i==null)throw new Or(`Unable to create ${e} blot`);const s=i,a=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:s.create(n),o=new s(t,a,n);return Zu.blots.set(o.domNode,o),o}find(t,e=!1){return Zu.find(t,e)}query(t,e=P.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&P.LEVEL&P.BLOCK?n=this.types.block:t&P.LEVEL&P.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(i=>(n=this.classes[i],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&P.LEVEL&n.scope&&e&P.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,i="attrName"in e;if(!n&&!i)throw new Or("Invalid definition");if(n&&e.blotName==="abstract")throw new Or("Cannot register abstract class");const s=n?e.blotName:i?e.attrName:void 0;return this.types[s]=e,i?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(a=>a.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(a=>{(this.tags[a]==null||e.className==null)&&(this.tags[a]=e)}))),e})}};kh.blots=new WeakMap;let Nr=kh;function Sh(r,t){return(r.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class Tw extends Fe{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){Sh(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(Sh(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const be=Tw;function cl(r){const t=r.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class Lw extends Fe{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[cl(this.keyName)]=e,!0):!1}remove(t){t.style[cl(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[cl(this.keyName)];return this.canAdd(t,e)?e:""}}const Dn=Lw;class Dw{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Nr.find(this.domNode);if(t==null)return;const e=Fe.keys(this.domNode),n=be.keys(this.domNode),i=Dn.keys(this.domNode);e.concat(n).concat(i).forEach(s=>{const a=t.scroll.query(s,P.ATTRIBUTE);a instanceof Fe&&(this.attributes[a.attrName]=a)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const Zs=Dw,Ah=class{constructor(t,e){this.scroll=t,this.domNode=e,Nr.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new Or("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Nr.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,i){const s=this.isolate(t,e);if(this.scroll.query(n,P.BLOT)!=null&&i)s.wrap(n,i);else if(this.scroll.query(n,P.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);s.wrap(a),a.format(n,i)}}insertAt(t,e,n){const i=n==null?this.scroll.create("text",e):this.scroll.create(e,n),s=this.split(t);this.parent.insertBefore(i,s||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new Or(`Cannot wrap ${t}`);return n.appendChild(this),n}};Ah.blotName="abstract";let Eh=Ah;const Ch=class extends Eh{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ch.scope=P.INLINE_BLOT;const It=Ch;class Iw{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),i=0;for(;n;){if(n===t)return i;i+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let i=n();for(;i;){const s=i.length();if(t<s||e&&t===s&&(i.next==null||i.next.length()!==0))return[i,t];t-=s,i=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[i,s]=this.find(t);let a=t-s;const o=this.iterator(i);let l=o();for(;l&&a<t+e;){const c=l.length();t>a?n(l,t-a,Math.min(e,a+c-t)):n(l,0,Math.min(c,t+e-a)),a+=c,l=o()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let i=n();for(;i;)e=t(e,i),i=n();return e}}function Th(r,t){const e=t.find(r);if(e)return e;try{return t.create(r)}catch{const n=t.create(P.INLINE);return Array.from(r.childNodes).forEach(i=>{n.domNode.appendChild(i)}),r.parentNode&&r.parentNode.replaceChild(n.domNode,r),n.attach(),n}}const Lh=class jn extends Eh{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,jn.uiClass&&this.uiNode.classList.add(jn.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Iw,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=Th(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof Or)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,i,s)=>{n.deleteAt(i,s)})}descendant(t,e=0){const[n,i]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,i]:n instanceof jn?n.descendant(t,i):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let i=[],s=n;return this.children.forEachAt(e,n,(a,o,l)=>{(t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t)&&i.push(a),a instanceof jn&&(i=i.concat(a.descendants(t,o,s))),s-=l}),i}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===P.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof jn?e.unwrap():e.remove())})}formatAt(t,e,n,i){this.children.forEachAt(t,e,(s,a,o)=>{s.formatAt(a,o,n,i)})}insertAt(t,e,n){const[i,s]=this.children.find(t);if(i)i.insertAt(s,e,n);else{const a=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(a)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,i]=this.children.find(t,e),s=[[this,t]];return n instanceof jn?s.concat(n.path(i,e)):(n!=null&&s.push([n,i]),s)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof jn&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(i,s,a)=>{const o=i.split(s,e);o!=null&&n.appendChild(o)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],i=[];t.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(n.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(s);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),n.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,a)=>s===a?0:s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let a=null;s.nextSibling!=null&&(a=this.scroll.find(s.nextSibling));const o=Th(s,this.scroll);(o.next!==a||o.next==null)&&(o.parent!=null&&o.parent.removeChild(this),this.insertBefore(o,a||void 0))}),this.enforceAllowedChildren()}};Lh.uiClass="";const ye=Lh;function Ow(r,t){if(Object.keys(r).length!==Object.keys(t).length)return!1;for(const e in r)if(r[e]!==t[e])return!1;return!0}const Mr=class gi extends ye{static create(t){return super.create(t)}static formats(t,e){const n=e.query(gi.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Zs(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof gi||(n=n.wrap(gi.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,P.INLINE);if(n==null)return;n instanceof Fe?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,i){this.formats()[n]!=null||this.scroll.query(n,P.ATTRIBUTE)?this.isolate(t,e).format(n,i):super.formatAt(t,e,n,i)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof gi&&n.prev===this&&Ow(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof gi&&this.attributes.move(n),n}};Mr.allowedChildren=[Mr,It],Mr.blotName="inline",Mr.scope=P.INLINE_BLOT,Mr.tagName="SPAN";const ul=Mr,qr=class Ju extends ye{static create(t){return super.create(t)}static formats(t,e){const n=e.query(Ju.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new Zs(this.domNode)}format(t,e){const n=this.scroll.query(t,P.BLOCK);n!=null&&(n instanceof Fe?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(Ju.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,i){this.scroll.query(n,P.BLOCK)!=null?this.format(n,i):super.formatAt(t,e,n,i)}insertAt(t,e,n){if(n==null||this.scroll.query(e,P.INLINE)!=null)super.insertAt(t,e,n);else{const i=this.split(t);if(i!=null){const s=this.scroll.create(e,n);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};qr.blotName="block",qr.scope=P.BLOCK_BLOT,qr.tagName="P",qr.allowedChildren=[ul,qr,It];const Ei=qr,dl=class extends ye{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,i){super.formatAt(t,e,n,i),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};dl.blotName="container",dl.scope=P.BLOCK_BLOT;const Js=dl;class Nw extends It{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,i){t===0&&e===this.length()?this.format(n,i):super.formatAt(t,e,n,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Kt=Nw,Mw={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},qw=100,_r=class extends ye{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Mw),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=P.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,i){this.update(),super.formatAt(t,e,n,i)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)t.push(i.pop());const s=(l,c=!0)=>{l==null||l===this||l.domNode.parentNode!=null&&(n.has(l.domNode)||n.set(l.domNode,[]),c&&s(l.parent))},a=l=>{n.has(l.domNode)&&(l instanceof ye&&l.children.forEach(a),n.delete(l.domNode),l.optimize(e))};let o=t;for(let l=0;o.length>0;l+=1){if(l>=qw)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach(c=>{const u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(s(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(h=>{const f=this.find(h,!1);s(f,!1),f instanceof ye&&f.children.forEach(p=>{s(p,!1)})})):c.type==="attributes"&&s(u.prev)),s(u))}),this.children.forEach(a),o=Array.from(this.observer.takeRecords()),i=o.slice();i.length>0;)t.push(i.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(i=>{const s=this.find(i.target,!0);return s==null?null:n.has(s.domNode)?(n.get(s.domNode).push(i),null):(n.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&n.has(i.domNode)&&i.update(n.get(i.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};_r.blotName="scroll",_r.defaultChild=Ei,_r.allowedChildren=[Ei,Js],_r.scope=P.BLOCK_BLOT,_r.tagName="DIV";const hl=_r,fl=class Wm extends It{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Wm&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};fl.blotName="text",fl.scope=P.INLINE_BLOT;const ta=fl,_w=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Fe,AttributorStore:Zs,BlockBlot:Ei,ClassAttributor:be,ContainerBlot:Js,EmbedBlot:Kt,InlineBlot:ul,LeafBlot:It,ParentBlot:ye,Registry:Nr,Scope:P,ScrollBlot:hl,StyleAttributor:Dn,TextBlot:ta},Symbol.toStringTag,{value:"Module"}));var In=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pl={exports:{}},Qt=-1,Pt=1,wt=0;function Ci(r,t,e,n,i){if(r===t)return r?[[wt,r]]:[];if(e!=null){var s=Uw(r,t,e);if(s)return s}var a=gl(r,t),o=r.substring(0,a);r=r.substring(a),t=t.substring(a),a=ea(r,t);var l=r.substring(r.length-a);r=r.substring(0,r.length-a),t=t.substring(0,t.length-a);var c=Rw(r,t);return o&&c.unshift([wt,o]),l&&c.push([wt,l]),ml(c,i),n&&Pw(c),c}function Rw(r,t){var e;if(!r)return[[Pt,t]];if(!t)return[[Qt,r]];var n=r.length>t.length?r:t,i=r.length>t.length?t:r,s=n.indexOf(i);if(s!==-1)return e=[[Pt,n.substring(0,s)],[wt,i],[Pt,n.substring(s+i.length)]],r.length>t.length&&(e[0][0]=e[2][0]=Qt),e;if(i.length===1)return[[Qt,r],[Pt,t]];var a=Bw(r,t);if(a){var o=a[0],l=a[1],c=a[2],u=a[3],h=a[4],f=Ci(o,c),p=Ci(l,u);return f.concat([[wt,h]],p)}return zw(r,t)}function zw(r,t){for(var e=r.length,n=t.length,i=Math.ceil((e+n)/2),s=i,a=2*i,o=new Array(a),l=new Array(a),c=0;c<a;c++)o[c]=-1,l[c]=-1;o[s+1]=0,l[s+1]=0;for(var u=e-n,h=u%2!==0,f=0,p=0,m=0,b=0,w=0;w<i;w++){for(var v=-w+f;v<=w-p;v+=2){var k=s+v,A;v===-w||v!==w&&o[k-1]<o[k+1]?A=o[k+1]:A=o[k-1]+1;for(var E=A-v;A<e&&E<n&&r.charAt(A)===t.charAt(E);)A++,E++;if(o[k]=A,A>e)p+=2;else if(E>n)f+=2;else if(h){var T=s+u-v;if(T>=0&&T<a&&l[T]!==-1){var M=e-l[T];if(A>=M)return Ih(r,t,A,E)}}}for(var N=-w+m;N<=w-b;N+=2){var T=s+N,M;N===-w||N!==w&&l[T-1]<l[T+1]?M=l[T+1]:M=l[T-1]+1;for(var S=M-N;M<e&&S<n&&r.charAt(e-M-1)===t.charAt(n-S-1);)M++,S++;if(l[T]=M,M>e)b+=2;else if(S>n)m+=2;else if(!h){var k=s+u-N;if(k>=0&&k<a&&o[k]!==-1){var A=o[k],E=s+A-k;if(M=e-M,A>=M)return Ih(r,t,A,E)}}}}return[[Qt,r],[Pt,t]]}function Ih(r,t,e,n){var i=r.substring(0,e),s=t.substring(0,n),a=r.substring(e),o=t.substring(n),l=Ci(i,s),c=Ci(a,o);return l.concat(c)}function gl(r,t){if(!r||!t||r.charAt(0)!==t.charAt(0))return 0;for(var e=0,n=Math.min(r.length,t.length),i=n,s=0;e<i;)r.substring(s,i)==t.substring(s,i)?(e=i,s=e):n=i,i=Math.floor((n-e)/2+e);return _h(r.charCodeAt(i-1))&&i--,i}function Oh(r,t){var e=r.length,n=t.length;if(e==0||n==0)return 0;e>n?r=r.substring(e-n):e<n&&(t=t.substring(0,e));var i=Math.min(e,n);if(r==t)return i;for(var s=0,a=1;;){var o=r.substring(i-a),l=t.indexOf(o);if(l==-1)return s;a+=l,(l==0||r.substring(i-a)==t.substring(0,a))&&(s=a,a++)}}function ea(r,t){if(!r||!t||r.slice(-1)!==t.slice(-1))return 0;for(var e=0,n=Math.min(r.length,t.length),i=n,s=0;e<i;)r.substring(r.length-i,r.length-s)==t.substring(t.length-i,t.length-s)?(e=i,s=e):n=i,i=Math.floor((n-e)/2+e);return Rh(r.charCodeAt(r.length-i))&&i--,i}function Bw(r,t){var e=r.length>t.length?r:t,n=r.length>t.length?t:r;if(e.length<4||n.length*2<e.length)return null;function i(p,m,b){for(var w=p.substring(b,b+Math.floor(p.length/4)),v=-1,k="",A,E,T,M;(v=m.indexOf(w,v+1))!==-1;){var N=gl(p.substring(b),m.substring(v)),S=ea(p.substring(0,b),m.substring(0,v));k.length<S+N&&(k=m.substring(v-S,v)+m.substring(v,v+N),A=p.substring(0,b-S),E=p.substring(b+N),T=m.substring(0,v-S),M=m.substring(v+N))}return k.length*2>=p.length?[A,E,T,M,k]:null}var s=i(e,n,Math.ceil(e.length/4)),a=i(e,n,Math.ceil(e.length/2)),o;if(!s&&!a)return null;a?s?o=s[4].length>a[4].length?s:a:o=a:o=s;var l,c,u,h;r.length>t.length?(l=o[0],c=o[1],u=o[2],h=o[3]):(u=o[0],h=o[1],l=o[2],c=o[3]);var f=o[4];return[l,c,u,h,f]}function Pw(r){for(var t=!1,e=[],n=0,i=null,s=0,a=0,o=0,l=0,c=0;s<r.length;)r[s][0]==wt?(e[n++]=s,a=l,o=c,l=0,c=0,i=r[s][1]):(r[s][0]==Pt?l+=r[s][1].length:c+=r[s][1].length,i&&i.length<=Math.max(a,o)&&i.length<=Math.max(l,c)&&(r.splice(e[n-1],0,[Qt,i]),r[e[n-1]+1][0]=Pt,n--,n--,s=n>0?e[n-1]:-1,a=0,o=0,l=0,c=0,i=null,t=!0)),s++;for(t&&ml(r),Fw(r),s=1;s<r.length;){if(r[s-1][0]==Qt&&r[s][0]==Pt){var u=r[s-1][1],h=r[s][1],f=Oh(u,h),p=Oh(h,u);f>=p?(f>=u.length/2||f>=h.length/2)&&(r.splice(s,0,[wt,h.substring(0,f)]),r[s-1][1]=u.substring(0,u.length-f),r[s+1][1]=h.substring(f),s++):(p>=u.length/2||p>=h.length/2)&&(r.splice(s,0,[wt,u.substring(0,p)]),r[s-1][0]=Pt,r[s-1][1]=h.substring(0,h.length-p),r[s+1][0]=Qt,r[s+1][1]=u.substring(p),s++),s++}s++}}var Nh=/[^a-zA-Z0-9]/,Mh=/\s/,qh=/[\r\n]/,$w=/\n\r?\n$/,jw=/^\r?\n\r?\n/;function Fw(r){function t(p,m){if(!p||!m)return 6;var b=p.charAt(p.length-1),w=m.charAt(0),v=b.match(Nh),k=w.match(Nh),A=v&&b.match(Mh),E=k&&w.match(Mh),T=A&&b.match(qh),M=E&&w.match(qh),N=T&&p.match($w),S=M&&m.match(jw);return N||S?5:T||M?4:v&&!A&&E?3:A||E?2:v||k?1:0}for(var e=1;e<r.length-1;){if(r[e-1][0]==wt&&r[e+1][0]==wt){var n=r[e-1][1],i=r[e][1],s=r[e+1][1],a=ea(n,i);if(a){var o=i.substring(i.length-a);n=n.substring(0,n.length-a),i=o+i.substring(0,i.length-a),s=o+s}for(var l=n,c=i,u=s,h=t(n,i)+t(i,s);i.charAt(0)===s.charAt(0);){n+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var f=t(n,i)+t(i,s);f>=h&&(h=f,l=n,c=i,u=s)}r[e-1][1]!=l&&(l?r[e-1][1]=l:(r.splice(e-1,1),e--),r[e][1]=c,u?r[e+1][1]=u:(r.splice(e+1,1),e--))}e++}}function ml(r,t){r.push([wt,""]);for(var e=0,n=0,i=0,s="",a="",o;e<r.length;){if(e<r.length-1&&!r[e][1]){r.splice(e,1);continue}switch(r[e][0]){case Pt:i++,a+=r[e][1],e++;break;case Qt:n++,s+=r[e][1],e++;break;case wt:var l=e-i-n-1;if(t){if(l>=0&&Bh(r[l][1])){var c=r[l][1].slice(-1);if(r[l][1]=r[l][1].slice(0,-1),s=c+s,a=c+a,!r[l][1]){r.splice(l,1),e--;var u=l-1;r[u]&&r[u][0]===Pt&&(i++,a=r[u][1]+a,u--),r[u]&&r[u][0]===Qt&&(n++,s=r[u][1]+s,u--),l=u}}if(zh(r[e][1])){var c=r[e][1].charAt(0);r[e][1]=r[e][1].slice(1),s+=c,a+=c}}if(e<r.length-1&&!r[e][1]){r.splice(e,1);break}if(s.length>0||a.length>0){s.length>0&&a.length>0&&(o=gl(a,s),o!==0&&(l>=0?r[l][1]+=a.substring(0,o):(r.splice(0,0,[wt,a.substring(0,o)]),e++),a=a.substring(o),s=s.substring(o)),o=ea(a,s),o!==0&&(r[e][1]=a.substring(a.length-o)+r[e][1],a=a.substring(0,a.length-o),s=s.substring(0,s.length-o)));var h=i+n;s.length===0&&a.length===0?(r.splice(e-h,h),e=e-h):s.length===0?(r.splice(e-h,h,[Pt,a]),e=e-h+1):a.length===0?(r.splice(e-h,h,[Qt,s]),e=e-h+1):(r.splice(e-h,h,[Qt,s],[Pt,a]),e=e-h+2)}e!==0&&r[e-1][0]===wt?(r[e-1][1]+=r[e][1],r.splice(e,1)):e++,i=0,n=0,s="",a="";break}}r[r.length-1][1]===""&&r.pop();var f=!1;for(e=1;e<r.length-1;)r[e-1][0]===wt&&r[e+1][0]===wt&&(r[e][1].substring(r[e][1].length-r[e-1][1].length)===r[e-1][1]?(r[e][1]=r[e-1][1]+r[e][1].substring(0,r[e][1].length-r[e-1][1].length),r[e+1][1]=r[e-1][1]+r[e+1][1],r.splice(e-1,1),f=!0):r[e][1].substring(0,r[e+1][1].length)==r[e+1][1]&&(r[e-1][1]+=r[e+1][1],r[e][1]=r[e][1].substring(r[e+1][1].length)+r[e+1][1],r.splice(e+1,1),f=!0)),e++;f&&ml(r,t)}function _h(r){return r>=55296&&r<=56319}function Rh(r){return r>=56320&&r<=57343}function zh(r){return Rh(r.charCodeAt(0))}function Bh(r){return _h(r.charCodeAt(r.length-1))}function Hw(r){for(var t=[],e=0;e<r.length;e++)r[e][1].length>0&&t.push(r[e]);return t}function bl(r,t,e,n){return Bh(r)||zh(n)?null:Hw([[wt,r],[Qt,t],[Pt,e],[wt,n]])}function Uw(r,t,e){var n=typeof e=="number"?{index:e,length:0}:e.oldRange,i=typeof e=="number"?null:e.newRange,s=r.length,a=t.length;if(n.length===0&&(i===null||i.length===0)){var o=n.index,l=r.slice(0,o),c=r.slice(o),u=i?i.index:null;t:{var h=o+a-s;if(u!==null&&u!==h||h<0||h>a)break t;var f=t.slice(0,h),p=t.slice(h);if(p!==c)break t;var m=Math.min(o,h),b=l.slice(0,m),w=f.slice(0,m);if(b!==w)break t;var v=l.slice(m),k=f.slice(m);return bl(b,v,k,c)}t:{if(u!==null&&u!==o)break t;var A=o,f=t.slice(0,A),p=t.slice(A);if(f!==l)break t;var E=Math.min(s-A,a-A),T=c.slice(c.length-E),M=p.slice(p.length-E);if(T!==M)break t;var v=c.slice(0,c.length-E),k=p.slice(0,p.length-E);return bl(l,v,k,T)}}if(n.length>0&&i&&i.length===0)t:{var b=r.slice(0,n.index),T=r.slice(n.index+n.length),m=b.length,E=T.length;if(a<m+E)break t;var w=t.slice(0,m),M=t.slice(a-E);if(b!==w||T!==M)break t;var v=r.slice(m,s-E),k=t.slice(m,a-E);return bl(b,v,k,T)}return null}function na(r,t,e,n){return Ci(r,t,e,n,!0)}na.INSERT=Pt,na.DELETE=Qt,na.EQUAL=wt;var Vw=na,ra={exports:{}};ra.exports,function(r,t){var e=200,n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",a="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",h="[object GeneratorFunction]",f="[object Map]",p="[object Number]",m="[object Object]",b="[object Promise]",w="[object RegExp]",v="[object Set]",k="[object String]",A="[object Symbol]",E="[object WeakMap]",T="[object ArrayBuffer]",M="[object DataView]",N="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",q="[object Int16Array]",O="[object Int32Array]",F="[object Uint8Array]",Z="[object Uint8ClampedArray]",U="[object Uint16Array]",dt="[object Uint32Array]",at=/[\\^$.*+?()[\]{}|]/g,kt=/\w*$/,ht=/^\[object .+?Constructor\]$/,St=/^(?:0|[1-9]\d*)$/,V={};V[s]=V[a]=V[T]=V[M]=V[o]=V[l]=V[N]=V[S]=V[C]=V[q]=V[O]=V[f]=V[p]=V[m]=V[w]=V[v]=V[k]=V[A]=V[F]=V[Z]=V[U]=V[dt]=!0,V[c]=V[u]=V[E]=!1;var tn=typeof In=="object"&&In&&In.Object===Object&&In,en=typeof self=="object"&&self&&self.Object===Object&&self,Ie=tn||en||Function("return this")(),no=t&&!t.nodeType&&t,st=no&&!0&&r&&!r.nodeType&&r,ro=st&&st.exports===no;function uu(d,g){return d.set(g[0],g[1]),d}function Oe(d,g){return d.add(g),d}function io(d,g){for(var x=-1,L=d?d.length:0;++x<L&&g(d[x],x,d)!==!1;);return d}function so(d,g){for(var x=-1,L=g.length,Y=d.length;++x<L;)d[Y+x]=g[x];return d}function rs(d,g,x,L){for(var Y=-1,$=d?d.length:0;++Y<$;)x=g(x,d[Y],Y,d);return x}function is(d,g){for(var x=-1,L=Array(d);++x<d;)L[x]=g(x);return L}function ao(d,g){return d==null?void 0:d[g]}function ss(d){var g=!1;if(d!=null&&typeof d.toString!="function")try{g=!!(d+"")}catch{}return g}function oo(d){var g=-1,x=Array(d.size);return d.forEach(function(L,Y){x[++g]=[Y,L]}),x}function as(d,g){return function(x){return d(g(x))}}function lo(d){var g=-1,x=Array(d.size);return d.forEach(function(L){x[++g]=L}),x}var du=Array.prototype,hu=Function.prototype,ii=Object.prototype,os=Ie["__core-js_shared__"],co=function(){var d=/[^.]+$/.exec(os&&os.keys&&os.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),uo=hu.toString,nn=ii.hasOwnProperty,si=ii.toString,fu=RegExp("^"+uo.call(nn).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gr=ro?Ie.Buffer:void 0,ai=Ie.Symbol,ls=Ie.Uint8Array,de=as(Object.getPrototypeOf,Object),ho=Object.create,fo=ii.propertyIsEnumerable,pu=du.splice,cs=Object.getOwnPropertySymbols,oi=gr?gr.isBuffer:void 0,po=as(Object.keys,Object),li=Me(Ie,"DataView"),mr=Me(Ie,"Map"),Ne=Me(Ie,"Promise"),ci=Me(Ie,"Set"),us=Me(Ie,"WeakMap"),br=Me(Object,"create"),ds=Ft(li),yr=Ft(mr),hs=Ft(Ne),fs=Ft(ci),ps=Ft(us),Pn=ai?ai.prototype:void 0,go=Pn?Pn.valueOf:void 0;function mn(d){var g=-1,x=d?d.length:0;for(this.clear();++g<x;){var L=d[g];this.set(L[0],L[1])}}function gu(){this.__data__=br?br(null):{}}function mu(d){return this.has(d)&&delete this.__data__[d]}function bu(d){var g=this.__data__;if(br){var x=g[d];return x===n?void 0:x}return nn.call(g,d)?g[d]:void 0}function mo(d){var g=this.__data__;return br?g[d]!==void 0:nn.call(g,d)}function gs(d,g){var x=this.__data__;return x[d]=br&&g===void 0?n:g,this}mn.prototype.clear=gu,mn.prototype.delete=mu,mn.prototype.get=bu,mn.prototype.has=mo,mn.prototype.set=gs;function Tt(d){var g=-1,x=d?d.length:0;for(this.clear();++g<x;){var L=d[g];this.set(L[0],L[1])}}function yu(){this.__data__=[]}function vu(d){var g=this.__data__,x=di(g,d);if(x<0)return!1;var L=g.length-1;return x==L?g.pop():pu.call(g,x,1),!0}function wu(d){var g=this.__data__,x=di(g,d);return x<0?void 0:g[x][1]}function xu(d){return di(this.__data__,d)>-1}function ku(d,g){var x=this.__data__,L=di(x,d);return L<0?x.push([d,g]):x[L][1]=g,this}Tt.prototype.clear=yu,Tt.prototype.delete=vu,Tt.prototype.get=wu,Tt.prototype.has=xu,Tt.prototype.set=ku;function Rt(d){var g=-1,x=d?d.length:0;for(this.clear();++g<x;){var L=d[g];this.set(L[0],L[1])}}function Su(){this.__data__={hash:new mn,map:new(mr||Tt),string:new mn}}function Au(d){return wr(this,d).delete(d)}function Eu(d){return wr(this,d).get(d)}function Cu(d){return wr(this,d).has(d)}function Tu(d,g){return wr(this,d).set(d,g),this}Rt.prototype.clear=Su,Rt.prototype.delete=Au,Rt.prototype.get=Eu,Rt.prototype.has=Cu,Rt.prototype.set=Tu;function Yt(d){this.__data__=new Tt(d)}function Lu(){this.__data__=new Tt}function Du(d){return this.__data__.delete(d)}function Iu(d){return this.__data__.get(d)}function Ou(d){return this.__data__.has(d)}function Nu(d,g){var x=this.__data__;if(x instanceof Tt){var L=x.__data__;if(!mr||L.length<e-1)return L.push([d,g]),this;x=this.__data__=new Rt(L)}return x.set(d,g),this}Yt.prototype.clear=Lu,Yt.prototype.delete=Du,Yt.prototype.get=Iu,Yt.prototype.has=Ou,Yt.prototype.set=Nu;function ui(d,g){var x=vs(d)||fi(d)?is(d.length,String):[],L=x.length,Y=!!L;for(var $ in d)nn.call(d,$)&&!(Y&&($=="length"||Yu($,L)))&&x.push($);return x}function bo(d,g,x){var L=d[g];(!(nn.call(d,g)&&ko(L,x))||x===void 0&&!(g in d))&&(d[g]=x)}function di(d,g){for(var x=d.length;x--;)if(ko(d[x][0],g))return x;return-1}function rn(d,g){return d&&ys(g,xs(g),d)}function ms(d,g,x,L,Y,$,tt){var J;if(L&&(J=$?L(d,Y,$,tt):L(d)),J!==void 0)return J;if(!an(d))return d;var vt=vs(d);if(vt){if(J=Uu(d),!g)return ju(d,J)}else{var nt=yn(d),zt=nt==u||nt==h;if(So(d))return hi(d,g);if(nt==m||nt==s||zt&&!$){if(ss(d))return $?d:{};if(J=sn(zt?{}:d),!g)return Fu(d,rn(J,d))}else{if(!V[nt])return $?d:{};J=Vu(d,nt,ms,g)}}tt||(tt=new Yt);var Wt=tt.get(d);if(Wt)return Wt;if(tt.set(d,J),!vt)var At=x?Hu(d):xs(d);return io(At||d,function(Bt,Lt){At&&(Lt=Bt,Bt=d[Lt]),bo(J,Lt,ms(Bt,g,x,L,Lt,d,tt))}),J}function Mu(d){return an(d)?ho(d):{}}function qu(d,g,x){var L=g(d);return vs(d)?L:so(L,x(d))}function _u(d){return si.call(d)}function Ru(d){if(!an(d)||Gu(d))return!1;var g=ws(d)||ss(d)?fu:ht;return g.test(Ft(d))}function zu(d){if(!wo(d))return po(d);var g=[];for(var x in Object(d))nn.call(d,x)&&x!="constructor"&&g.push(x);return g}function hi(d,g){if(g)return d.slice();var x=new d.constructor(d.length);return d.copy(x),x}function bs(d){var g=new d.constructor(d.byteLength);return new ls(g).set(new ls(d)),g}function vr(d,g){var x=g?bs(d.buffer):d.buffer;return new d.constructor(x,d.byteOffset,d.byteLength)}function yo(d,g,x){var L=g?x(oo(d),!0):oo(d);return rs(L,uu,new d.constructor)}function vo(d){var g=new d.constructor(d.source,kt.exec(d));return g.lastIndex=d.lastIndex,g}function Bu(d,g,x){var L=g?x(lo(d),!0):lo(d);return rs(L,Oe,new d.constructor)}function Pu(d){return go?Object(go.call(d)):{}}function $u(d,g){var x=g?bs(d.buffer):d.buffer;return new d.constructor(x,d.byteOffset,d.length)}function ju(d,g){var x=-1,L=d.length;for(g||(g=Array(L));++x<L;)g[x]=d[x];return g}function ys(d,g,x,L){x||(x={});for(var Y=-1,$=g.length;++Y<$;){var tt=g[Y],J=void 0;bo(x,tt,J===void 0?d[tt]:J)}return x}function Fu(d,g){return ys(d,bn(d),g)}function Hu(d){return qu(d,xs,bn)}function wr(d,g){var x=d.__data__;return Wu(g)?x[typeof g=="string"?"string":"hash"]:x.map}function Me(d,g){var x=ao(d,g);return Ru(x)?x:void 0}var bn=cs?as(cs,Object):Qu,yn=_u;(li&&yn(new li(new ArrayBuffer(1)))!=M||mr&&yn(new mr)!=f||Ne&&yn(Ne.resolve())!=b||ci&&yn(new ci)!=v||us&&yn(new us)!=E)&&(yn=function(d){var g=si.call(d),x=g==m?d.constructor:void 0,L=x?Ft(x):void 0;if(L)switch(L){case ds:return M;case yr:return f;case hs:return b;case fs:return v;case ps:return E}return g});function Uu(d){var g=d.length,x=d.constructor(g);return g&&typeof d[0]=="string"&&nn.call(d,"index")&&(x.index=d.index,x.input=d.input),x}function sn(d){return typeof d.constructor=="function"&&!wo(d)?Mu(de(d)):{}}function Vu(d,g,x,L){var Y=d.constructor;switch(g){case T:return bs(d);case o:case l:return new Y(+d);case M:return vr(d,L);case N:case S:case C:case q:case O:case F:case Z:case U:case dt:return $u(d,L);case f:return yo(d,L,x);case p:case k:return new Y(d);case w:return vo(d);case v:return Bu(d,L,x);case A:return Pu(d)}}function Yu(d,g){return g=g??i,!!g&&(typeof d=="number"||St.test(d))&&d>-1&&d%1==0&&d<g}function Wu(d){var g=typeof d;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?d!=="__proto__":d===null}function Gu(d){return!!co&&co in d}function wo(d){var g=d&&d.constructor,x=typeof g=="function"&&g.prototype||ii;return d===x}function Ft(d){if(d!=null){try{return uo.call(d)}catch{}try{return d+""}catch{}}return""}function xo(d){return ms(d,!0,!0)}function ko(d,g){return d===g||d!==d&&g!==g}function fi(d){return Ku(d)&&nn.call(d,"callee")&&(!fo.call(d,"callee")||si.call(d)==s)}var vs=Array.isArray;function pi(d){return d!=null&&Ao(d.length)&&!ws(d)}function Ku(d){return Eo(d)&&pi(d)}var So=oi||Xu;function ws(d){var g=an(d)?si.call(d):"";return g==u||g==h}function Ao(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=i}function an(d){var g=typeof d;return!!d&&(g=="object"||g=="function")}function Eo(d){return!!d&&typeof d=="object"}function xs(d){return pi(d)?ui(d):zu(d)}function Qu(){return[]}function Xu(){return!1}r.exports=xo}(ra,ra.exports);var Ph=ra.exports,ia={exports:{}};ia.exports,function(r,t){var e=200,n="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,o="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",m="[object GeneratorFunction]",b="[object Map]",w="[object Number]",v="[object Null]",k="[object Object]",A="[object Promise]",E="[object Proxy]",T="[object RegExp]",M="[object Set]",N="[object String]",S="[object Symbol]",C="[object Undefined]",q="[object WeakMap]",O="[object ArrayBuffer]",F="[object DataView]",Z="[object Float32Array]",U="[object Float64Array]",dt="[object Int8Array]",at="[object Int16Array]",kt="[object Int32Array]",ht="[object Uint8Array]",St="[object Uint8ClampedArray]",V="[object Uint16Array]",tn="[object Uint32Array]",en=/[\\^$.*+?()[\]{}|]/g,Ie=/^\[object .+?Constructor\]$/,no=/^(?:0|[1-9]\d*)$/,st={};st[Z]=st[U]=st[dt]=st[at]=st[kt]=st[ht]=st[St]=st[V]=st[tn]=!0,st[o]=st[l]=st[O]=st[u]=st[F]=st[h]=st[f]=st[p]=st[b]=st[w]=st[k]=st[T]=st[M]=st[N]=st[q]=!1;var ro=typeof In=="object"&&In&&In.Object===Object&&In,uu=typeof self=="object"&&self&&self.Object===Object&&self,Oe=ro||uu||Function("return this")(),io=t&&!t.nodeType&&t,so=io&&!0&&r&&!r.nodeType&&r,rs=so&&so.exports===io,is=rs&&ro.process,ao=function(){try{return is&&is.binding&&is.binding("util")}catch{}}(),ss=ao&&ao.isTypedArray;function oo(d,g){for(var x=-1,L=d==null?0:d.length,Y=0,$=[];++x<L;){var tt=d[x];g(tt,x,d)&&($[Y++]=tt)}return $}function as(d,g){for(var x=-1,L=g.length,Y=d.length;++x<L;)d[Y+x]=g[x];return d}function lo(d,g){for(var x=-1,L=d==null?0:d.length;++x<L;)if(g(d[x],x,d))return!0;return!1}function du(d,g){for(var x=-1,L=Array(d);++x<d;)L[x]=g(x);return L}function hu(d){return function(g){return d(g)}}function ii(d,g){return d.has(g)}function os(d,g){return d==null?void 0:d[g]}function co(d){var g=-1,x=Array(d.size);return d.forEach(function(L,Y){x[++g]=[Y,L]}),x}function uo(d,g){return function(x){return d(g(x))}}function nn(d){var g=-1,x=Array(d.size);return d.forEach(function(L){x[++g]=L}),x}var si=Array.prototype,fu=Function.prototype,gr=Object.prototype,ai=Oe["__core-js_shared__"],ls=fu.toString,de=gr.hasOwnProperty,ho=function(){var d=/[^.]+$/.exec(ai&&ai.keys&&ai.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),fo=gr.toString,pu=RegExp("^"+ls.call(de).replace(en,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cs=rs?Oe.Buffer:void 0,oi=Oe.Symbol,po=Oe.Uint8Array,li=gr.propertyIsEnumerable,mr=si.splice,Ne=oi?oi.toStringTag:void 0,ci=Object.getOwnPropertySymbols,us=cs?cs.isBuffer:void 0,br=uo(Object.keys,Object),ds=bn(Oe,"DataView"),yr=bn(Oe,"Map"),hs=bn(Oe,"Promise"),fs=bn(Oe,"Set"),ps=bn(Oe,"WeakMap"),Pn=bn(Object,"create"),go=Ft(ds),mn=Ft(yr),gu=Ft(hs),mu=Ft(fs),bu=Ft(ps),mo=oi?oi.prototype:void 0,gs=mo?mo.valueOf:void 0;function Tt(d){var g=-1,x=d==null?0:d.length;for(this.clear();++g<x;){var L=d[g];this.set(L[0],L[1])}}function yu(){this.__data__=Pn?Pn(null):{},this.size=0}function vu(d){var g=this.has(d)&&delete this.__data__[d];return this.size-=g?1:0,g}function wu(d){var g=this.__data__;if(Pn){var x=g[d];return x===n?void 0:x}return de.call(g,d)?g[d]:void 0}function xu(d){var g=this.__data__;return Pn?g[d]!==void 0:de.call(g,d)}function ku(d,g){var x=this.__data__;return this.size+=this.has(d)?0:1,x[d]=Pn&&g===void 0?n:g,this}Tt.prototype.clear=yu,Tt.prototype.delete=vu,Tt.prototype.get=wu,Tt.prototype.has=xu,Tt.prototype.set=ku;function Rt(d){var g=-1,x=d==null?0:d.length;for(this.clear();++g<x;){var L=d[g];this.set(L[0],L[1])}}function Su(){this.__data__=[],this.size=0}function Au(d){var g=this.__data__,x=hi(g,d);if(x<0)return!1;var L=g.length-1;return x==L?g.pop():mr.call(g,x,1),--this.size,!0}function Eu(d){var g=this.__data__,x=hi(g,d);return x<0?void 0:g[x][1]}function Cu(d){return hi(this.__data__,d)>-1}function Tu(d,g){var x=this.__data__,L=hi(x,d);return L<0?(++this.size,x.push([d,g])):x[L][1]=g,this}Rt.prototype.clear=Su,Rt.prototype.delete=Au,Rt.prototype.get=Eu,Rt.prototype.has=Cu,Rt.prototype.set=Tu;function Yt(d){var g=-1,x=d==null?0:d.length;for(this.clear();++g<x;){var L=d[g];this.set(L[0],L[1])}}function Lu(){this.size=0,this.__data__={hash:new Tt,map:new(yr||Rt),string:new Tt}}function Du(d){var g=Me(this,d).delete(d);return this.size-=g?1:0,g}function Iu(d){return Me(this,d).get(d)}function Ou(d){return Me(this,d).has(d)}function Nu(d,g){var x=Me(this,d),L=x.size;return x.set(d,g),this.size+=x.size==L?0:1,this}Yt.prototype.clear=Lu,Yt.prototype.delete=Du,Yt.prototype.get=Iu,Yt.prototype.has=Ou,Yt.prototype.set=Nu;function ui(d){var g=-1,x=d==null?0:d.length;for(this.__data__=new Yt;++g<x;)this.add(d[g])}function bo(d){return this.__data__.set(d,n),this}function di(d){return this.__data__.has(d)}ui.prototype.add=ui.prototype.push=bo,ui.prototype.has=di;function rn(d){var g=this.__data__=new Rt(d);this.size=g.size}function ms(){this.__data__=new Rt,this.size=0}function Mu(d){var g=this.__data__,x=g.delete(d);return this.size=g.size,x}function qu(d){return this.__data__.get(d)}function _u(d){return this.__data__.has(d)}function Ru(d,g){var x=this.__data__;if(x instanceof Rt){var L=x.__data__;if(!yr||L.length<e-1)return L.push([d,g]),this.size=++x.size,this;x=this.__data__=new Yt(L)}return x.set(d,g),this.size=x.size,this}rn.prototype.clear=ms,rn.prototype.delete=Mu,rn.prototype.get=qu,rn.prototype.has=_u,rn.prototype.set=Ru;function zu(d,g){var x=fi(d),L=!x&&ko(d),Y=!x&&!L&&pi(d),$=!x&&!L&&!Y&&Eo(d),tt=x||L||Y||$,J=tt?du(d.length,String):[],vt=J.length;for(var nt in d)de.call(d,nt)&&!(tt&&(nt=="length"||Y&&(nt=="offset"||nt=="parent")||$&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||Vu(nt,vt)))&&J.push(nt);return J}function hi(d,g){for(var x=d.length;x--;)if(xo(d[x][0],g))return x;return-1}function bs(d,g,x){var L=g(d);return fi(d)?L:as(L,x(d))}function vr(d){return d==null?d===void 0?C:v:Ne&&Ne in Object(d)?yn(d):wo(d)}function yo(d){return an(d)&&vr(d)==o}function vo(d,g,x,L,Y){return d===g?!0:d==null||g==null||!an(d)&&!an(g)?d!==d&&g!==g:Bu(d,g,x,L,vo,Y)}function Bu(d,g,x,L,Y,$){var tt=fi(d),J=fi(g),vt=tt?l:sn(d),nt=J?l:sn(g);vt=vt==o?k:vt,nt=nt==o?k:nt;var zt=vt==k,Wt=nt==k,At=vt==nt;if(At&&pi(d)){if(!pi(g))return!1;tt=!0,zt=!1}if(At&&!zt)return $||($=new rn),tt||Eo(d)?ys(d,g,x,L,Y,$):Fu(d,g,vt,x,L,Y,$);if(!(x&i)){var Bt=zt&&de.call(d,"__wrapped__"),Lt=Wt&&de.call(g,"__wrapped__");if(Bt||Lt){var $n=Bt?d.value():d,vn=Lt?g.value():g;return $||($=new rn),Y($n,vn,x,L,$)}}return At?($||($=new rn),Hu(d,g,x,L,Y,$)):!1}function Pu(d){if(!Ao(d)||Wu(d))return!1;var g=So(d)?pu:Ie;return g.test(Ft(d))}function $u(d){return an(d)&&ws(d.length)&&!!st[vr(d)]}function ju(d){if(!Gu(d))return br(d);var g=[];for(var x in Object(d))de.call(d,x)&&x!="constructor"&&g.push(x);return g}function ys(d,g,x,L,Y,$){var tt=x&i,J=d.length,vt=g.length;if(J!=vt&&!(tt&&vt>J))return!1;var nt=$.get(d);if(nt&&$.get(g))return nt==g;var zt=-1,Wt=!0,At=x&s?new ui:void 0;for($.set(d,g),$.set(g,d);++zt<J;){var Bt=d[zt],Lt=g[zt];if(L)var $n=tt?L(Lt,Bt,zt,g,d,$):L(Bt,Lt,zt,d,g,$);if($n!==void 0){if($n)continue;Wt=!1;break}if(At){if(!lo(g,function(vn,xr){if(!ii(At,xr)&&(Bt===vn||Y(Bt,vn,x,L,$)))return At.push(xr)})){Wt=!1;break}}else if(!(Bt===Lt||Y(Bt,Lt,x,L,$))){Wt=!1;break}}return $.delete(d),$.delete(g),Wt}function Fu(d,g,x,L,Y,$,tt){switch(x){case F:if(d.byteLength!=g.byteLength||d.byteOffset!=g.byteOffset)return!1;d=d.buffer,g=g.buffer;case O:return!(d.byteLength!=g.byteLength||!$(new po(d),new po(g)));case u:case h:case w:return xo(+d,+g);case f:return d.name==g.name&&d.message==g.message;case T:case N:return d==g+"";case b:var J=co;case M:var vt=L&i;if(J||(J=nn),d.size!=g.size&&!vt)return!1;var nt=tt.get(d);if(nt)return nt==g;L|=s,tt.set(d,g);var zt=ys(J(d),J(g),L,Y,$,tt);return tt.delete(d),zt;case S:if(gs)return gs.call(d)==gs.call(g)}return!1}function Hu(d,g,x,L,Y,$){var tt=x&i,J=wr(d),vt=J.length,nt=wr(g),zt=nt.length;if(vt!=zt&&!tt)return!1;for(var Wt=vt;Wt--;){var At=J[Wt];if(!(tt?At in g:de.call(g,At)))return!1}var Bt=$.get(d);if(Bt&&$.get(g))return Bt==g;var Lt=!0;$.set(d,g),$.set(g,d);for(var $n=tt;++Wt<vt;){At=J[Wt];var vn=d[At],xr=g[At];if(L)var Ym=tt?L(xr,vn,At,g,d,$):L(vn,xr,At,d,g,$);if(!(Ym===void 0?vn===xr||Y(vn,xr,x,L,$):Ym)){Lt=!1;break}$n||($n=At=="constructor")}if(Lt&&!$n){var Co=d.constructor,To=g.constructor;Co!=To&&"constructor"in d&&"constructor"in g&&!(typeof Co=="function"&&Co instanceof Co&&typeof To=="function"&&To instanceof To)&&(Lt=!1)}return $.delete(d),$.delete(g),Lt}function wr(d){return bs(d,xs,Uu)}function Me(d,g){var x=d.__data__;return Yu(g)?x[typeof g=="string"?"string":"hash"]:x.map}function bn(d,g){var x=os(d,g);return Pu(x)?x:void 0}function yn(d){var g=de.call(d,Ne),x=d[Ne];try{d[Ne]=void 0;var L=!0}catch{}var Y=fo.call(d);return L&&(g?d[Ne]=x:delete d[Ne]),Y}var Uu=ci?function(d){return d==null?[]:(d=Object(d),oo(ci(d),function(g){return li.call(d,g)}))}:Qu,sn=vr;(ds&&sn(new ds(new ArrayBuffer(1)))!=F||yr&&sn(new yr)!=b||hs&&sn(hs.resolve())!=A||fs&&sn(new fs)!=M||ps&&sn(new ps)!=q)&&(sn=function(d){var g=vr(d),x=g==k?d.constructor:void 0,L=x?Ft(x):"";if(L)switch(L){case go:return F;case mn:return b;case gu:return A;case mu:return M;case bu:return q}return g});function Vu(d,g){return g=g??a,!!g&&(typeof d=="number"||no.test(d))&&d>-1&&d%1==0&&d<g}function Yu(d){var g=typeof d;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?d!=="__proto__":d===null}function Wu(d){return!!ho&&ho in d}function Gu(d){var g=d&&d.constructor,x=typeof g=="function"&&g.prototype||gr;return d===x}function wo(d){return fo.call(d)}function Ft(d){if(d!=null){try{return ls.call(d)}catch{}try{return d+""}catch{}}return""}function xo(d,g){return d===g||d!==d&&g!==g}var ko=yo(function(){return arguments}())?yo:function(d){return an(d)&&de.call(d,"callee")&&!li.call(d,"callee")},fi=Array.isArray;function vs(d){return d!=null&&ws(d.length)&&!So(d)}var pi=us||Xu;function Ku(d,g){return vo(d,g)}function So(d){if(!Ao(d))return!1;var g=vr(d);return g==p||g==m||g==c||g==E}function ws(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=a}function Ao(d){var g=typeof d;return d!=null&&(g=="object"||g=="function")}function an(d){return d!=null&&typeof d=="object"}var Eo=ss?hu(ss):$u;function xs(d){return vs(d)?zu(d):ju(d)}function Qu(){return[]}function Xu(){return!1}r.exports=Ku}(ia,ia.exports);var $h=ia.exports,yl={};Object.defineProperty(yl,"__esModule",{value:!0});const Yw=Ph,Ww=$h;var vl;(function(r){function t(s={},a={},o=!1){typeof s!="object"&&(s={}),typeof a!="object"&&(a={});let l=Yw(a);o||(l=Object.keys(l).reduce((c,u)=>(l[u]!=null&&(c[u]=l[u]),c),{}));for(const c in s)s[c]!==void 0&&a[c]===void 0&&(l[c]=s[c]);return Object.keys(l).length>0?l:void 0}r.compose=t;function e(s={},a={}){typeof s!="object"&&(s={}),typeof a!="object"&&(a={});const o=Object.keys(s).concat(Object.keys(a)).reduce((l,c)=>(Ww(s[c],a[c])||(l[c]=a[c]===void 0?null:a[c]),l),{});return Object.keys(o).length>0?o:void 0}r.diff=e;function n(s={},a={}){s=s||{};const o=Object.keys(a).reduce((l,c)=>(a[c]!==s[c]&&s[c]!==void 0&&(l[c]=a[c]),l),{});return Object.keys(s).reduce((l,c)=>(s[c]!==a[c]&&a[c]===void 0&&(l[c]=null),l),o)}r.invert=n;function i(s,a,o=!1){if(typeof s!="object")return a;if(typeof a!="object")return;if(!o)return a;const l=Object.keys(a).reduce((c,u)=>(s[u]===void 0&&(c[u]=a[u]),c),{});return Object.keys(l).length>0?l:void 0}r.transform=i})(vl||(vl={})),yl.default=vl;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});var wl;(function(r){function t(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.retain=="object"&&e.retain!==null?1:typeof e.insert=="string"?e.insert.length:1}r.length=t})(wl||(wl={})),sa.default=wl;var xl={};Object.defineProperty(xl,"__esModule",{value:!0});const jh=sa;class Gw{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const n=this.offset,i=jh.default.length(e);if(t>=i-n?(t=i-n,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};{const s={};return e.attributes&&(s.attributes=e.attributes),typeof e.retain=="number"?s.retain=t:typeof e.retain=="object"&&e.retain!==null?s.retain=e.retain:typeof e.insert=="string"?s.insert=e.insert.substr(n,t):s.insert=e.insert,s}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?jh.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,e=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(i)}}else return[]}}xl.default=Gw,function(r,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=Vw,n=Ph,i=$h,s=yl;t.AttributeMap=s.default;const a=sa;t.Op=a.default;const o=xl;t.OpIterator=o.default;const l="\0",c=(h,f)=>{if(typeof h!="object"||h===null)throw new Error(`cannot retain a ${typeof h}`);if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);const p=Object.keys(h)[0];if(!p||p!==Object.keys(f)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(f)[0]}`);return[p,h[p],f[p]]};class u{constructor(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]}static registerEmbed(f,p){this.handlers[f]=p}static unregisterEmbed(f){delete this.handlers[f]}static getHandler(f){const p=this.handlers[f];if(!p)throw new Error(`no handlers for embed type "${f}"`);return p}insert(f,p){const m={};return typeof f=="string"&&f.length===0?this:(m.insert=f,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m))}delete(f){return f<=0?this:this.push({delete:f})}retain(f,p){if(typeof f=="number"&&f<=0)return this;const m={retain:f};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(m.attributes=p),this.push(m)}push(f){let p=this.ops.length,m=this.ops[p-1];if(f=n(f),typeof m=="object"){if(typeof f.delete=="number"&&typeof m.delete=="number")return this.ops[p-1]={delete:m.delete+f.delete},this;if(typeof m.delete=="number"&&f.insert!=null&&(p-=1,m=this.ops[p-1],typeof m!="object"))return this.ops.unshift(f),this;if(i(f.attributes,m.attributes)){if(typeof f.insert=="string"&&typeof m.insert=="string")return this.ops[p-1]={insert:m.insert+f.insert},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof m.retain=="number")return this.ops[p-1]={retain:m.retain+f.retain},typeof f.attributes=="object"&&(this.ops[p-1].attributes=f.attributes),this}}return p===this.ops.length?this.ops.push(f):this.ops.splice(p,0,f),this}chop(){const f=this.ops[this.ops.length-1];return f&&typeof f.retain=="number"&&!f.attributes&&this.ops.pop(),this}filter(f){return this.ops.filter(f)}forEach(f){this.ops.forEach(f)}map(f){return this.ops.map(f)}partition(f){const p=[],m=[];return this.forEach(b=>{(f(b)?p:m).push(b)}),[p,m]}reduce(f,p){return this.ops.reduce(f,p)}changeLength(){return this.reduce((f,p)=>p.insert?f+a.default.length(p):p.delete?f-p.delete:f,0)}length(){return this.reduce((f,p)=>f+a.default.length(p),0)}slice(f=0,p=1/0){const m=[],b=new o.default(this.ops);let w=0;for(;w<p&&b.hasNext();){let v;w<f?v=b.next(f-w):(v=b.next(p-w),m.push(v)),w+=a.default.length(v)}return new u(m)}compose(f){const p=new o.default(this.ops),m=new o.default(f.ops),b=[],w=m.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){let k=w.retain;for(;p.peekType()==="insert"&&p.peekLength()<=k;)k-=p.peekLength(),b.push(p.next());w.retain-k>0&&m.next(w.retain-k)}const v=new u(b);for(;p.hasNext()||m.hasNext();)if(m.peekType()==="insert")v.push(m.next());else if(p.peekType()==="delete")v.push(p.next());else{const k=Math.min(p.peekLength(),m.peekLength()),A=p.next(k),E=m.next(k);if(E.retain){const T={};if(typeof A.retain=="number")T.retain=typeof E.retain=="number"?k:E.retain;else if(typeof E.retain=="number")A.retain==null?T.insert=A.insert:T.retain=A.retain;else{const N=A.retain==null?"insert":"retain",[S,C,q]=c(A[N],E.retain),O=u.getHandler(S);T[N]={[S]:O.compose(C,q,N==="retain")}}const M=s.default.compose(A.attributes,E.attributes,typeof A.retain=="number");if(M&&(T.attributes=M),v.push(T),!m.hasNext()&&i(v.ops[v.ops.length-1],T)){const N=new u(p.rest());return v.concat(N).chop()}}else typeof E.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&v.push(E)}return v.chop()}concat(f){const p=new u(this.ops.slice());return f.ops.length>0&&(p.push(f.ops[0]),p.ops=p.ops.concat(f.ops.slice(1))),p}diff(f,p){if(this.ops===f.ops)return new u;const m=[this,f].map(A=>A.map(E=>{if(E.insert!=null)return typeof E.insert=="string"?E.insert:l;const T=A===f?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")),b=new u,w=e(m[0],m[1],p,!0),v=new o.default(this.ops),k=new o.default(f.ops);return w.forEach(A=>{let E=A[1].length;for(;E>0;){let T=0;switch(A[0]){case e.INSERT:T=Math.min(k.peekLength(),E),b.push(k.next(T));break;case e.DELETE:T=Math.min(E,v.peekLength()),v.next(T),b.delete(T);break;case e.EQUAL:T=Math.min(v.peekLength(),k.peekLength(),E);const M=v.next(T),N=k.next(T);i(M.insert,N.insert)?b.retain(T,s.default.diff(M.attributes,N.attributes)):b.push(N).delete(T);break}E-=T}}),b.chop()}eachLine(f,p=`
`){const m=new o.default(this.ops);let b=new u,w=0;for(;m.hasNext();){if(m.peekType()!=="insert")return;const v=m.peek(),k=a.default.length(v)-m.peekLength(),A=typeof v.insert=="string"?v.insert.indexOf(p,k)-k:-1;if(A<0)b.push(m.next());else if(A>0)b.push(m.next(A));else{if(f(b,m.next(1).attributes||{},w)===!1)return;w+=1,b=new u}}b.length()>0&&f(b,{},w)}invert(f){const p=new u;return this.reduce((m,b)=>{if(b.insert)p.delete(a.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return p.retain(b.retain),m+b.retain;if(b.delete||typeof b.retain=="number"){const w=b.delete||b.retain;return f.slice(m,m+w).forEach(k=>{b.delete?p.push(k):b.retain&&b.attributes&&p.retain(a.default.length(k),s.default.invert(b.attributes,k.attributes))}),m+w}else if(typeof b.retain=="object"&&b.retain!==null){const w=f.slice(m,m+1),v=new o.default(w.ops).next(),[k,A,E]=c(b.retain,v.insert),T=u.getHandler(k);return p.retain({[k]:T.invert(A,E)},s.default.invert(b.attributes,v.attributes)),m+1}}return m},0),p.chop()}transform(f,p=!1){if(p=!!p,typeof f=="number")return this.transformPosition(f,p);const m=f,b=new o.default(this.ops),w=new o.default(m.ops),v=new u;for(;b.hasNext()||w.hasNext();)if(b.peekType()==="insert"&&(p||w.peekType()!=="insert"))v.retain(a.default.length(b.next()));else if(w.peekType()==="insert")v.push(w.next());else{const k=Math.min(b.peekLength(),w.peekLength()),A=b.next(k),E=w.next(k);if(A.delete)continue;if(E.delete)v.push(E);else{const T=A.retain,M=E.retain;let N=typeof M=="object"&&M!==null?M:k;if(typeof T=="object"&&T!==null&&typeof M=="object"&&M!==null){const S=Object.keys(T)[0];if(S===Object.keys(M)[0]){const C=u.getHandler(S);C&&(N={[S]:C.transform(T[S],M[S],p)})}}v.retain(N,s.default.transform(A.attributes,E.attributes,p))}}return v.chop()}transformPosition(f,p=!1){p=!!p;const m=new o.default(this.ops);let b=0;for(;m.hasNext()&&b<=f;){const w=m.peekLength(),v=m.peekType();if(m.next(),v==="delete"){f-=Math.min(w,f-b);continue}else v==="insert"&&(b<f||!p)&&(f+=w);b+=w}return f}}u.Op=a.default,u.OpIterator=o.default,u.AttributeMap=s.default,u.handlers={},t.default=u,r.exports=u,r.exports.default=u}(pl,pl.exports);var ee=pl.exports;const B=Dh(ee);class ve extends Kt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ve.blotName="break",ve.tagName="BR";let we=class extends ta{};const Kw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function aa(r){return r.replace(/[&<>"']/g,t=>Kw[t])}const Je=class Je extends ul{static compare(t,e){const n=Je.order.indexOf(t),i=Je.order.indexOf(e);return n>=0||i>=0?n-i:t===e?0:t<e?-1:1}formatAt(t,e,n,i){if(Je.compare(this.statics.blotName,n)<0&&this.scroll.query(n,P.BLOT)){const s=this.isolate(t,e);i&&s.wrap(n,i)}else super.formatAt(t,e,n,i)}optimize(t){if(super.optimize(t),this.parent instanceof Je&&Je.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};_(Je,"allowedChildren",[Je,ve,Kt,we]),_(Je,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let He=Je;const Fh=1;class Ct extends Ei{constructor(){super(...arguments);_(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Hh(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,i,s){n<=0||(this.scroll.query(i,P.BLOCK)?e+n===this.length()&&this.format(i,s):super.formatAt(e,Math.min(n,this.length()-e-1),i,s),this.cache={})}insertAt(e,n,i){if(i!=null){super.insertAt(e,n,i),this.cache={};return}if(n.length===0)return;const s=n.split(`
`),a=s.shift();a.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});let o=this;s.reduce((l,c)=>(o=o.split(l,!0),o.insertAt(0,c),c.length),e+a.length)}insertBefore(e,n){const{head:i}=this.children;super.insertBefore(e,n),i instanceof ve&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Fh),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-Fh)){const s=this.clone();return e===0?(this.parent.insertBefore(s,this),this):(this.parent.insertBefore(s,this.next),s)}const i=super.split(e,n);return this.cache={},i}}Ct.blotName="block",Ct.tagName="P",Ct.defaultChild=ve,Ct.allowedChildren=[ve,He,Kt,we];class ne extends Kt{attach(){super.attach(),this.attributes=new Zs(this.domNode)}delta(){return new B().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,P.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,i){this.format(n,i)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const i=e.split(`
`),s=i.pop(),a=i.map(l=>{const c=this.scroll.create(Ct.blotName);return c.insertAt(0,l),c}),o=this.split(t);a.forEach(l=>{this.parent.insertBefore(l,o)}),s&&this.parent.insertBefore(this.scroll.create("text",s),o)}}ne.scope=P.BLOCK_BLOT;function Hh(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r.descendants(It).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),re(n,{},t)),new B).insert(`
`,re(r))}function re(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return r==null||("formats"in r&&typeof r.formats=="function"&&(t={...t,...r.formats()},e&&delete t["code-token"]),r.parent==null||r.parent.statics.blotName==="scroll"||r.parent.statics.scope!==r.statics.scope)?t:re(r.parent,t,e)}const ue=class ue extends Kt{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(ue.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,i=0;for(;n!=null&&n.statics.scope!==P.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=ue.CONTENTS.length,n.optimize(),n.formatAt(i,ue.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof we?this.prev:null,n=e?e.length():0,i=this.next instanceof we?this.next:null,s=i?i.text:"",{textNode:a}=this,o=a.data.split(ue.CONTENTS).join("");a.data=ue.CONTENTS;let l;if(e)l=e,(o||i)&&(e.insertAt(e.length(),o+s),i&&i.remove());else if(i)l=i,i.insertAt(0,o);else{const c=document.createTextNode(o);l=this.scroll.create(c),this.parent.insertBefore(l,this)}if(this.remove(),t){const c=(f,p)=>e&&f===e.domNode?p:f===a?n+p-1:i&&f===i.domNode?n+o.length+p:null,u=c(t.start.node,t.start.offset),h=c(t.end.node,t.end.offset);if(u!==null&&h!==null)return{startNode:l.domNode,startOffset:u,endNode:l.domNode,endOffset:h}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=ue.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};_(ue,"blotName","cursor"),_(ue,"className","ql-cursor"),_(ue,"tagName","span"),_(ue,"CONTENTS","\uFEFF");let Rr=ue;var Uh={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,h,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,h||l,f),m=e?e+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,h;if(this._eventsCount===0)return c;for(h in u=this._events)t.call(u,h)&&c.push(e?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=e?e+c:c,h=this._events[u];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,m=new Array(p);f<p;f++)m[f]=h[f].fn;return m},o.prototype.listenerCount=function(c){var u=e?e+c:c,h=this._events[u];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,u,h,f,p,m){var b=e?e+c:c;if(!this._events[b])return!1;var w=this._events[b],v=arguments.length,k,A;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,h),!0;case 4:return w.fn.call(w.context,u,h,f),!0;case 5:return w.fn.call(w.context,u,h,f,p),!0;case 6:return w.fn.call(w.context,u,h,f,p,m),!0}for(A=1,k=new Array(v-1);A<v;A++)k[A-1]=arguments[A];w.fn.apply(w.context,k)}else{var E=w.length,T;for(A=0;A<E;A++)switch(w[A].once&&this.removeListener(c,w[A].fn,void 0,!0),v){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,u);break;case 3:w[A].fn.call(w[A].context,u,h);break;case 4:w[A].fn.call(w[A].context,u,h,f);break;default:if(!k)for(T=1,k=new Array(v-1);T<v;T++)k[T-1]=arguments[T];w[A].fn.apply(w[A].context,k)}}return!0},o.prototype.on=function(c,u,h){return s(this,c,u,h,!1)},o.prototype.once=function(c,u,h){return s(this,c,u,h,!0)},o.prototype.removeListener=function(c,u,h,f){var p=e?e+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!h||m.context===h)&&a(this,p);else{for(var b=0,w=[],v=m.length;b<v;b++)(m[b].fn!==u||f&&!m[b].once||h&&m[b].context!==h)&&w.push(m[b]);w.length?this._events[p]=w.length===1?w[0]:w:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=e?e+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,r.exports=o})(Uh);var Qw=Uh.exports;const Xw=Dh(Qw),kl=new WeakMap,Sl=["error","warn","log","info"];let Al="warn";function Vh(r){if(Al&&Sl.indexOf(r)<=Sl.indexOf(Al)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[r](...e)}}function cn(r){return Sl.reduce((t,e)=>(t[e]=Vh.bind(console,e,r),t),{})}cn.level=r=>{Al=r},Vh.level=cn.level;const El=cn("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(r=>{document.addEventListener(r,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=kl.get(i);s&&s.emitter&&s.emitter.handleDOM(...e)})})});class z extends Xw{constructor(){super(),this.domListeners={},this.on("error",El.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return El.log.call(El,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];(this.domListeners[t.type]||[]).forEach(s=>{let{node:a,handler:o}=s;(t.target===a||a.contains(t.target))&&o(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}_(z,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),_(z,"sources",{API:"api",SILENT:"silent",USER:"user"});const Cl=cn("quill:selection");class er{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class Zw{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new er(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,z.sources.USER),1)}),this.emitter.on(z.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(z.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const a=s.some(o=>o.type==="characterData"||o.type==="childList"||o.type==="attributes"&&o.target===this.root);this.update(a?z.sources.SILENT:i)}catch{}})}),this.emitter.on(z.events.SCROLL_OPTIMIZE,(n,i)=>{if(i.range){const{startNode:s,startOffset:a,endNode:o,endOffset:l}=i.range;this.setNativeRange(s,a,o,l),this.update(z.sources.SILENT)}}),this.update(z.sources.SILENT)}handleComposition(){this.emitter.on(z.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(z.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(z.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,P.BLOCK))){if(n.start.node!==this.cursor.textNode){const i=this.scroll.find(n.start.node,!1);if(i==null)return;if(i instanceof It){const s=i.split(n.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let i,[s,a]=this.scroll.leaf(t);if(s==null)return null;if(e>0&&a===s.length()){const[u]=this.scroll.leaf(t+1);if(u){const[h]=this.scroll.line(t),[f]=this.scroll.line(t+1);h===f&&(s=u,a=0)}}[i,a]=s.position(a,!0);const o=document.createRange();if(e>0)return o.setStart(i,a),[s,a]=this.scroll.leaf(t+e),s==null?null:([i,a]=s.position(a,!0),o.setEnd(i,a),o.getBoundingClientRect());let l="left",c;if(i instanceof Text){if(!i.data.length)return null;a<i.data.length?(o.setStart(i,a),o.setEnd(i,a+1)):(o.setStart(i,a-1),o.setEnd(i,a),l="right"),c=o.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;c=s.domNode.getBoundingClientRect(),a>0&&(l="right")}return{bottom:c.top+c.height,height:c.height,left:c[l],right:c[l],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return Cl.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Tl(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(a=>{const[o,l]=a,c=this.scroll.find(o,!0),u=c.offset(this.scroll);return l===0?u:c instanceof It?u+c.index(o,l):u+c.length()}),i=Math.min(Math.max(...n),this.scroll.length()-1),s=Math.min(i,...n);return new er(s,i-s)}normalizeNative(t){if(!Tl(this.root,t.startContainer)||!t.collapsed&&!Tl(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:i,offset:s}=n;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;n.node=i,n.offset=s}),e}rangeToNative(t){const e=this.scroll.length(),n=(i,s)=>{i=Math.min(e-1,i);const[a,o]=this.scroll.leaf(i);return a?a.position(o,s):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Cl.info("setNativeRange",t,e,n,i),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const a=document.getSelection();if(a!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(o==null||s||t!==o.startContainer||e!==o.startOffset||n!==o.endContainer||i!==o.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(i=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const l=document.createRange();l.setStart(t,e),l.setEnd(n,i),a.removeAllRanges(),a.addRange(l)}}else a.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z.sources.API;if(typeof e=="string"&&(n=e,e=!1),Cl.info("setRange",t),t!=null){const i=this.rangeToNative(t);this.setNativeRange(...i,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z.sources.USER;const e=this.lastRange,[n,i]=this.getRange();if(this.lastRange=n,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!ll(e,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const s=[z.events.SELECTION_CHANGE,Ir(this.lastRange),Ir(e),t];this.emitter.emit(z.events.EDITOR_CHANGE,...s),t!==z.sources.SILENT&&this.emitter.emit(...s)}}}function Tl(r,t){try{t.parentNode}catch{return!1}return r.contains(t)}const Jw=/^[ -~]*$/;class tx{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=Yh(t),i=new B;return nx(n.ops.slice()).reduce((a,o)=>{const l=ee.Op.length(o);let c=o.attributes||{},u=!1,h=!1;if(o.insert!=null){if(i.retain(l),typeof o.insert=="string"){const m=o.insert;h=!m.endsWith(`
`)&&(e<=a||!!this.scroll.descendant(ne,a)[0]),this.scroll.insertAt(a,m);const[b,w]=this.scroll.line(a);let v=Ln({},re(b));if(b instanceof Ct){const[k]=b.descendant(It,w);k&&(v=Ln(v,re(k)))}c=ee.AttributeMap.diff(v,c)||{}}else if(typeof o.insert=="object"){const m=Object.keys(o.insert)[0];if(m==null)return a;const b=this.scroll.query(m,P.INLINE)!=null;if(b)(e<=a||this.scroll.descendant(ne,a)[0])&&(h=!0);else if(a>0){const[w,v]=this.scroll.descendant(It,a-1);w instanceof we?w.value()[v]!==`
`&&(u=!0):w instanceof Kt&&w.statics.scope===P.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(a,m,o.insert[m]),b){const[w]=this.scroll.descendant(It,a);if(w){const v=Ln({},re(w));c=ee.AttributeMap.diff(v,c)||{}}}}e+=l}else if(i.push(o),o.retain!==null&&typeof o.retain=="object"){const m=Object.keys(o.retain)[0];if(m==null)return a;this.scroll.updateEmbedAt(a,m,o.retain[m])}Object.keys(c).forEach(m=>{this.scroll.formatAt(a,l,m,c[m])});const f=u?1:0,p=h?1:0;return e+=f+p,i.retain(f),i.delete(p),a+l+f+p},0),i.reduce((a,o)=>typeof o.delete=="number"?(this.scroll.deleteAt(a,o.delete),a):a+ee.Op.length(o),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new B().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(s=>{this.scroll.lines(t,Math.max(e,1)).forEach(a=>{a.format(s,n[s])})}),this.scroll.optimize();const i=new B().retain(t).retain(e,Ir(n));return this.update(i)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(s=>{this.scroll.formatAt(t,e,s,n[s])});const i=new B().retain(t).retain(e,Ir(n));return this.update(i)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new B)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],i=[];e===0?this.scroll.path(t).forEach(o=>{const[l]=o;l instanceof Ct?n.push(l):l instanceof It&&i.push(l)}):(n=this.scroll.lines(t,e),i=this.scroll.descendants(It,t,e));const[s,a]=[n,i].map(o=>{const l=o.shift();if(l==null)return{};let c=re(l);for(;Object.keys(c).length>0;){const u=o.shift();if(u==null)return c;c=ex(re(u),c)}return c});return{...s,...a}}getHTML(t,e){const[n,i]=this.scroll.line(t);if(n){const s=n.length();return n.length()>=i+e&&!(i===0&&e===s)?Ti(n,i,e,!0):Ti(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=Yh(e),i=new B().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(i)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new B().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(i=>{this.scroll.formatAt(t,e.length,i,n[i])}),this.update(new B().retain(t).insert(e,Ir(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Ct.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof ve}removeFormat(t,e){const n=this.getText(t,e),[i,s]=this.scroll.line(t+e);let a=0,o=new B;i!=null&&(a=i.length()-s,o=i.delta().slice(s,s+a-1).insert(`
`));const c=this.getContents(t,e+a).diff(new B().insert(n).concat(o)),u=new B().retain(t).concat(c);return this.applyDelta(u)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Jw)&&this.scroll.find(e[0].target)){const s=this.scroll.find(e[0].target),a=re(s),o=s.offset(this.scroll),l=e[0].oldValue.replace(Rr.CONTENTS,""),c=new B().insert(l),u=new B().insert(s.value()),h=n&&{oldRange:Wh(n.oldRange,-o),newRange:Wh(n.newRange,-o)};t=new B().retain(o).concat(c.diff(u,h)).reduce((p,m)=>m.insert?p.insert(m.insert,a):p.push(m),new B),this.delta=i.compose(t)}else this.delta=this.getDelta(),(!t||!ll(i.compose(t),this.delta))&&(t=i.diff(this.delta,n));return t}}function zr(r,t,e){if(r.length===0){const[p]=Ll(e.pop());return t<=0?`</li></${p}>`:`</li></${p}>${zr([],t-1,e)}`}const[{child:n,offset:i,length:s,indent:a,type:o},...l]=r,[c,u]=Ll(o);if(a>t)return e.push(o),a===t+1?`<${c}><li${u}>${Ti(n,i,s)}${zr(l,a,e)}`:`<${c}><li>${zr(r,t+1,e)}`;const h=e[e.length-1];if(a===t&&o===h)return`</li><li${u}>${Ti(n,i,s)}${zr(l,a,e)}`;const[f]=Ll(e.pop());return`</li></${f}>${zr(r,t-1,e)}`}function Ti(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in r&&typeof r.html=="function")return r.html(t,e);if(r instanceof we)return aa(r.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(r instanceof ye){if(r.statics.blotName==="list-container"){const c=[];return r.children.forEachAt(t,e,(u,h,f)=>{const p="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:h,length:f,indent:p.indent||0,type:p.list})}),zr(c,-1,[])}const i=[];if(r.children.forEachAt(t,e,(c,u,h)=>{i.push(Ti(c,u,h))}),n||r.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:a}=r.domNode,[o,l]=s.split(`>${a}<`);return o==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${l}`:`${o}>${i.join("")}<${l}`}return r.domNode instanceof Element?r.domNode.outerHTML:""}function ex(r,t){return Object.keys(t).reduce((e,n)=>{if(r[n]==null)return e;const i=t[n];return i===r[n]?e[n]=i:Array.isArray(i)?i.indexOf(r[n])<0?e[n]=i.concat([r[n]]):e[n]=i:e[n]=[i,r[n]],e},{})}function Ll(r){const t=r==="ordered"?"ol":"ul";switch(r){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Yh(r){return r.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new B)}function Wh(r,t){let{index:e,length:n}=r;return new er(e+t,n)}function nx(r){const t=[];return r.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((i,s)=>{s&&t.push({insert:`
`,attributes:e.attributes}),i&&t.push({insert:i,attributes:e.attributes})}):t.push(e)}),t}class xe{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}_(xe,"DEFAULTS",{});const oa="\uFEFF";class Dl extends Kt{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(oa),this.rightGuard=document.createTextNode(oa),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const i=t.data.split(oa).join("");if(t===this.leftGuard)if(this.prev instanceof we){const s=this.prev.length();this.prev.insertAt(s,i),e={startNode:this.prev.domNode,startOffset:s+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof we?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:i.length}));return t.data=oa,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const i=this.restore(n.target);i&&(e.range=i)}})}}class rx{constructor(t,e){_(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Dl)&&(this.emitter.emit(z.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(z.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(z.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(z.events.COMPOSITION_END,t),this.isComposing=!1}}const es=class es{constructor(t,e){_(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};_(es,"DEFAULTS",{modules:{}}),_(es,"themes",{default:es});let Br=es;const ix=r=>r.parentElement||r.getRootNode().host||null,sx=r=>{const t=r.getBoundingClientRect(),e="offsetWidth"in r&&Math.abs(t.width)/r.offsetWidth||1,n="offsetHeight"in r&&Math.abs(t.height)/r.offsetHeight||1;return{top:t.top,right:t.left+r.clientWidth*e,bottom:t.top+r.clientHeight*n,left:t.left}},la=r=>{const t=parseInt(r,10);return Number.isNaN(t)?0:t},Gh=(r,t,e,n,i,s)=>r<e&&t>n?0:r<e?-(e-r+i):t>n?t-r>n-e?r+i-e:t-n+s:0,ax=(r,t)=>{var s,a,o;const e=r.ownerDocument;let n=t,i=r;for(;i;){const l=i===e.body,c=l?{top:0,right:((s=window.visualViewport)==null?void 0:s.width)??e.documentElement.clientWidth,bottom:((a=window.visualViewport)==null?void 0:a.height)??e.documentElement.clientHeight,left:0}:sx(i),u=getComputedStyle(i),h=Gh(n.left,n.right,c.left,c.right,la(u.scrollPaddingLeft),la(u.scrollPaddingRight)),f=Gh(n.top,n.bottom,c.top,c.bottom,la(u.scrollPaddingTop),la(u.scrollPaddingBottom));if(h||f)if(l)(o=e.defaultView)==null||o.scrollBy(h,f);else{const{scrollLeft:p,scrollTop:m}=i;f&&(i.scrollTop+=f),h&&(i.scrollLeft+=h);const b=i.scrollLeft-p,w=i.scrollTop-m;n={left:n.left-b,top:n.top-w,right:n.right-b,bottom:n.bottom-w}}i=l||u.position==="fixed"?null:ix(i)}},ox=100,lx=["block","break","cursor","inline","scroll","text"],cx=(r,t,e)=>{const n=new Nr;return lx.forEach(i=>{const s=t.query(i);s&&n.register(s)}),r.forEach(i=>{let s=t.query(i);s||e.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;s;)if(n.register(s),s="blotName"in s?s.requiredContainer??null:null,a+=1,a>ox){e.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),n},Pr=cn("quill"),ca=new Nr;ye.uiClass="ql-ui";const De=class De{static debug(t){t===!0&&(t="log"),cn.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return kl.get(t)||ca.find(t,e)}static import(t){return this.imports[t]==null&&Pr.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),n="attrName"in t?t.attrName:t.blotName;typeof n=="string"?this.register(`formats/${n}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],n=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!n&&Pr.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&ca.register(e),typeof e.register=="function"&&e.register(ca)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=ux(t,e),this.container=this.options.container,this.container==null){Pr.error("Invalid Quill container",t);return}this.options.debug&&De.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",kl.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new z;const i=hl.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new tx(this.scroll),this.selection=new Zw(this.scroll,this.emitter),this.composition=new rx(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(z.events.EDITOR_CHANGE,a=>{a===z.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(z.events.SCROLL_UPDATE,(a,o)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;ke.call(this,()=>this.editor.update(null,o,u),a)}),this.emitter.on(z.events.SCROLL_EMBED_UPDATE,(a,o)=>{const l=this.selection.lastRange,[c]=this.selection.getRange(),u=l&&c?{oldRange:l,newRange:c}:void 0;ke.call(this,()=>{const h=new B().retain(a.offset(this)).retain({[a.statics.blotName]:o});return this.editor.update(h,[],u)},De.sources.USER)}),n){const a=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=un(t,e,n),ke.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:z.sources.API;return ke.call(this,()=>{const i=this.getSelection(!0);let s=new B;if(i==null)return s;if(this.scroll.query(t,P.BLOCK))s=this.editor.formatLine(i.index,i.length,{[t]:e});else{if(i.length===0)return this.selection.format(t,e),s;s=this.editor.formatText(i.index,i.length,{[t]:e})}return this.setSelection(i,z.sources.SILENT),s},n)}formatLine(t,e,n,i,s){let a;return[t,e,a,s]=un(t,e,n,i,s),ke.call(this,()=>this.editor.formatLine(t,e,a),s,t,0)}formatText(t,e,n,i,s){let a;return[t,e,a,s]=un(t,e,n,i,s),ke.call(this,()=>this.editor.formatText(t,e,a),s,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=un(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=un(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=un(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:De.sources.API;return ke.call(this,()=>this.editor.insertEmbed(t,e,n),i,t)}insertText(t,e,n,i,s){let a;return[t,,a,s]=un(t,0,n,i,s),ke.call(this,()=>this.editor.insertText(t,e,a),s,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,n){return[t,e,,n]=un(t,e,n),ke.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){ax(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.sources.API;return ke.call(this,()=>{t=new B(t);const n=this.getLength(),i=this.editor.deleteText(0,n),s=this.editor.insertContents(0,t),a=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(a)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||De.sources.API):([t,e,,n]=un(t,e,n),this.selection.setRange(new er(Math.max(0,t),e),n),n!==z.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.sources.API;const n=new B().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.sources.API;return ke.call(this,()=>(t=new B(t),this.editor.applyDelta(t)),e,!0)}};_(De,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ca,theme:"default"}),_(De,"events",z.events),_(De,"sources",z.sources),_(De,"version","2.0.3"),_(De,"imports",{delta:B,parchment:_w,"core/module":xe,"core/theme":Br});let I=De;function Kh(r){return typeof r=="string"?document.querySelector(r):r}function Il(r){return Object.entries(r??{}).reduce((t,e)=>{let[n,i]=e;return{...t,[n]:i===!0?{}:i}},{})}function Qh(r){return Object.fromEntries(Object.entries(r).filter(t=>t[1]!==void 0))}function ux(r,t){const e=Kh(r);if(!e)throw new Error("Invalid Quill container");const i=!t.theme||t.theme===I.DEFAULTS.theme?Br:I.import(`themes/${t.theme}`);if(!i)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:s,...a}=I.DEFAULTS,{modules:o,...l}=i.DEFAULTS;let c=Il(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=Ln({},Il(s),Il(o),c),h={...a,...Qh(l),...Qh(t)};let f=t.registry;return f?t.formats&&Pr.warn('Ignoring "formats" option because "registry" is specified'):f=t.formats?cx(t.formats,h.registry,Pr):h.registry,{...h,registry:f,container:e,theme:i,modules:Object.entries(u).reduce((p,m)=>{let[b,w]=m;if(!w)return p;const v=I.import(`modules/${b}`);return v==null?(Pr.error(`Cannot load ${b} module. Are you sure you registered it?`),p):{...p,[b]:Ln({},v.DEFAULTS||{},w)}},{}),bounds:Kh(h.bounds)}}function ke(r,t,e,n){if(!this.isEnabled()&&t===z.sources.USER&&!this.allowReadOnlyEdits)return new B;let i=e==null?null:this.getSelection();const s=this.editor.delta,a=r();if(i!=null&&(e===!0&&(e=i.index),n==null?i=Xh(i,a,t):n!==0&&(i=Xh(i,e,n,t)),this.setSelection(i,z.sources.SILENT)),a.length()>0){const o=[z.events.TEXT_CHANGE,a,s,t];this.emitter.emit(z.events.EDITOR_CHANGE,...o),t!==z.sources.SILENT&&this.emitter.emit(...o)}return a}function un(r,t,e,n,i){let s={};return typeof r.index=="number"&&typeof r.length=="number"?typeof t!="number"?(i=n,n=e,e=t,t=r.length,r=r.index):(t=r.length,r=r.index):typeof t!="number"&&(i=n,n=e,e=t,t=0),typeof e=="object"?(s=e,i=n):typeof e=="string"&&(n!=null?s[e]=n:i=e),i=i||z.sources.API,[r,t,s,i]}function Xh(r,t,e,n){const i=typeof e=="number"?e:0;if(r==null)return null;let s,a;return t&&typeof t.transformPosition=="function"?[s,a]=[r.index,r.index+r.length].map(o=>t.transformPosition(o,n!==z.sources.USER)):[s,a]=[r.index,r.index+r.length].map(o=>o<t||o===t&&n===z.sources.USER?o:i>=0?o+i:Math.max(t,o+i)),new er(s,a-s)}class nr extends Js{}function Zh(r){return r instanceof Ct||r instanceof ne}function Jh(r){return typeof r.updateContent=="function"}class $r extends hl{constructor(t,e,n){let{emitter:i}=n;super(t,e),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(z.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(z.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(z.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,i]=this.line(t),[s]=this.line(t+e);if(super.deleteAt(t,e),s!=null&&n!==s&&i>0){if(n instanceof ne||s instanceof ne){this.optimize();return}const a=s.children.head instanceof ve?null:s.children.head;n.moveChildren(s,a),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,i){super.formatAt(t,e,n,i),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,P.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),n==null&&e.endsWith(`
`)?i.insertAt(0,e.slice(0,-1),n):i.insertAt(0,e,n)}else{const i=this.scroll.create(e,n);this.appendChild(i)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===P.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new B().insert(`
`))),i=n.pop();if(i==null)return;this.batchStart();const s=n.shift();if(s){const l=s.type==="block"&&(s.delta.length()===0||!this.descendant(ne,t)[0]&&t<this.length()),c=s.type==="block"?s.delta:new B().insert({[s.key]:s.value});Ol(this,t,c);const u=s.type==="block"?1:0,h=t+c.length()+u;l&&this.insertAt(h-1,`
`);const f=re(this.line(t)[0]),p=ee.AttributeMap.diff(f,s.attributes)||{};Object.keys(p).forEach(m=>{this.formatAt(h-1,1,m,p[m])}),t=h}let[a,o]=this.children.find(t);if(n.length&&(a&&(a=a.split(o),o=0),n.forEach(l=>{if(l.type==="block"){const c=this.createBlock(l.attributes,a||void 0);Ol(c,0,l.delta)}else{const c=this.create(l.key,l.value);this.insertBefore(c,a||void 0),Object.keys(l.attributes).forEach(u=>{c.format(u,l.attributes[u])})}})),i.type==="block"&&i.delta.length()){const l=a?a.offset(a.scroll)+o:this.length();Ol(this,l,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,i]=e;return n instanceof It?[n,i]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Zh,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(i,s,a)=>{let o=[],l=a;return i.children.forEachAt(s,a,(c,u,h)=>{Zh(c)?o.push(c):c instanceof Js&&(o=o.concat(n(c,u,l))),l-=h}),o};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(z.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=z.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:i}=n;const s=this.find(i,!0);return s&&!Jh(s)}),t.length>0&&this.emitter.emit(z.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(z.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[i]=this.descendant(s=>s instanceof ne,t);i&&i.statics.blotName===e&&Jh(i)&&i.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new B;return t.forEach(i=>{const s=i==null?void 0:i.insert;if(s)if(typeof s=="string"){const a=s.split(`
`);a.slice(0,-1).forEach(l=>{n.insert(l,i.attributes),e.push({type:"block",delta:n,attributes:i.attributes??{}}),n=new B});const o=a[a.length-1];o&&n.insert(o,i.attributes)}else{const a=Object.keys(s)[0];if(!a)return;this.query(a,P.INLINE)?n.push(i):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new B,e.push({type:"blockEmbed",key:a,value:s[a],attributes:i.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const i={};Object.entries(t).forEach(o=>{let[l,c]=o;this.query(l,P.BLOCK&P.BLOT)!=null?n=l:i[l]=c});const s=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(s,e||void 0);const a=s.length();return Object.entries(i).forEach(o=>{let[l,c]=o;s.formatAt(0,a,l,c)}),s}}_($r,"blotName","scroll"),_($r,"className","ql-editor"),_($r,"tagName","DIV"),_($r,"defaultChild",Ct),_($r,"allowedChildren",[Ct,ne,nr]);function Ol(r,t,e){e.reduce((n,i)=>{const s=ee.Op.length(i);let a=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const o=i.insert;r.insertAt(n,o);const[l]=r.descendant(It,n),c=re(l);a=ee.AttributeMap.diff(c,a)||{}}else if(typeof i.insert=="object"){const o=Object.keys(i.insert)[0];if(o==null)return n;if(r.insertAt(n,o,i.insert[o]),r.scroll.query(o,P.INLINE)!=null){const[c]=r.descendant(It,n),u=re(c);a=ee.AttributeMap.diff(u,a)||{}}}}return Object.keys(a).forEach(o=>{r.formatAt(n,s,o,a[o])}),n+s},t)}const Nl={scope:P.BLOCK,whitelist:["right","center","justify"]},dx=new Fe("align","align",Nl),tf=new be("align","ql-align",Nl),ef=new Dn("align","text-align",Nl);class nf extends Dn{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):e}}const hx=new be("color","ql-color",{scope:P.INLINE}),Ml=new nf("color","color",{scope:P.INLINE}),fx=new be("background","ql-bg",{scope:P.INLINE}),ql=new nf("background","background-color",{scope:P.INLINE});class rr extends nr{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${aa(this.code(t,e))}
</pre>`}}class Ot extends Ct{static register(){I.register(rr)}}_(Ot,"TAB","  ");class _l extends He{}_l.blotName="code",_l.tagName="CODE",Ot.blotName="code-block",Ot.className="ql-code-block",Ot.tagName="DIV",rr.blotName="code-block-container",rr.className="ql-code-block-container",rr.tagName="DIV",rr.allowedChildren=[Ot],Ot.allowedChildren=[we,ve,Rr],Ot.requiredContainer=rr;const Rl={scope:P.BLOCK,whitelist:["rtl"]},rf=new Fe("direction","dir",Rl),sf=new be("direction","ql-direction",Rl),af=new Dn("direction","direction",Rl),of={scope:P.INLINE,whitelist:["serif","monospace"]},lf=new be("font","ql-font",of);class px extends Dn{value(t){return super.value(t).replace(/["']/g,"")}}const cf=new px("font","font-family",of),uf=new be("size","ql-size",{scope:P.INLINE,whitelist:["small","large","huge"]}),df=new Dn("size","font-size",{scope:P.INLINE,whitelist:["10px","18px","32px"]}),gx=cn("quill:keyboard"),mx=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class ua extends xe{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=yx(t);if(i==null){gx.warn("Attempted to add invalid keyboard binding",i);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(i.key)?i.key:[i.key]).forEach(a=>{const o={...i,key:a,...e,...n};this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const i=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(v=>ua.match(t,v));if(i.length===0)return;const s=I.find(t.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[o,l]=this.quill.getLine(a.index),[c,u]=this.quill.getLeaf(a.index),[h,f]=a.length===0?[c,u]:this.quill.getLeaf(a.index+a.length),p=c instanceof ta?c.value().slice(0,u):"",m=h instanceof ta?h.value().slice(f):"",b={collapsed:a.length===0,empty:a.length===0&&o.length()<=1,format:this.quill.getFormat(a),line:o,offset:l,prefix:p,suffix:m,event:t};i.some(v=>{if(v.collapsed!=null&&v.collapsed!==b.collapsed||v.empty!=null&&v.empty!==b.empty||v.offset!=null&&v.offset!==b.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(k=>b.format[k]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(k=>v.format[k]===!0?b.format[k]!=null:v.format[k]===!1?b.format[k]==null:ll(v.format[k],b.format[k])))return!1;return v.prefix!=null&&!v.prefix.test(b.prefix)||v.suffix!=null&&!v.suffix.test(b.suffix)?!1:v.handler.call(this,a,b,v)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(t.index);let a=new B().retain(t.index-n).delete(n);if(e.offset===0){const[o]=this.quill.getLine(t.index-1);if(o&&!(o.statics.blotName==="block"&&o.length()<=1)){const c=s.formats(),u=this.quill.getFormat(t.index-1,1);if(i=ee.AttributeMap.diff(c,u)||{},Object.keys(i).length>0){const h=new B().retain(t.index+s.length()-2).retain(1,i);a=a.compose(h)}}}this.quill.updateContents(a,I.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let i={};const[s]=this.quill.getLine(t.index);let a=new B().retain(t.index).delete(n);if(e.offset>=s.length()-1){const[o]=this.quill.getLine(t.index+1);if(o){const l=s.formats(),c=this.quill.getFormat(t.index,1);i=ee.AttributeMap.diff(l,c)||{},Object.keys(i).length>0&&(a=a.retain(o.length()-1).retain(1,i))}}this.quill.updateContents(a,I.sources.USER),this.quill.focus()}handleDeleteRange(t){Bl({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((s,a)=>(this.quill.scroll.query(a,P.BLOCK)&&!Array.isArray(e.format[a])&&(s[a]=e.format[a]),s),{}),i=new B().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(i,I.sources.USER),this.quill.setSelection(t.index+1,I.sources.SILENT),this.quill.focus()}}const bx={bindings:{bold:zl("bold"),italic:zl("italic"),underline:zl("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",I.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(r,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",I.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(r,t){t.format.indent!=null?this.quill.format("indent","-1",I.sources.USER):t.format.list!=null&&this.quill.format("list",!1,I.sources.USER)}},"indent code-block":hf(!0),"outdent code-block":hf(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(r){this.quill.deleteText(r.index-1,1,I.sources.USER)}},tab:{key:"Tab",handler(r,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new B().retain(r.index).delete(r.length).insert("	");return this.quill.updateContents(e,I.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index+1,I.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,I.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(r,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(r.index,r.length,e,I.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(r){const[t,e]=this.quill.getLine(r.index),n={...t.formats(),list:"checked"},i=new B().retain(r.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,I.sources.USER),this.quill.setSelection(r.index+1,I.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(r,t){const[e,n]=this.quill.getLine(r.index),i=new B().retain(r.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(i,I.sources.USER),this.quill.setSelection(r.index+1,I.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(r){const t=this.quill.getModule("table");if(t){const[e,n,i,s]=t.getTable(r),a=vx(e,n,i,s);if(a==null)return;let o=e.offset();if(a<0){const l=new B().retain(o).insert(`
`);this.quill.updateContents(l,I.sources.USER),this.quill.setSelection(r.index+1,r.length,I.sources.SILENT)}else if(a>0){o+=e.length();const l=new B().retain(o).insert(`
`);this.quill.updateContents(l,I.sources.USER),this.quill.setSelection(o,I.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(r,t){const{event:e,line:n}=t,i=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(i-1,I.sources.USER):this.quill.setSelection(i+n.length(),I.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(r,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,i]=this.quill.getLine(r.index);if(i>e)return!0;let s;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(r.index," ",I.sources.USER),this.quill.history.cutoff();const a=new B().retain(r.index-i).delete(e+1).retain(n.length()-2-i).retain(1,{list:s});return this.quill.updateContents(a,I.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(r.index-e,I.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(r){const[t,e]=this.quill.getLine(r.index);let n=2,i=t;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,n-=1,n<=0){const s=new B().retain(r.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,I.sources.USER),this.quill.setSelection(r.index-1,I.sources.SILENT),!1}return!0}},"embed left":da("ArrowLeft",!1),"embed left shift":da("ArrowLeft",!0),"embed right":da("ArrowRight",!1),"embed right shift":da("ArrowRight",!0),"table down":ff(!1),"table up":ff(!0)}};ua.DEFAULTS=bx;function hf(r){return{key:"Tab",shiftKey:!r,format:{"code-block":!0},handler(t,e){let{event:n}=e;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,s,I.sources.USER),this.quill.setSelection(t.index+s.length,I.sources.SILENT);return}const a=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:o,length:l}=t;a.forEach((c,u)=>{r?(c.insertAt(0,s),u===0?o+=s.length:l+=s.length):c.domNode.textContent.startsWith(s)&&(c.deleteAt(0,s.length),u===0?o-=s.length:l-=s.length)}),this.quill.update(I.sources.USER),this.quill.setSelection(o,l,I.sources.SILENT)}}}function da(r,t){return{key:r,shiftKey:t,altKey:null,[r==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:i}=n;r==="ArrowRight"&&(i+=n.length+1);const[s]=this.quill.getLeaf(i);return s instanceof Kt?(r==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,I.sources.USER):this.quill.setSelection(n.index-1,I.sources.USER):t?this.quill.setSelection(n.index,n.length+1,I.sources.USER):this.quill.setSelection(n.index+n.length+1,I.sources.USER),!1):!0}}}function zl(r){return{key:r[0],shortKey:!0,handler(t,e){this.quill.format(r,!e.format[r],I.sources.USER)}}}function ff(r){return{key:r?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=r?"prev":"next",i=e.line,s=i.parent[n];if(s!=null){if(s.statics.blotName==="table-row"){let a=s.children.head,o=i;for(;o.prev!=null;)o=o.prev,a=a.next;const l=a.offset(this.quill.scroll)+Math.min(e.offset,a.length()-1);this.quill.setSelection(l,0,I.sources.USER)}}else{const a=i.table()[n];a!=null&&(r?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,I.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,I.sources.USER))}return!1}}}function yx(r){if(typeof r=="string"||typeof r=="number")r={key:r};else if(typeof r=="object")r=Ir(r);else return null;return r.shortKey&&(r[mx]=r.shortKey,delete r.shortKey),r}function Bl(r){let{quill:t,range:e}=r;const n=t.getLines(e);let i={};if(n.length>1){const s=n[0].formats(),a=n[n.length-1].formats();i=ee.AttributeMap.diff(a,s)||{}}t.deleteText(e,I.sources.USER),Object.keys(i).length>0&&t.formatLine(e.index,1,i,I.sources.USER),t.setSelection(e.index,I.sources.SILENT)}function vx(r,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const wx=/font-weight:\s*normal/,xx=["P","OL","UL"],pf=r=>r&&xx.includes(r.tagName),kx=r=>{Array.from(r.querySelectorAll("br")).filter(t=>pf(t.previousElementSibling)&&pf(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},Sx=r=>{Array.from(r.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(wx)}).forEach(t=>{var n;const e=r.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function Ax(r){r.querySelector('[id^="docs-internal-guid-"]')&&(Sx(r),kx(r))}const Ex=/\bmso-list:[^;]*ignore/i,Cx=/\bmso-list:[^;]*\bl(\d+)/i,Tx=/\bmso-list:[^;]*\blevel(\d+)/i,Lx=(r,t)=>{const e=r.getAttribute("style"),n=e==null?void 0:e.match(Cx);if(!n)return null;const i=Number(n[1]),s=e==null?void 0:e.match(Tx),a=s?Number(s[1]):1,o=new RegExp(`@list l${i}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),l=t.match(o),c=l&&l[1]==="bullet"?"bullet":"ordered";return{id:i,indent:a,type:c,element:r}},Dx=r=>{var a,o;const t=Array.from(r.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(l=>{(l.getAttribute("style")||"").match(Ex)?e.push(l):n.push(l)}),e.forEach(l=>{var c;return(c=l.parentNode)==null?void 0:c.removeChild(l)});const i=r.documentElement.innerHTML,s=n.map(l=>Lx(l,i)).filter(l=>l);for(;s.length;){const l=[];let c=s.shift();for(;c;)l.push(c),c=s.length&&((a=s[0])==null?void 0:a.element)===c.element.nextElementSibling&&s[0].id===c.id?s.shift():null;const u=document.createElement("ul");l.forEach(p=>{const m=document.createElement("li");m.setAttribute("data-list",p.type),p.indent>1&&m.setAttribute("class",`ql-indent-${p.indent-1}`),m.innerHTML=p.element.innerHTML,u.appendChild(m)});const h=(o=l[0])==null?void 0:o.element,{parentNode:f}=h??{};h&&(f==null||f.replaceChild(u,h)),l.slice(1).forEach(p=>{let{element:m}=p;f==null||f.removeChild(m)})}};function Ix(r){r.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Dx(r)}const Ox=[Ix,Ax],Nx=r=>{r.documentElement&&Ox.forEach(t=>{t(r)})},Mx=cn("quill:clipboard"),qx=[[Node.TEXT_NODE,Yx],[Node.TEXT_NODE,yf],["br",Px],[Node.ELEMENT_NODE,yf],[Node.ELEMENT_NODE,Bx],[Node.ELEMENT_NODE,zx],[Node.ELEMENT_NODE,Ux],["li",Fx],["ol, ul",Hx],["pre",$x],["tr",Vx],["b",$l("bold")],["i",$l("italic")],["strike",$l("strike")],["style",jx]],_x=[dx,rf].reduce((r,t)=>(r[t.keyName]=t,r),{}),gf=[ef,ql,Ml,af,cf,df].reduce((r,t)=>(r[t.keyName]=t,r),{});class mf extends xe{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],qx.concat(this.options.matchers??[]).forEach(n=>{let[i,s]=n;this.addMatcher(i,s)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Ot.blotName])return new B().insert(n||"",{[Ot.blotName]:i[Ot.blotName]});if(!e)return new B().insert(n||"",i);const s=this.convertHTML(e);return Li(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new B().retain(s.length()-1).delete(1)):s}normalizeHTML(t){Nx(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,i=new WeakMap,[s,a]=this.prepareMatching(n,i);return Pl(this.quill.scroll,n,s,a,i)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I.sources.API;if(typeof t=="string"){const i=this.convert({html:t,text:""});this.quill.setContents(i,e),this.quill.setSelection(0,I.sources.SILENT)}else{const i=this.convert({html:e,text:""});this.quill.updateContents(new B().retain(t).concat(i),n),this.quill.setSelection(t+i.length(),I.sources.SILENT)}}onCaptureCopy(t){var a,o;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:i,text:s}=this.onCopy(n,e);(a=t.clipboardData)==null||a.setData("text/plain",s),(o=t.clipboardData)==null||o.setData("text/html",i),e&&Bl({range:n,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var a,o,l,c,u;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(a=t.clipboardData)==null?void 0:a.getData("text/html");let i=(o=t.clipboardData)==null?void 0:o.getData("text/plain");if(!n&&!i){const h=(l=t.clipboardData)==null?void 0:l.getData("text/uri-list");h&&(i=this.normalizeURIList(h))}const s=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!n&&s.length>0){this.quill.uploader.upload(e,s);return}if(n&&s.length>0){const h=new DOMParser().parseFromString(n,"text/html");if(h.body.childElementCount===1&&((u=h.body.firstElementChild)==null?void 0:u.tagName)==="IMG"){this.quill.uploader.upload(e,s);return}}this.onPaste(e,{html:n,text:i})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:i}=e;const s=this.quill.getFormat(t.index),a=this.convert({text:n,html:i},s);Mx.log("onPaste",a,{text:n,html:i});const o=new B().retain(t.index).delete(t.length).concat(a);this.quill.updateContents(o,I.sources.USER),this.quill.setSelection(o.length()-t.length,I.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],i=[];return this.matchers.forEach(s=>{const[a,o]=s;switch(a){case Node.TEXT_NODE:i.push(o);break;case Node.ELEMENT_NODE:n.push(o);break;default:Array.from(t.querySelectorAll(a)).forEach(l=>{if(e.has(l)){const c=e.get(l);c==null||c.push(o)}else e.set(l,[o])});break}}),[n,i]}}_(mf,"DEFAULTS",{matchers:[]});function ir(r,t,e,n){return n.query(t)?r.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[t])return i.push(s);const a=e?{[t]:e}:{};return i.insert(s.insert,{...a,...s.attributes})},new B):r}function Li(r,t){let e="";for(let n=r.ops.length-1;n>=0&&e.length<t.length;--n){const i=r.ops[n];if(typeof i.insert!="string")break;e=i.insert+e}return e.slice(-1*t.length)===t}function On(r,t){if(!(r instanceof Element))return!1;const e=t.query(r);return e&&e.prototype instanceof Kt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(r.tagName.toLowerCase())}function Rx(r,t){return r.previousElementSibling&&r.nextElementSibling&&!On(r.previousElementSibling,t)&&!On(r.nextElementSibling,t)}const ha=new WeakMap;function bf(r){return r==null?!1:(ha.has(r)||(r.tagName==="PRE"?ha.set(r,!0):ha.set(r,bf(r.parentNode))),ha.get(r))}function Pl(r,t,e,n,i){return t.nodeType===t.TEXT_NODE?n.reduce((s,a)=>a(t,s,r),new B):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((s,a)=>{let o=Pl(r,a,e,n,i);return a.nodeType===t.ELEMENT_NODE&&(o=e.reduce((l,c)=>c(a,l,r),o),o=(i.get(a)||[]).reduce((l,c)=>c(a,l,r),o)),s.concat(o)},new B):new B}function $l(r){return(t,e,n)=>ir(e,r,!0,n)}function zx(r,t,e){const n=Fe.keys(r),i=be.keys(r),s=Dn.keys(r),a={};return n.concat(i).concat(s).forEach(o=>{let l=e.query(o,P.ATTRIBUTE);l!=null&&(a[l.attrName]=l.value(r),a[l.attrName])||(l=_x[o],l!=null&&(l.attrName===o||l.keyName===o)&&(a[l.attrName]=l.value(r)||void 0),l=gf[o],l!=null&&(l.attrName===o||l.keyName===o)&&(l=gf[o],a[l.attrName]=l.value(r)||void 0))}),Object.entries(a).reduce((o,l)=>{let[c,u]=l;return ir(o,c,u,e)},t)}function Bx(r,t,e){const n=e.query(r);if(n==null)return t;if(n.prototype instanceof Kt){const i={},s=n.value(r);if(s!=null)return i[n.blotName]=s,new B().insert(i,n.formats(r,e))}else if(n.prototype instanceof Ei&&!Li(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return ir(t,n.blotName,n.formats(r,e),e);return t}function Px(r,t){return Li(t,`
`)||t.insert(`
`),t}function $x(r,t,e){const n=e.query("code-block"),i=n&&"formats"in n&&typeof n.formats=="function"?n.formats(r,e):!0;return ir(t,"code-block",i,e)}function jx(){return new B}function Fx(r,t,e){const n=e.query(r);if(n==null||n.blotName!=="list"||!Li(t,`
`))return t;let i=-1,s=r.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?t:t.reduce((a,o)=>o.insert?o.attributes&&typeof o.attributes.indent=="number"?a.push(o):a.insert(o.insert,{indent:i,...o.attributes||{}}):a,new B)}function Hx(r,t,e){const n=r;let i=n.tagName==="OL"?"ordered":"bullet";const s=n.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),ir(t,"list",i,e)}function yf(r,t,e){if(!Li(t,`
`)){if(On(r,e)&&(r.childNodes.length>0||r instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&r.nextSibling){let n=r.nextSibling;for(;n!=null;){if(On(n,e))return t.insert(`
`);const i=e.query(n);if(i&&i.prototype instanceof ne)return t.insert(`
`);n=n.firstChild}}}return t}function Ux(r,t,e){var s;const n={},i=r.style||{};return i.fontStyle==="italic"&&(n.italic=!0),i.textDecoration==="underline"&&(n.underline=!0),i.textDecoration==="line-through"&&(n.strike=!0),((s=i.fontWeight)!=null&&s.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((a,o)=>{let[l,c]=o;return ir(a,l,c,e)},t),parseFloat(i.textIndent||0)>0?new B().insert("	").concat(t):t}function Vx(r,t,e){var i,s;const n=((i=r.parentElement)==null?void 0:i.tagName)==="TABLE"?r.parentElement:(s=r.parentElement)==null?void 0:s.parentElement;if(n!=null){const o=Array.from(n.querySelectorAll("tr")).indexOf(r)+1;return ir(t,"table",o,e)}return t}function Yx(r,t,e){var i;let n=r.data;if(((i=r.parentElement)==null?void 0:i.tagName)==="O:P")return t.insert(n.trim());if(!bf(r)){if(n.trim().length===0&&n.includes(`
`)&&!Rx(r,e))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(r.previousSibling==null&&r.parentElement!=null&&On(r.parentElement,e)||r.previousSibling instanceof Element&&On(r.previousSibling,e))&&(n=n.replace(/^ /,"")),(r.nextSibling==null&&r.parentElement!=null&&On(r.parentElement,e)||r.nextSibling instanceof Element&&On(r.nextSibling,e))&&(n=n.replace(/ $/,"")),n=n.replaceAll(" "," ")}return t.insert(n)}class vf extends xe{constructor(e,n){super(e,n);_(this,"lastRecorded",0);_(this,"ignoreChange",!1);_(this,"stack",{undo:[],redo:[]});_(this,"currentRange",null);this.quill.on(I.events.EDITOR_CHANGE,(i,s,a,o)=>{i===I.events.SELECTION_CHANGE?s&&o!==I.sources.SILENT&&(this.currentRange=s):i===I.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===I.sources.USER?this.record(s,a):this.transform(s)),this.currentRange=jl(this.currentRange,s))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const i=this.stack[e].pop();if(!i)return;const s=this.quill.getContents(),a=i.delta.invert(s);this.stack[n].push({delta:a,range:jl(i.range,a)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,I.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let i=e.invert(n),s=this.currentRange;const a=Date.now();if(this.lastRecorded+this.options.delay>a&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(i=i.compose(o.delta),s=o.range)}else this.lastRecorded=a;i.length()!==0&&(this.stack.undo.push({delta:i,range:s}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){wf(this.stack.undo,e),wf(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,I.sources.USER);else{const n=Gx(this.quill.scroll,e.delta);this.quill.setSelection(n,I.sources.USER)}}}_(vf,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function wf(r,t){let e=t;for(let n=r.length-1;n>=0;n-=1){const i=r[n];r[n]={delta:e.transform(i.delta,!0),range:i.range&&jl(i.range,e)},e=i.delta.transform(e),r[n].delta.length()===0&&r.splice(n,1)}}function Wx(r,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>r.query(n,P.BLOCK)!=null):!1}function Gx(r,t){const e=t.reduce((i,s)=>i+(s.delete||0),0);let n=t.length()-e;return Wx(r,t)&&(n-=1),n}function jl(r,t){if(!r)return r;const e=t.transformPosition(r.index),n=t.transformPosition(r.index+r.length);return{index:e,length:n-e}}class xf extends xe{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var a;n.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(n.clientX,n.clientY);i=document.createRange(),i.setStart(o.offsetNode,o.offset),i.setEnd(o.offsetNode,o.offset)}const s=i&&t.selection.normalizeNative(i);if(s){const o=t.selection.normalizedToRange(s);(a=n.dataTransfer)!=null&&a.files&&this.upload(o,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(i=>{var s;i&&((s=this.options.mimetypes)!=null&&s.includes(i.type))&&n.push(i)}),n.length>0&&this.options.handler.call(this,t,n)}}xf.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,t){if(!this.quill.scroll.query("image"))return;const e=t.map(n=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(n)}));Promise.all(e).then(n=>{const i=n.reduce((s,a)=>s.insert({image:a}),new B().retain(r.index).delete(r.length));this.quill.updateContents(i,z.sources.USER),this.quill.setSelection(r.index+n.length,z.sources.SILENT)})}};const Kx=["insertText","insertReplacementText"];class Qx extends xe{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(I.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Bl({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new B().retain(t.index).insert(e,n),I.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,I.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!Kx.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=Xx(t);if(n==null)return;const i=this.quill.selection.normalizeNative(e),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function Xx(r){var t;return typeof r.data=="string"?r.data:(t=r.dataTransfer)!=null&&t.types.includes("text/plain")?r.dataTransfer.getData("text/plain"):null}const Zx=/Mac/i.test(navigator.platform),Jx=100,tk=r=>!!(r.key==="ArrowLeft"||r.key==="ArrowRight"||r.key==="ArrowUp"||r.key==="ArrowDown"||r.key==="Home"||Zx&&r.key==="a"&&r.ctrlKey===!0);class ek extends xe{constructor(e,n){super(e,n);_(this,"isListening",!1);_(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:i,event:s}=n;if(!(i instanceof ye)||!i.uiNode)return!0;const a=getComputedStyle(i.domNode).direction==="rtl";return a&&s.key!=="ArrowRight"||!a&&s.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(s.shiftKey?1:0),I.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&tk(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Jx,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const i=this.quill.scroll.find(n.startContainer);if(!(i instanceof ye)||!i.uiNode)return;const s=document.createRange();s.setStartAfter(i.uiNode),s.setEndAfter(i.uiNode),e.removeAllRanges(),e.addRange(s)}}I.register({"blots/block":Ct,"blots/block/embed":ne,"blots/break":ve,"blots/container":nr,"blots/cursor":Rr,"blots/embed":Dl,"blots/inline":He,"blots/scroll":$r,"blots/text":we,"modules/clipboard":mf,"modules/history":vf,"modules/keyboard":ua,"modules/uploader":xf,"modules/input":Qx,"modules/uiNode":ek});class nk extends be{add(t,e){let n=0;if(e==="+1"||e==="-1"){const i=this.value(t)||0;n=e==="+1"?i+1:i-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const rk=new nk("indent","ql-indent",{scope:P.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Fl extends Ct{}_(Fl,"blotName","blockquote"),_(Fl,"tagName","blockquote");class Hl extends Ct{static formats(t){return this.tagName.indexOf(t.tagName)+1}}_(Hl,"blotName","header"),_(Hl,"tagName",["H1","H2","H3","H4","H5","H6"]);class Di extends nr{}Di.blotName="list-container",Di.tagName="OL";class Ii extends Ct{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){I.register(Di)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),i=s=>{if(!t.isEnabled())return;const a=this.statics.formats(e,t);a==="checked"?(this.format("list","unchecked"),s.preventDefault()):a==="unchecked"&&(this.format("list","checked"),s.preventDefault())};n.addEventListener("mousedown",i),n.addEventListener("touchstart",i),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Ii.blotName="list",Ii.tagName="LI",Di.allowedChildren=[Ii],Ii.requiredContainer=Di;class Oi extends He{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}_(Oi,"blotName","bold"),_(Oi,"tagName",["STRONG","B"]);class Ul extends Oi{}_(Ul,"blotName","italic"),_(Ul,"tagName",["EM","I"]);class Nn extends He{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return kf(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}_(Nn,"blotName","link"),_(Nn,"tagName","A"),_(Nn,"SANITIZED_URL","about:blank"),_(Nn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function kf(r,t){const e=document.createElement("a");e.href=r;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class Vl extends He{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}_(Vl,"blotName","script"),_(Vl,"tagName",["SUB","SUP"]);class Yl extends Oi{}_(Yl,"blotName","strike"),_(Yl,"tagName",["S","STRIKE"]);class Wl extends He{}_(Wl,"blotName","underline"),_(Wl,"tagName","U");class fa extends Dl{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}_(fa,"blotName","formula"),_(fa,"className","ql-formula"),_(fa,"tagName","SPAN");const Sf=["alt","height","width"];let ik=(eo=class extends Kt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Sf.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return kf(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Sf.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}},_(eo,"blotName","image"),_(eo,"tagName","IMG"),eo);const Af=["height","width"];class pa extends ne{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Af.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Nn.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Af.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}_(pa,"blotName","video"),_(pa,"className","ql-video"),_(pa,"tagName","IFRAME");const Ni=new be("code-token","hljs",{scope:P.INLINE});class dn extends He{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Ot.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),Ni.add(this.domNode,n)}format(t,e){t!==dn.blotName?super.format(t,e):e?Ni.add(this.domNode,e):(Ni.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ni.value(this.domNode)||this.unwrap()}}dn.blotName="code-token",dn.className="ql-token";class ie extends Ot{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),dn.blotName,!1),super.replaceWith(t,e)}}class Mi extends rr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===ie.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,i){n===ie.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,i)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,s=ie.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const a=this.children.reduce((l,c)=>l.concat(Hh(c,!1)),new B),o=t(i,s);a.diff(o).reduce((l,c)=>{let{retain:u,attributes:h}=c;return u?(h&&Object.keys(h).forEach(f=>{[ie.blotName,dn.blotName].includes(f)&&this.formatAt(l,u,f,h[f])}),l+u):l},0)}this.cachedText=i,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?ie.formats(n.domNode):"plain"}">
${aa(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=ie.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Mi.allowedChildren=[ie],ie.requiredContainer=Mi,ie.allowedChildren=[dn,Rr,we,ve];const sk=(r,t,e)=>{if(typeof r.versionString=="string"){const n=r.versionString.split(".")[0];if(parseInt(n,10)>=11)return r.highlight(e,{language:t}).value}return r.highlight(t,e).value};class Ef extends xe{static register(){I.register(dn,!0),I.register(ie,!0),I.register(Mi,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,i)=>{let{key:s}=i;return n[s]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(I.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof Mi))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:i,label:s}=n;const a=e.ownerDocument.createElement("option");a.textContent=s,a.setAttribute("value",i),e.appendChild(a)}),e.addEventListener("change",()=>{t.format(ie.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=ie.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(I.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(I.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(Mi):[t]).forEach(s=>{s.highlight(this.highlightBlot,e)}),this.quill.update(I.sources.SILENT),n!=null&&this.quill.setSelection(n,I.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return aa(t).split(`
`).reduce((i,s,a)=>(a!==0&&i.insert(`
`,{[Ot.blotName]:e}),i.insert(s)),new B);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Ot.className),n.innerHTML=sk(this.options.hljs,e,t),Pl(this.quill.scroll,n,[(i,s)=>{const a=Ni.value(i);return a?s.compose(new B().retain(s.length(),{[dn.blotName]:a})):s}],[(i,s)=>i.data.split(`
`).reduce((a,o,l)=>(l!==0&&a.insert(`
`,{[Ot.blotName]:e}),a.insert(o)),s)],new WeakMap)}}Ef.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ns=class ns extends Ct{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Gl()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===ns.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};_(ns,"blotName","table"),_(ns,"tagName","TD");let Se=ns;class hn extends nr{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),i=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===i.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),i=e.next.formats();if(n.table!==i.table){const s=this.splitAfter(e);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}_(hn,"blotName","table-row"),_(hn,"tagName","TR");class Ue extends nr{}_(Ue,"blotName","table-body"),_(Ue,"tagName","TBODY");class jr extends nr{balanceCells(){const t=this.descendants(hn),e=t.reduce((n,i)=>Math.max(i.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let i;n.children.head!=null&&(i=Se.formats(n.children.head.domNode));const s=this.scroll.create(Se.blotName,i);n.appendChild(s),s.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(Ue);e==null||e.children.head==null||e.children.forEach(n=>{const i=n.children.at(t);i!=null&&i.remove()})}insertColumn(t){const[e]=this.descendant(Ue);e==null||e.children.head==null||e.children.forEach(n=>{const i=n.children.at(t),s=Se.formats(n.children.head.domNode),a=this.scroll.create(Se.blotName,s);n.insertBefore(a,i)})}insertRow(t){const[e]=this.descendant(Ue);if(e==null||e.children.head==null)return;const n=Gl(),i=this.scroll.create(hn.blotName);e.children.head.children.forEach(()=>{const a=this.scroll.create(Se.blotName,n);i.appendChild(a)});const s=e.children.at(t);e.insertBefore(i,s)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}_(jr,"blotName","table-container"),_(jr,"tagName","TABLE"),jr.allowedChildren=[Ue],Ue.requiredContainer=jr,Ue.allowedChildren=[hn],hn.requiredContainer=Ue,hn.allowedChildren=[Se],Se.requiredContainer=hn;function Gl(){return`row-${Math.random().toString(36).slice(2,6)}`}class ak extends xe{static register(){I.register(Se),I.register(hn),I.register(Ue),I.register(jr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(jr).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(I.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(I.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(I.sources.USER),this.quill.setSelection(e,I.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Se.blotName)return[null,null,null,-1];const i=e.parent;return[i.parent.parent,i,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,i,s]=this.getTable(e);if(s==null)return;const a=s.cellOffset();n.insertColumn(a+t),this.quill.update(I.sources.USER);let o=i.rowOffset();t===0&&(o+=1),this.quill.setSelection(e.index+o,e.length,I.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,i,s]=this.getTable(e);if(s==null)return;const a=i.rowOffset();n.insertRow(a+t),this.quill.update(I.sources.USER),t>0?this.quill.setSelection(e,I.sources.SILENT):this.quill.setSelection(e.index+i.children.length,e.length,I.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const i=new Array(t).fill(0).reduce(s=>{const a=new Array(e).fill(`
`).join("");return s.insert(a,{table:Gl()})},new B().retain(n.index));this.quill.updateContents(i,I.sources.USER),this.quill.setSelection(n.index,I.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(I.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(I.events.TEXT_CHANGE,(n,i,s)=>{s===I.sources.USER&&this.balanceTables()}),!0):!1)})}}const Cf=cn("quill:toolbar");class Kl extends xe{constructor(t,e){var n,i;if(super(t,e),Array.isArray(this.options.container)){const s=document.createElement("div");s.setAttribute("role","toolbar"),ok(s,this.options.container),(i=(n=t.container)==null?void 0:n.parentNode)==null||i.insertBefore(s,t.container),this.container=s}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Cf.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(s=>{var o;const a=(o=this.options.handlers)==null?void 0:o[s];a&&this.addHandler(s,a)}),Array.from(this.container.querySelectorAll("button, select")).forEach(s=>{this.attach(s)}),this.quill.on(I.events.EDITOR_CHANGE,()=>{const[s]=this.quill.selection.getRange();this.update(s)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(i=>i.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){Cf.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,i=>{let s;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const o=t.options[t.selectedIndex];o.hasAttribute("selected")?s=!1:s=o.value||!1}else t.classList.contains("ql-active")?s=!1:s=t.value||!t.hasAttribute("value"),i.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,s);else if(this.quill.scroll.query(e).prototype instanceof Kt){if(s=prompt(`Enter ${e}`),!s)return;this.quill.updateContents(new B().retain(a.index).delete(a.length).insert({[e]:s}),I.sources.USER)}else this.quill.format(e,s,I.sources.USER);this.update(a)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[i,s]=n;if(s.tagName==="SELECT"){let a=null;if(t==null)a=null;else if(e[i]==null)a=s.querySelector("option[selected]");else if(!Array.isArray(e[i])){let o=e[i];typeof o=="string"&&(o=o.replace(/"/g,'\\"')),a=s.querySelector(`option[value="${o}"]`)}a==null?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(t==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const a=e[i],o=a===s.getAttribute("value")||a!=null&&a.toString()===s.getAttribute("value")||a==null&&!s.getAttribute("value");s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}else{const a=e[i]!=null;s.classList.toggle("ql-active",a),s.setAttribute("aria-pressed",a.toString())}})}}Kl.DEFAULTS={};function Tf(r,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),r.appendChild(n)}function ok(r,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(i=>{if(typeof i=="string")Tf(n,i);else{const s=Object.keys(i)[0],a=i[s];Array.isArray(a)?lk(n,s,a):Tf(n,s,a)}}),r.appendChild(n)})}function lk(r,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),n.appendChild(s)}),r.appendChild(n)}Kl.DEFAULTS={container:null,handlers:{clean(){const r=this.quill.getSelection();if(r!=null)if(r.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,P.INLINE)!=null&&this.quill.format(e,!1,I.sources.USER)})}else this.quill.removeFormat(r.index,r.length,I.sources.USER)},direction(r){const{align:t}=this.quill.getFormat();r==="rtl"&&t==null?this.quill.format("align","right",I.sources.USER):!r&&t==="right"&&this.quill.format("align",!1,I.sources.USER),this.quill.format("direction",r,I.sources.USER)},indent(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(r==="+1"||r==="-1"){let i=r==="+1"?1:-1;e.direction==="rtl"&&(i*=-1),this.quill.format("indent",n+i,I.sources.USER)}},link(r){r===!0&&(r=prompt("Enter link URL:")),this.quill.format("link",r,I.sources.USER)},list(r){const t=this.quill.getSelection(),e=this.quill.getFormat(t);r==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,I.sources.USER):this.quill.format("list","unchecked",I.sources.USER):this.quill.format("list",r,I.sources.USER)}}};const ck='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',uk='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',dk='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',hk='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',fk='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',pk='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',gk='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',mk='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Lf='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',qi={align:{"":ck,center:uk,right:dk,justify:hk},background:fk,blockquote:pk,bold:gk,clean:mk,code:Lf,"code-block":Lf,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'},bk='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Df=0;function If(r,t){r.setAttribute(t,`${r.getAttribute(t)!=="true"}`)}class ga{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),If(this.label,"aria-expanded"),If(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(e,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=bk,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Df}`,Df+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Of extends ga{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),i=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=i:n.style.fill=i)}}class Nf extends ga{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const yk=r=>{const{overflowY:t}=getComputedStyle(r,null);return t!=="visible"&&t!=="clip"};class Mf{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,yk(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let a=0;if(s.right>i.right&&(a=i.right-s.right,this.root.style.left=`${e+a}px`),s.left<i.left&&(a=i.left-s.left,this.root.style.left=`${e+a}px`),s.bottom>i.bottom){const o=s.bottom-s.top,l=t.bottom-t.top+o;this.root.style.top=`${n-l}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const vk=[!1,"center","right","justify"],wk=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],xk=[!1,"serif","monospace"],kk=["1","2","3",!1],Sk=["small",!1,"large","huge"];class _i extends Br{constructor(t,e){super(t,e);const n=i=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),e[s]!=null))if(s==="direction")n.innerHTML=e[s][""]+e[s].rtl;else if(typeof e[s]=="string")n.innerHTML=e[s];else{const a=n.value||"";a!=null&&e[s][a]&&(n.innerHTML=e[s][a])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Ri(i,vk),typeof e.align=="object"))return new Nf(i,e.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Ri(i,wk,s==="background"?"#ffffff":"#000000"),new Of(i,e[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Ri(i,xk):i.classList.contains("ql-header")?Ri(i,kk):i.classList.contains("ql-size")&&Ri(i,Sk)),new ga(i)});const n=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(z.events.EDITOR_CHANGE,n)}}_i.DEFAULTS=Ln({},Br.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let r=this.container.querySelector("input.ql-image[type=file]");r==null&&(r=document.createElement("input"),r.setAttribute("type","file"),r.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),r.classList.add("ql-image"),r.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,r.files),r.value=""}),this.container.appendChild(r)),r.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class qf extends Mf{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,z.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,z.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=Ak(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,z.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",z.sources.USER),this.quill.setSelection(n+2,z.sources.USER)}break}}this.textbox.value="",this.hide()}}function Ak(r){let t=r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||r.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=r.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:r}function Ri(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const i=document.createElement("option");n===e?i.setAttribute("selected","selected"):i.setAttribute("value",String(n)),r.appendChild(i)})}const Ek=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class _f extends qf{constructor(t,e){super(t,e),this.quill.on(z.events.EDITOR_CHANGE,(n,i,s,a)=>{if(n===z.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&a===z.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const o=this.quill.getLines(i.index,i.length);if(o.length===1){const l=this.quill.getBounds(i);l!=null&&this.position(l)}else{const l=o[o.length-1],c=this.quill.getIndex(l),u=Math.min(l.length()-1,i.index+i.length-c),h=this.quill.getBounds(new er(c,u));h!=null&&this.position(h)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(z.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}_(_f,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Rf extends _i{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Ek),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new _f(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),qi),this.buildPickers(t.container.querySelectorAll("select"),qi))}}Rf.DEFAULTS=Ln({},_i.DEFAULTS,{modules:{toolbar:{handlers:{link(r){r?this.quill.theme.tooltip.edit():this.quill.format("link",!1,I.sources.USER)}}}}});const Ck=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class zf extends qf{constructor(){super(...arguments);_(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,z.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(z.events.SELECTION_CHANGE,(e,n,i)=>{if(e!=null){if(e.length===0&&i===z.sources.USER){const[s,a]=this.quill.scroll.descendant(Nn,e.index);if(s!=null){this.linkRange=new er(e.index-a,s.length());const o=Nn.formats(s.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}_(zf,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Bf extends _i{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=Ck),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),qi),this.buildPickers(t.container.querySelectorAll("select"),qi),this.tooltip=new zf(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}Bf.DEFAULTS=Ln({},_i.DEFAULTS,{modules:{toolbar:{handlers:{link(r){if(r){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1,I.sources.USER)}}}}}),I.register({"attributors/attribute/direction":rf,"attributors/class/align":tf,"attributors/class/background":fx,"attributors/class/color":hx,"attributors/class/direction":sf,"attributors/class/font":lf,"attributors/class/size":uf,"attributors/style/align":ef,"attributors/style/background":ql,"attributors/style/color":Ml,"attributors/style/direction":af,"attributors/style/font":cf,"attributors/style/size":df},!0),I.register({"formats/align":tf,"formats/direction":sf,"formats/indent":rk,"formats/background":ql,"formats/color":Ml,"formats/font":lf,"formats/size":uf,"formats/blockquote":Fl,"formats/code-block":Ot,"formats/header":Hl,"formats/list":Ii,"formats/bold":Oi,"formats/code":_l,"formats/italic":Ul,"formats/link":Nn,"formats/script":Vl,"formats/strike":Yl,"formats/underline":Wl,"formats/formula":fa,"formats/image":ik,"formats/video":pa,"modules/syntax":Ef,"modules/table":ak,"modules/toolbar":Kl,"themes/bubble":Rf,"themes/snow":Bf,"ui/icons":qi,"ui/picker":ga,"ui/icon-picker":Nf,"ui/color-picker":Of,"ui/tooltip":Mf},!0);const cu=class cu{static isRTL(){var e;if(this.cachedDirection!==null)return this.cachedDirection==="rtl";const t=[document.documentElement.getAttribute("dir"),this.getDirectionFromLanguage(document.documentElement.getAttribute("lang")),(e=document.body)==null?void 0:e.getAttribute("dir"),window.getComputedStyle(document.documentElement).direction];for(const n of t){if(n==="rtl")return this.cachedDirection="rtl",!0;if(n==="ltr")return this.cachedDirection="ltr",!1}return this.cachedDirection="ltr",!1}static getDirectionFromLanguage(t){if(!t)return null;const e=["ar","he","fa","ur","ps","sd","ug","yi","arc","ckb","dv","ha","ji","ku","ks","ms","nqo","pnb","prs","ug","uz"],n=t.toLowerCase().split("-")[0];return e.includes(n)?"rtl":"ltr"}static clearCache(){this.cachedDirection=null}static transformDirectionalClasses(t){if(!this.isRTL())return t;const e=new Map([["ml-","mr-"],["mr-","ml-"],["ms-","me-"],["me-","ms-"],["pl-","pr-"],["pr-","pl-"],["ps-","pe-"],["pe-","ps-"],["border-l-","border-r-"],["border-r-","border-l-"],["border-s-","border-e-"],["border-e-","border-s-"],["rounded-l-","rounded-r-"],["rounded-r-","rounded-l-"],["rounded-s-","rounded-e-"],["rounded-e-","rounded-s-"],["rounded-tl-","rounded-tr-"],["rounded-tr-","rounded-tl-"],["rounded-bl-","rounded-br-"],["rounded-br-","rounded-bl-"],["rounded-ss-","rounded-se-"],["rounded-se-","rounded-ss-"],["rounded-es-","rounded-ee-"],["rounded-ee-","rounded-es-"],["left-","right-"],["right-","left-"],["start-","end-"],["end-","start-"],["text-left","text-right"],["text-right","text-left"],["justify-start","justify-end"],["justify-end","justify-start"],["items-start","items-end"],["items-end","items-start"],["self-start","self-end"],["self-end","self-start"],["float-left","float-right"],["float-right","float-left"],["clear-left","clear-right"],["clear-right","clear-left"]]);let n=t;for(const[i,s]of e){const a=new RegExp(`\\b${i.replace("-","\\-")}([\\w\\-\\.\\[\\]%\\/]+)?\\b`,"g");new RegExp(`\\b${s.replace("-","\\-")}([\\w\\-\\.\\[\\]%\\/]+)?\\b`,"g"),n=n.replace(a,(o,l)=>s+(l||""))}return n}static getOppositePosition(t){return this.isRTL()?t==="left"?"right":"left":t}static getLogicalPosition(t){return this.isRTL()?t==="left"?"end":"start":t==="left"?"start":"end"}static getPhysicalPosition(t){return this.isRTL()?t==="start"?"right":"left":t==="start"?"left":"right"}static addRTLClasses(t,e){const n=this.transformDirectionalClasses(e);t.classList.add(...n.split(" ").filter(i=>i.trim()))}static removeRTLClasses(t,e){const n=this.transformDirectionalClasses(e);t.classList.remove(...n.split(" ").filter(i=>i.trim()))}static observeDirectionChanges(){const t=new MutationObserver(e=>{for(const n of e)if(n.type==="attributes"&&(n.attributeName==="dir"||n.attributeName==="lang")){this.clearCache(),document.dispatchEvent(new CustomEvent("keys:direction-change",{detail:{isRTL:this.isRTL()}}));break}});t.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]}),t.observe(document.body,{attributes:!0,attributeFilter:["dir","lang"]})}static getDropdownPosition(t,e){let n=t,i=e;return this.isRTL()&&(n==="left"?n="right":n==="right"&&(n="left"),(t==="top"||t==="bottom")&&(e==="start"?i="end":e==="end"&&(i="start"))),{position:n,align:i}}static initialize(){this.isRTL()?(document.documentElement.classList.add("rtl"),document.documentElement.setAttribute("dir","rtl")):(document.documentElement.classList.add("ltr"),document.documentElement.setAttribute("dir","ltr")),this.observeDirectionChanges();const t=document.createElement("style");t.textContent=`
            :root {
                --direction-factor: ${this.isRTL()?"-1":"1"};
                --text-align-start: ${this.isRTL()?"right":"left"};
                --text-align-end: ${this.isRTL()?"left":"right"};
            }
        `,document.head.appendChild(t)}};cu.cachedDirection=null;let ma=cu;var Tk=Object.defineProperty,Lk=Object.defineProperties,Dk=Object.getOwnPropertyDescriptors,Pf=Object.getOwnPropertySymbols,Ik=Object.prototype.hasOwnProperty,Ok=Object.prototype.propertyIsEnumerable,$f=(r,t,e)=>t in r?Tk(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,W=(r,t)=>{for(var e in t||(t={}))Ik.call(t,e)&&$f(r,e,t[e]);if(Pf)for(var e of Pf(t))Ok.call(t,e)&&$f(r,e,t[e]);return r},$t=(r,t)=>Lk(r,Dk(t)),mt=(r,t,e)=>new Promise((n,i)=>{var s=l=>{try{o(e.next(l))}catch(c){i(c)}},a=l=>{try{o(e.throw(l))}catch(c){i(c)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((e=e.apply(r,t)).next())});const Ql=Math.min,Fr=Math.max,ba=Math.round,ya=Math.floor,Mn=r=>({x:r,y:r});function Nk(r,t){return typeof r=="function"?r(t):r}function Mk(r){return W({top:0,right:0,bottom:0,left:0},r)}function qk(r){return typeof r!="number"?Mk(r):{top:r,right:r,bottom:r,left:r}}function va(r){const{x:t,y:e,width:n,height:i}=r;return{width:n,height:i,top:e,left:t,right:t+n,bottom:e+i,x:t,y:e}}function _k(r,t){return mt(this,null,function*(){var e;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=r,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=Nk(t,r),m=qk(p),b=o[f?h==="floating"?"reference":"floating":h],w=va(yield s.getClippingRect({element:(e=yield s.isElement==null?void 0:s.isElement(b))==null||e?b:b.contextElement||(yield s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,k=yield s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating),A=(yield s.isElement==null?void 0:s.isElement(k))?(yield s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},E=va(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:k,strategy:l}):v);return{top:(w.top-E.top+m.top)/A.y,bottom:(E.bottom-w.bottom+m.bottom)/A.y,left:(w.left-E.left+m.left)/A.x,right:(E.right-w.right+m.right)/A.x}})}function Hr(r){return jf(r)?(r.nodeName||"").toLowerCase():"#document"}function Xt(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function fn(r){var t;return(t=(jf(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function jf(r){return r instanceof Node||r instanceof Xt(r).Node}function Ve(r){return r instanceof Element||r instanceof Xt(r).Element}function Ye(r){return r instanceof HTMLElement||r instanceof Xt(r).HTMLElement}function Ff(r){return typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof Xt(r).ShadowRoot}function zi(r){const{overflow:t,overflowX:e,overflowY:n,display:i}=Ae(r);return/auto|scroll|overlay|hidden|clip/.test(t+n+e)&&!["inline","contents"].includes(i)}function Rk(r){return["table","td","th"].includes(Hr(r))}function wa(r){return[":popover-open",":modal"].some(t=>{try{return r.matches(t)}catch{return!1}})}function Xl(r){const t=Zl(),e=Ae(r);return e.transform!=="none"||e.perspective!=="none"||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(e.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(e.contain||"").includes(n))}function zk(r){let t=qn(r);for(;Ye(t)&&!Ur(t);){if(wa(t))return null;if(Xl(t))return t;t=qn(t)}return null}function Zl(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ur(r){return["html","body","#document"].includes(Hr(r))}function Ae(r){return Xt(r).getComputedStyle(r)}function xa(r){return Ve(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function qn(r){if(Hr(r)==="html")return r;const t=r.assignedSlot||r.parentNode||Ff(r)&&r.host||fn(r);return Ff(t)?t.host:t}function Hf(r){const t=qn(r);return Ur(t)?r.ownerDocument?r.ownerDocument.body:r.body:Ye(t)&&zi(t)?t:Hf(t)}function Bi(r,t,e){var n;t===void 0&&(t=[]),e===void 0&&(e=!0);const i=Hf(r),s=i===((n=r.ownerDocument)==null?void 0:n.body),a=Xt(i);return s?t.concat(a,a.visualViewport||[],zi(i)?i:[],a.frameElement&&e?Bi(a.frameElement):[]):t.concat(i,Bi(i,[],e))}function Uf(r){const t=Ae(r);let e=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Ye(r),s=i?r.offsetWidth:e,a=i?r.offsetHeight:n,o=ba(e)!==s||ba(n)!==a;return o&&(e=s,n=a),{width:e,height:n,$:o}}function Jl(r){return Ve(r)?r:r.contextElement}function Vr(r){const t=Jl(r);if(!Ye(t))return Mn(1);const e=t.getBoundingClientRect(),{width:n,height:i,$:s}=Uf(t);let a=(s?ba(e.width):e.width)/n,o=(s?ba(e.height):e.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Bk=Mn(0);function Vf(r){const t=Xt(r);return!Zl()||!t.visualViewport?Bk:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pk(r,t,e){return t===void 0&&(t=!1),!e||t&&e!==Xt(r)?!1:t}function sr(r,t,e,n){t===void 0&&(t=!1),e===void 0&&(e=!1);const i=r.getBoundingClientRect(),s=Jl(r);let a=Mn(1);t&&(n?Ve(n)&&(a=Vr(n)):a=Vr(r));const o=Pk(s,e,n)?Vf(s):Mn(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(s){const f=Xt(s),p=n&&Ve(n)?Xt(n):n;let m=f,b=m.frameElement;for(;b&&n&&p!==m;){const w=Vr(b),v=b.getBoundingClientRect(),k=Ae(b),A=v.left+(b.clientLeft+parseFloat(k.paddingLeft))*w.x,E=v.top+(b.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,u*=w.x,h*=w.y,l+=A,c+=E,m=Xt(b),b=m.frameElement}}return va({width:u,height:h,x:l,y:c})}function $k(r){let{elements:t,rect:e,offsetParent:n,strategy:i}=r;const s=i==="fixed",a=fn(n),o=t?wa(t.floating):!1;if(n===a||o&&s)return e;let l={scrollLeft:0,scrollTop:0},c=Mn(1);const u=Mn(0),h=Ye(n);if((h||!h&&!s)&&((Hr(n)!=="body"||zi(a))&&(l=xa(n)),Ye(n))){const f=sr(n);c=Vr(n),u.x=f.x+n.clientLeft,u.y=f.y+n.clientTop}return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-l.scrollLeft*c.x+u.x,y:e.y*c.y-l.scrollTop*c.y+u.y}}function jk(r){return Array.from(r.getClientRects())}function Yf(r){return sr(fn(r)).left+xa(r).scrollLeft}function Fk(r){const t=fn(r),e=xa(r),n=r.ownerDocument.body,i=Fr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Fr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-e.scrollLeft+Yf(r);const o=-e.scrollTop;return Ae(n).direction==="rtl"&&(a+=Fr(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Hk(r,t){const e=Xt(r),n=fn(r),i=e.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=Zl();(!c||c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function Uk(r,t){const e=sr(r,!0,t==="fixed"),n=e.top+r.clientTop,i=e.left+r.clientLeft,s=Ye(r)?Vr(r):Mn(1),a=r.clientWidth*s.x,o=r.clientHeight*s.y,l=i*s.x,c=n*s.y;return{width:a,height:o,x:l,y:c}}function Wf(r,t,e){let n;if(t==="viewport")n=Hk(r,e);else if(t==="document")n=Fk(fn(r));else if(Ve(t))n=Uk(t,e);else{const i=Vf(r);n=$t(W({},t),{x:t.x-i.x,y:t.y-i.y})}return va(n)}function Gf(r,t){const e=qn(r);return e===t||!Ve(e)||Ur(e)?!1:Ae(e).position==="fixed"||Gf(e,t)}function Vk(r,t){const e=t.get(r);if(e)return e;let n=Bi(r,[],!1).filter(o=>Ve(o)&&Hr(o)!=="body"),i=null;const s=Ae(r).position==="fixed";let a=s?qn(r):r;for(;Ve(a)&&!Ur(a);){const o=Ae(a),l=Xl(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&i&&["absolute","fixed"].includes(i.position)||zi(a)&&!l&&Gf(r,a))?n=n.filter(c=>c!==a):i=o,a=qn(a)}return t.set(r,n),n}function Yk(r){let{element:t,boundary:e,rootBoundary:n,strategy:i}=r;const s=[...e==="clippingAncestors"?wa(t)?[]:Vk(t,this._c):[].concat(e),n],a=s[0],o=s.reduce((l,c)=>{const u=Wf(t,c,i);return l.top=Fr(u.top,l.top),l.right=Ql(u.right,l.right),l.bottom=Ql(u.bottom,l.bottom),l.left=Fr(u.left,l.left),l},Wf(t,a,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function Wk(r){const{width:t,height:e}=Uf(r);return{width:t,height:e}}function Gk(r,t,e){const n=Ye(t),i=fn(t),s=e==="fixed",a=sr(r,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=Mn(0);if(n||!n&&!s)if((Hr(t)!=="body"||zi(i))&&(o=xa(t)),n){const h=sr(t,!0,s,t);l.x=h.x+t.clientLeft,l.y=h.y+t.clientTop}else i&&(l.x=Yf(i));const c=a.left+o.scrollLeft-l.x,u=a.top+o.scrollTop-l.y;return{x:c,y:u,width:a.width,height:a.height}}function tc(r){return Ae(r).position==="static"}function Kf(r,t){return!Ye(r)||Ae(r).position==="fixed"?null:t?t(r):r.offsetParent}function Qf(r,t){const e=Xt(r);if(wa(r))return e;if(!Ye(r)){let i=qn(r);for(;i&&!Ur(i);){if(Ve(i)&&!tc(i))return i;i=qn(i)}return e}let n=Kf(r,t);for(;n&&Rk(n)&&tc(n);)n=Kf(n,t);return n&&Ur(n)&&tc(n)&&!Xl(n)?e:n||zk(r)||e}const Kk=function(r){return mt(this,null,function*(){const t=this.getOffsetParent||Qf,e=this.getDimensions,n=yield e(r.floating);return{reference:Gk(r.reference,yield t(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}})};function Qk(r){return Ae(r).direction==="rtl"}const se={convertOffsetParentRelativeRectToViewportRelativeRect:$k,getDocumentElement:fn,getClippingRect:Yk,getOffsetParent:Qf,getElementRects:Kk,getClientRects:jk,getDimensions:Wk,getScale:Vr,isElement:Ve,isRTL:Qk};function Xk(r,t){let e=null,n;const i=fn(r);function s(){var o;clearTimeout(n),(o=e)==null||o.disconnect(),e=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:h,height:f}=r.getBoundingClientRect();if(o||t(),!h||!f)return;const p=ya(u),m=ya(i.clientWidth-(c+h)),b=ya(i.clientHeight-(u+f)),w=ya(c),v={rootMargin:-p+"px "+-m+"px "+-b+"px "+-w+"px",threshold:Fr(0,Ql(1,l))||1};let k=!0;function A(E){const T=E[0].intersectionRatio;if(T!==l){if(!k)return a();T?a(!1,T):n=setTimeout(()=>{a(!1,1e-7)},1e3)}k=!1}try{e=new IntersectionObserver(A,$t(W({},v),{root:i.ownerDocument}))}catch{e=new IntersectionObserver(A,v)}e.observe(r)}return a(!0),s}function Xf(r,t,e,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Jl(r),u=i||s?[...c?Bi(c):[],...Bi(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",e,{passive:!0}),s&&v.addEventListener("resize",e)});const h=c&&o?Xk(c,e):null;let f=-1,p=null;a&&(p=new ResizeObserver(v=>{let[k]=v;k&&k.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(t)})),e()}),c&&!l&&p.observe(c),p.observe(t));let m,b=l?sr(r):null;l&&w();function w(){const v=sr(r);b&&(v.x!==b.x||v.y!==b.y||v.width!==b.width||v.height!==b.height)&&e(),b=v,m=requestAnimationFrame(w)}return e(),()=>{var v;u.forEach(k=>{i&&k.removeEventListener("scroll",e),s&&k.removeEventListener("resize",e)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,l&&cancelAnimationFrame(m)}}const Zk=_k,ec=0,R=1,Q=2,bt=3,lt=4,We=5,ka=6,Nt=7,Ht=8,X=9,H=10,ft=11,K=12,pt=13,Pi=14,Ut=15,Mt=16,Vt=17,Ge=18,Zt=19,Ee=20,xt=21,rt=22,qt=23,ae=24,jt=25,Jk=0;function Et(r){return r>=48&&r<=57}function _n(r){return Et(r)||r>=65&&r<=70||r>=97&&r<=102}function nc(r){return r>=65&&r<=90}function tS(r){return r>=97&&r<=122}function eS(r){return nc(r)||tS(r)}function nS(r){return r>=128}function Sa(r){return eS(r)||nS(r)||r===95}function Zf(r){return Sa(r)||Et(r)||r===45}function rS(r){return r>=0&&r<=8||r===11||r>=14&&r<=31||r===127}function Aa(r){return r===10||r===13||r===12}function ar(r){return Aa(r)||r===32||r===9}function Ke(r,t){return!(r!==92||Aa(t)||t===Jk)}function Ea(r,t,e){return r===45?Sa(t)||t===45||Ke(t,e):Sa(r)?!0:r===92?Ke(r,t):!1}function rc(r,t,e){return r===43||r===45?Et(t)?2:t===46&&Et(e)?3:0:r===46?Et(t)?2:0:Et(r)?1:0}function Jf(r){return r===65279||r===65534?1:0}const ic=new Array(128),iS=128,Ca=130,tp=131,sc=132,ep=133;for(let r=0;r<ic.length;r++)ic[r]=ar(r)&&Ca||Et(r)&&tp||Sa(r)&&sc||rS(r)&&ep||r||iS;function ac(r){return r<128?ic[r]:sc}function Yr(r,t){return t<r.length?r.charCodeAt(t):0}function oc(r,t,e){return e===13&&Yr(r,t+1)===10?2:1}function Wr(r,t,e){let n=r.charCodeAt(t);return nc(n)&&(n=n|32),n===e}function $i(r,t,e,n){if(e-t!==n.length||t<0||e>r.length)return!1;for(let i=t;i<e;i++){const s=n.charCodeAt(i-t);let a=r.charCodeAt(i);if(nc(a)&&(a=a|32),a!==s)return!1}return!0}function sS(r,t){for(;t>=0&&ar(r.charCodeAt(t));t--);return t+1}function Ta(r,t){for(;t<r.length&&ar(r.charCodeAt(t));t++);return t}function lc(r,t){for(;t<r.length&&Et(r.charCodeAt(t));t++);return t}function Gr(r,t){if(t+=2,_n(Yr(r,t-1))){for(const n=Math.min(r.length,t+5);t<n&&_n(Yr(r,t));t++);const e=Yr(r,t);ar(e)&&(t+=oc(r,t,e))}return t}function La(r,t){for(;t<r.length;t++){const e=r.charCodeAt(t);if(!Zf(e)){if(Ke(e,Yr(r,t+1))){t=Gr(r,t)-1;continue}break}}return t}function Da(r,t){let e=r.charCodeAt(t);if((e===43||e===45)&&(e=r.charCodeAt(t+=1)),Et(e)&&(t=lc(r,t+1),e=r.charCodeAt(t)),e===46&&Et(r.charCodeAt(t+1))&&(t+=2,t=lc(r,t)),Wr(r,t,101)){let n=0;e=r.charCodeAt(t+1),(e===45||e===43)&&(n=1,e=r.charCodeAt(t+2)),Et(e)&&(t=lc(r,t+1+n+1))}return t}function cc(r,t){for(;t<r.length;t++){const e=r.charCodeAt(t);if(e===41){t++;break}Ke(e,Yr(r,t+1))&&(t=Gr(r,t))}return t}function np(r){if(r.length===1&&!_n(r.charCodeAt(0)))return r[0];let t=parseInt(r,16);return(t===0||t>=55296&&t<=57343||t>1114111)&&(t=65533),String.fromCodePoint(t)}const rp=["EOF-token","ident-token","function-token","at-keyword-token","hash-token","string-token","bad-string-token","url-token","bad-url-token","delim-token","number-token","percentage-token","dimension-token","whitespace-token","CDO-token","CDC-token","colon-token","semicolon-token","comma-token","[-token","]-token","(-token",")-token","{-token","}-token"],aS=16*1024;function Ia(r=null,t){return r===null||r.length<t?new Uint32Array(Math.max(t+1024,aS)):r}const ip=10,oS=12,sp=13;function ap(r){const t=r.source,e=t.length,n=t.length>0?Jf(t.charCodeAt(0)):0,i=Ia(r.lines,e),s=Ia(r.columns,e);let a=r.startLine,o=r.startColumn;for(let l=n;l<e;l++){const c=t.charCodeAt(l);i[l]=a,s[l]=o++,(c===ip||c===sp||c===oS)&&(c===sp&&l+1<e&&t.charCodeAt(l+1)===ip&&(l++,i[l]=a,s[l]=o),a++,o=1)}i[e]=a,s[e]=o,r.lines=i,r.columns=s,r.computed=!0}class lS{constructor(){this.lines=null,this.columns=null,this.computed=!1}setSource(t,e=0,n=1,i=1){this.source=t,this.startOffset=e,this.startLine=n,this.startColumn=i,this.computed=!1}getLocation(t,e){return this.computed||ap(this),{source:e,offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]}}getLocationRange(t,e,n){return this.computed||ap(this),{source:n,start:{offset:this.startOffset+t,line:this.lines[t],column:this.columns[t]},end:{offset:this.startOffset+e,line:this.lines[e],column:this.columns[e]}}}}const oe=16777215,Rn=24,cS=new Map([[Q,rt],[xt,rt],[Zt,Ee],[qt,ae]]);class uS{constructor(t,e){this.setSource(t,e)}reset(){this.eof=!1,this.tokenIndex=-1,this.tokenType=0,this.tokenStart=this.firstCharOffset,this.tokenEnd=this.firstCharOffset}setSource(t="",e=()=>{}){t=String(t||"");const n=t.length,i=Ia(this.offsetAndType,t.length+1),s=Ia(this.balance,t.length+1);let a=0,o=0,l=0,c=-1;for(this.offsetAndType=null,this.balance=null,e(t,(u,h,f)=>{switch(u){default:s[a]=n;break;case o:{let p=l&oe;for(l=s[p],o=l>>Rn,s[a]=p,s[p++]=a;p<a;p++)s[p]===n&&(s[p]=a);break}case xt:case Q:case Zt:case qt:s[a]=l,o=cS.get(u),l=o<<Rn|a;break}i[a++]=u<<Rn|f,c===-1&&(c=h)}),i[a]=ec<<Rn|n,s[a]=n,s[n]=n;l!==0;){const u=l&oe;l=s[u],s[u]=n}this.source=t,this.firstCharOffset=c===-1?0:c,this.tokenCount=a,this.offsetAndType=i,this.balance=s,this.reset(),this.next()}lookupType(t){return t+=this.tokenIndex,t<this.tokenCount?this.offsetAndType[t]>>Rn:ec}lookupOffset(t){return t+=this.tokenIndex,t<this.tokenCount?this.offsetAndType[t-1]&oe:this.source.length}lookupValue(t,e){return t+=this.tokenIndex,t<this.tokenCount?$i(this.source,this.offsetAndType[t-1]&oe,this.offsetAndType[t]&oe,e):!1}getTokenStart(t){return t===this.tokenIndex?this.tokenStart:t>0?t<this.tokenCount?this.offsetAndType[t-1]&oe:this.offsetAndType[this.tokenCount]&oe:this.firstCharOffset}substrToCursor(t){return this.source.substring(t,this.tokenStart)}isBalanceEdge(t){return this.balance[this.tokenIndex]<t}isDelim(t,e){return e?this.lookupType(e)===X&&this.source.charCodeAt(this.lookupOffset(e))===t:this.tokenType===X&&this.source.charCodeAt(this.tokenStart)===t}skip(t){let e=this.tokenIndex+t;e<this.tokenCount?(this.tokenIndex=e,this.tokenStart=this.offsetAndType[e-1]&oe,e=this.offsetAndType[e],this.tokenType=e>>Rn,this.tokenEnd=e&oe):(this.tokenIndex=this.tokenCount,this.next())}next(){let t=this.tokenIndex+1;t<this.tokenCount?(this.tokenIndex=t,this.tokenStart=this.tokenEnd,t=this.offsetAndType[t],this.tokenType=t>>Rn,this.tokenEnd=t&oe):(this.eof=!0,this.tokenIndex=this.tokenCount,this.tokenType=ec,this.tokenStart=this.tokenEnd=this.source.length)}skipSC(){for(;this.tokenType===pt||this.tokenType===jt;)this.next()}skipUntilBalanced(t,e){let n=t,i,s;t:for(;n<this.tokenCount;n++){if(i=this.balance[n],i<t)break t;switch(s=n>0?this.offsetAndType[n-1]&oe:this.firstCharOffset,e(this.source.charCodeAt(s))){case 1:break t;case 2:n++;break t;default:this.balance[i]===n&&(n=i)}}this.skip(n-this.tokenIndex)}forEachToken(t){for(let e=0,n=this.firstCharOffset;e<this.tokenCount;e++){const i=n,s=this.offsetAndType[e],a=s&oe,o=s>>Rn;n=a,t(o,i,a,e)}}dump(){const t=new Array(this.tokenCount);return this.forEachToken((e,n,i,s)=>{t[s]={idx:s,type:rp[e],chunk:this.source.substring(n,i),balance:this.balance[s]}}),t}}function Oa(r,t){function e(h){return h<o?r.charCodeAt(h):0}function n(){if(c=Da(r,c),Ea(e(c),e(c+1),e(c+2))){u=K,c=La(r,c);return}if(e(c)===37){u=ft,c++;return}u=H}function i(){const h=c;if(c=La(r,c),$i(r,h,c,"url")&&e(c)===40){if(c=Ta(r,c+1),e(c)===34||e(c)===39){u=Q,c=h+4;return}a();return}if(e(c)===40){u=Q,c++;return}u=R}function s(h){for(h||(h=e(c++)),u=We;c<r.length;c++){const f=r.charCodeAt(c);switch(ac(f)){case h:c++;return;case Ca:if(Aa(f)){c+=oc(r,c,f),u=ka;return}break;case 92:if(c===r.length-1)break;const p=e(c+1);Aa(p)?c+=oc(r,c+1,p):Ke(f,p)&&(c=Gr(r,c)-1);break}}}function a(){for(u=Nt,c=Ta(r,c);c<r.length;c++){const h=r.charCodeAt(c);switch(ac(h)){case 41:c++;return;case Ca:if(c=Ta(r,c),e(c)===41||c>=r.length){c<r.length&&c++;return}c=cc(r,c),u=Ht;return;case 34:case 39:case 40:case ep:c=cc(r,c),u=Ht;return;case 92:if(Ke(h,e(c+1))){c=Gr(r,c)-1;break}c=cc(r,c),u=Ht;return}}}r=String(r||"");const o=r.length;let l=Jf(e(0)),c=l,u;for(;c<o;){const h=r.charCodeAt(c);switch(ac(h)){case Ca:u=pt,c=Ta(r,c+1);break;case 34:s();break;case 35:Zf(e(c+1))||Ke(e(c+1),e(c+2))?(u=lt,c=La(r,c+1)):(u=X,c++);break;case 39:s();break;case 40:u=xt,c++;break;case 41:u=rt,c++;break;case 43:rc(h,e(c+1),e(c+2))?n():(u=X,c++);break;case 44:u=Ge,c++;break;case 45:rc(h,e(c+1),e(c+2))?n():e(c+1)===45&&e(c+2)===62?(u=Ut,c=c+3):Ea(h,e(c+1),e(c+2))?i():(u=X,c++);break;case 46:rc(h,e(c+1),e(c+2))?n():(u=X,c++);break;case 47:e(c+1)===42?(u=jt,c=r.indexOf("*/",c+2),c=c===-1?r.length:c+2):(u=X,c++);break;case 58:u=Mt,c++;break;case 59:u=Vt,c++;break;case 60:e(c+1)===33&&e(c+2)===45&&e(c+3)===45?(u=Pi,c=c+4):(u=X,c++);break;case 64:Ea(e(c+1),e(c+2),e(c+3))?(u=bt,c=La(r,c+1)):(u=X,c++);break;case 91:u=Zt,c++;break;case 92:Ke(h,e(c+1))?i():(u=X,c++);break;case 93:u=Ee,c++;break;case 123:u=qt,c++;break;case 125:u=ae,c++;break;case tp:n();break;case sc:i();break;default:u=X,c++}t(u,l,l=c)}}let Kr=null;class yt{static createItem(t){return{prev:null,next:null,data:t}}constructor(){this.head=null,this.tail=null,this.cursor=null}createItem(t){return yt.createItem(t)}allocateCursor(t,e){let n;return Kr!==null?(n=Kr,Kr=Kr.cursor,n.prev=t,n.next=e,n.cursor=this.cursor):n={prev:t,next:e,cursor:this.cursor},this.cursor=n,n}releaseCursor(){const{cursor:t}=this;this.cursor=t.cursor,t.prev=null,t.next=null,t.cursor=Kr,Kr=t}updateCursors(t,e,n,i){let{cursor:s}=this;for(;s!==null;)s.prev===t&&(s.prev=e),s.next===n&&(s.next=i),s=s.cursor}*[Symbol.iterator](){for(let t=this.head;t!==null;t=t.next)yield t.data}get size(){let t=0;for(let e=this.head;e!==null;e=e.next)t++;return t}get isEmpty(){return this.head===null}get first(){return this.head&&this.head.data}get last(){return this.tail&&this.tail.data}fromArray(t){let e=null;this.head=null;for(let n of t){const i=yt.createItem(n);e!==null?e.next=i:this.head=i,i.prev=e,e=i}return this.tail=e,this}toArray(){return[...this]}toJSON(){return[...this]}forEach(t,e=this){const n=this.allocateCursor(null,this.head);for(;n.next!==null;){const i=n.next;n.next=i.next,t.call(e,i.data,i,this)}this.releaseCursor()}forEachRight(t,e=this){const n=this.allocateCursor(this.tail,null);for(;n.prev!==null;){const i=n.prev;n.prev=i.prev,t.call(e,i.data,i,this)}this.releaseCursor()}reduce(t,e,n=this){let i=this.allocateCursor(null,this.head),s=e,a;for(;i.next!==null;)a=i.next,i.next=a.next,s=t.call(n,s,a.data,a,this);return this.releaseCursor(),s}reduceRight(t,e,n=this){let i=this.allocateCursor(this.tail,null),s=e,a;for(;i.prev!==null;)a=i.prev,i.prev=a.prev,s=t.call(n,s,a.data,a,this);return this.releaseCursor(),s}some(t,e=this){for(let n=this.head;n!==null;n=n.next)if(t.call(e,n.data,n,this))return!0;return!1}map(t,e=this){const n=new yt;for(let i=this.head;i!==null;i=i.next)n.appendData(t.call(e,i.data,i,this));return n}filter(t,e=this){const n=new yt;for(let i=this.head;i!==null;i=i.next)t.call(e,i.data,i,this)&&n.appendData(i.data);return n}nextUntil(t,e,n=this){if(t===null)return;const i=this.allocateCursor(null,t);for(;i.next!==null;){const s=i.next;if(i.next=s.next,e.call(n,s.data,s,this))break}this.releaseCursor()}prevUntil(t,e,n=this){if(t===null)return;const i=this.allocateCursor(t,null);for(;i.prev!==null;){const s=i.prev;if(i.prev=s.prev,e.call(n,s.data,s,this))break}this.releaseCursor()}clear(){this.head=null,this.tail=null}copy(){const t=new yt;for(let e of this)t.appendData(e);return t}prepend(t){return this.updateCursors(null,t,this.head,t),this.head!==null?(this.head.prev=t,t.next=this.head):this.tail=t,this.head=t,this}prependData(t){return this.prepend(yt.createItem(t))}append(t){return this.insert(t)}appendData(t){return this.insert(yt.createItem(t))}insert(t,e=null){if(e!==null)if(this.updateCursors(e.prev,t,e,t),e.prev===null){if(this.head!==e)throw new Error("before doesn't belong to list");this.head=t,e.prev=t,t.next=e,this.updateCursors(null,t)}else e.prev.next=t,t.prev=e.prev,e.prev=t,t.next=e;else this.updateCursors(this.tail,t,null,t),this.tail!==null?(this.tail.next=t,t.prev=this.tail):this.head=t,this.tail=t;return this}insertData(t,e){return this.insert(yt.createItem(t),e)}remove(t){if(this.updateCursors(t,t.prev,t,t.next),t.prev!==null)t.prev.next=t.next;else{if(this.head!==t)throw new Error("item doesn't belong to list");this.head=t.next}if(t.next!==null)t.next.prev=t.prev;else{if(this.tail!==t)throw new Error("item doesn't belong to list");this.tail=t.prev}return t.prev=null,t.next=null,t}push(t){this.insert(yt.createItem(t))}pop(){return this.tail!==null?this.remove(this.tail):null}unshift(t){this.prepend(yt.createItem(t))}shift(){return this.head!==null?this.remove(this.head):null}prependList(t){return this.insertList(t,this.head)}appendList(t){return this.insertList(t)}insertList(t,e){return t.head===null?this:(e!=null?(this.updateCursors(e.prev,t.tail,e,t.head),e.prev!==null?(e.prev.next=t.head,t.head.prev=e.prev):this.head=t.head,e.prev=t.tail,t.tail.next=e):(this.updateCursors(this.tail,t.tail,null,t.head),this.tail!==null?(this.tail.next=t.head,t.head.prev=this.tail):this.head=t.head,this.tail=t.tail),t.head=null,t.tail=null,this)}replace(t,e){"head"in e?this.insertList(e,t):this.insert(e,t),this.remove(t)}}function Na(r,t){const e=Object.create(SyntaxError.prototype),n=new Error;return Object.assign(e,{name:r,message:t,get stack(){return(n.stack||"").replace(/^(.+\n){1,3}/,`${r}: ${t}
`)}})}const uc=100,op=60,lp="    ";function cp({source:r,line:t,column:e},n){function i(u,h){return s.slice(u,h).map((f,p)=>String(u+p+1).padStart(l)+" |"+f).join(`
`)}const s=r.split(/\r\n?|\n|\f/),a=Math.max(1,t-n)-1,o=Math.min(t+n,s.length+1),l=Math.max(4,String(o).length)+1;let c=0;e+=(lp.length-1)*(s[t-1].substr(0,e-1).match(/\t/g)||[]).length,e>uc&&(c=e-op+3,e=op-2);for(let u=a;u<=o;u++)u>=0&&u<s.length&&(s[u]=s[u].replace(/\t/g,lp),s[u]=(c>0&&s[u].length>c?"…":"")+s[u].substr(c,uc-2)+(s[u].length>c+uc-1?"…":""));return[i(a,t),new Array(e+l+2).join("-")+"^",i(t,o)].filter(Boolean).join(`
`)}function up(r,t,e,n,i){return Object.assign(Na("SyntaxError",r),{source:t,offset:e,line:n,column:i,sourceFragment(s){return cp({source:t,line:n,column:i},isNaN(s)?0:s)},get formattedMessage(){return`Parse error: ${r}
`+cp({source:t,line:n,column:i},2)}})}function dS(r){const t=this.createList();let e=!1;const n={recognizer:r};for(;!this.eof;){switch(this.tokenType){case jt:this.next();continue;case pt:e=!0,this.next();continue}let i=r.getNode.call(this,n);if(i===void 0)break;e&&(r.onWhiteSpace&&r.onWhiteSpace.call(this,i,t,n),e=!1),t.push(i)}return e&&r.onWhiteSpace&&r.onWhiteSpace.call(this,null,t,n),t}const dp=()=>{},hS=33,fS=35,dc=59,hp=123,fp=0;function pS(r){return function(){return this[r]()}}function hc(r){const t=Object.create(null);for(const e in r){const n=r[e],i=n.parse||n;i&&(t[e]=i)}return t}function gS(r){const t={context:Object.create(null),scope:Object.assign(Object.create(null),r.scope),atrule:hc(r.atrule),pseudo:hc(r.pseudo),node:hc(r.node)};for(const e in r.parseContext)switch(typeof r.parseContext[e]){case"function":t.context[e]=r.parseContext[e];break;case"string":t.context[e]=pS(r.parseContext[e]);break}return W(W({config:t},t),t.node)}function mS(r){let t="",e="<unknown>",n=!1,i=dp,s=!1;const a=new lS,o=Object.assign(new uS,gS(r||{}),{parseAtrulePrelude:!0,parseRulePrelude:!0,parseValue:!0,parseCustomProperty:!1,readSequence:dS,consumeUntilBalanceEnd:()=>0,consumeUntilLeftCurlyBracket(l){return l===hp?1:0},consumeUntilLeftCurlyBracketOrSemicolon(l){return l===hp||l===dc?1:0},consumeUntilExclamationMarkOrSemicolon(l){return l===hS||l===dc?1:0},consumeUntilSemicolonIncluded(l){return l===dc?2:0},createList(){return new yt},createSingleNodeList(l){return new yt().appendData(l)},getFirstListNode(l){return l&&l.first},getLastListNode(l){return l&&l.last},parseWithFallback(l,c){const u=this.tokenIndex;try{return l.call(this)}catch(h){if(s)throw h;const f=c.call(this,u);return s=!0,i(h,f),s=!1,f}},lookupNonWSType(l){let c;do if(c=this.lookupType(l++),c!==pt)return c;while(c!==fp);return fp},charCodeAt(l){return l>=0&&l<t.length?t.charCodeAt(l):0},substring(l,c){return t.substring(l,c)},substrToCursor(l){return this.source.substring(l,this.tokenStart)},cmpChar(l,c){return Wr(t,l,c)},cmpStr(l,c,u){return $i(t,l,c,u)},consume(l){const c=this.tokenStart;return this.eat(l),this.substrToCursor(c)},consumeFunctionName(){const l=t.substring(this.tokenStart,this.tokenEnd-1);return this.eat(Q),l},consumeNumber(l){const c=t.substring(this.tokenStart,Da(t,this.tokenStart));return this.eat(l),c},eat(l){if(this.tokenType!==l){const c=rp[l].slice(0,-6).replace(/-/g," ").replace(/^./,f=>f.toUpperCase());let u=`${/[[\](){}]/.test(c)?`"${c}"`:c} is expected`,h=this.tokenStart;switch(l){case R:this.tokenType===Q||this.tokenType===Nt?(h=this.tokenEnd-1,u="Identifier is expected but function found"):u="Identifier is expected";break;case lt:this.isDelim(fS)&&(this.next(),h++,u="Name is expected");break;case ft:this.tokenType===H&&(h=this.tokenEnd,u="Percent sign is expected");break}this.error(u,h)}this.next()},eatIdent(l){(this.tokenType!==R||this.lookupValue(0,l)===!1)&&this.error(`Identifier "${l}" is expected`),this.next()},eatDelim(l){this.isDelim(l)||this.error(`Delim "${String.fromCharCode(l)}" is expected`),this.next()},getLocation(l,c){return n?a.getLocationRange(l,c,e):null},getLocationFromList(l){if(n){const c=this.getFirstListNode(l),u=this.getLastListNode(l);return a.getLocationRange(c!==null?c.loc.start.offset-a.startOffset:this.tokenStart,u!==null?u.loc.end.offset-a.startOffset:this.tokenStart,e)}return null},error(l,c){const u=typeof c<"u"&&c<t.length?a.getLocation(c):this.eof?a.getLocation(sS(t,t.length-1)):a.getLocation(this.tokenStart);throw new up(l||"Unexpected input",t,u.offset,u.line,u.column)}});return Object.assign(function(l,c){t=l,c=c||{},o.setSource(t,Oa),a.setSource(t,c.offset,c.line,c.column),e=c.filename||"<unknown>",n=!!c.positions,i=typeof c.onParseError=="function"?c.onParseError:dp,s=!1,o.parseAtrulePrelude="parseAtrulePrelude"in c?!!c.parseAtrulePrelude:!0,o.parseRulePrelude="parseRulePrelude"in c?!!c.parseRulePrelude:!0,o.parseValue="parseValue"in c?!!c.parseValue:!0,o.parseCustomProperty="parseCustomProperty"in c?!!c.parseCustomProperty:!1;const{context:u="default",onComment:h}=c;if(!(u in o.context))throw new Error("Unknown context `"+u+"`");typeof h=="function"&&o.forEachToken((p,m,b)=>{if(p===jt){const w=o.getLocation(m,b),v=$i(t,b-2,b,"*/")?t.slice(m+2,b-2):t.slice(m+2,b);h(v,w)}});const f=o.context[u].call(o,c);return o.eof||o.error(),f},{SyntaxError:up,config:o.config})}var fc={},pc={},pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");pc.encode=function(r){if(0<=r&&r<pp.length)return pp[r];throw new TypeError("Must be between 0 and 63: "+r)},pc.decode=function(r){var t=65,e=90,n=97,i=122,s=48,a=57,o=43,l=47,c=26,u=52;return t<=r&&r<=e?r-t:n<=r&&r<=i?r-n+c:s<=r&&r<=a?r-s+u:r==o?62:r==l?63:-1};var gp=pc,gc=5,mp=1<<gc,bp=mp-1,yp=mp;function bS(r){return r<0?(-r<<1)+1:(r<<1)+0}function yS(r){var t=(r&1)===1,e=r>>1;return t?-e:e}fc.encode=function(r){var t="",e,n=bS(r);do e=n&bp,n>>>=gc,n>0&&(e|=yp),t+=gp.encode(e);while(n>0);return t},fc.decode=function(r,t,e){var n=r.length,i=0,s=0,a,o;do{if(t>=n)throw new Error("Expected more digits in base 64 VLQ value.");if(o=gp.decode(r.charCodeAt(t++)),o===-1)throw new Error("Invalid base64 digit: "+r.charAt(t-1));a=!!(o&yp),o&=bp,i=i+(o<<s),s+=gc}while(a);e.value=yS(i),e.rest=t};var Ma={};(function(r){function t(S,C,q){if(C in S)return S[C];if(arguments.length===3)return q;throw new Error('"'+C+'" is a required argument.')}r.getArg=t;var e=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function i(S){var C=S.match(e);return C?{scheme:C[1],auth:C[2],host:C[3],port:C[4],path:C[5]}:null}r.urlParse=i;function s(S){var C="";return S.scheme&&(C+=S.scheme+":"),C+="//",S.auth&&(C+=S.auth+"@"),S.host&&(C+=S.host),S.port&&(C+=":"+S.port),S.path&&(C+=S.path),C}r.urlGenerate=s;var a=32;function o(S){var C=[];return function(q){for(var O=0;O<C.length;O++)if(C[O].input===q){var F=C[0];return C[0]=C[O],C[O]=F,C[0].result}var Z=S(q);return C.unshift({input:q,result:Z}),C.length>a&&C.pop(),Z}}var l=o(function(S){var C=S,q=i(S);if(q){if(!q.path)return S;C=q.path}for(var O=r.isAbsolute(C),F=[],Z=0,U=0;;)if(Z=U,U=C.indexOf("/",Z),U===-1){F.push(C.slice(Z));break}else for(F.push(C.slice(Z,U));U<C.length&&C[U]==="/";)U++;for(var dt,at=0,U=F.length-1;U>=0;U--)dt=F[U],dt==="."?F.splice(U,1):dt===".."?at++:at>0&&(dt===""?(F.splice(U+1,at),at=0):(F.splice(U,2),at--));return C=F.join("/"),C===""&&(C=O?"/":"."),q?(q.path=C,s(q)):C});r.normalize=l;function c(S,C){S===""&&(S="."),C===""&&(C=".");var q=i(C),O=i(S);if(O&&(S=O.path||"/"),q&&!q.scheme)return O&&(q.scheme=O.scheme),s(q);if(q||C.match(n))return C;if(O&&!O.host&&!O.path)return O.host=C,s(O);var F=C.charAt(0)==="/"?C:l(S.replace(/\/+$/,"")+"/"+C);return O?(O.path=F,s(O)):F}r.join=c,r.isAbsolute=function(S){return S.charAt(0)==="/"||e.test(S)};function u(S,C){S===""&&(S="."),S=S.replace(/\/$/,"");for(var q=0;C.indexOf(S+"/")!==0;){var O=S.lastIndexOf("/");if(O<0||(S=S.slice(0,O),S.match(/^([^\/]+:\/)?\/*$/)))return C;++q}return Array(q+1).join("../")+C.substr(S.length+1)}r.relative=u;var h=function(){var S=Object.create(null);return!("__proto__"in S)}();function f(S){return S}function p(S){return b(S)?"$"+S:S}r.toSetString=h?f:p;function m(S){return b(S)?S.slice(1):S}r.fromSetString=h?f:m;function b(S){if(!S)return!1;var C=S.length;if(C<9||S.charCodeAt(C-1)!==95||S.charCodeAt(C-2)!==95||S.charCodeAt(C-3)!==111||S.charCodeAt(C-4)!==116||S.charCodeAt(C-5)!==111||S.charCodeAt(C-6)!==114||S.charCodeAt(C-7)!==112||S.charCodeAt(C-8)!==95||S.charCodeAt(C-9)!==95)return!1;for(var q=C-10;q>=0;q--)if(S.charCodeAt(q)!==36)return!1;return!0}function w(S,C,q){var O=E(S.source,C.source);return O!==0||(O=S.originalLine-C.originalLine,O!==0)||(O=S.originalColumn-C.originalColumn,O!==0||q)||(O=S.generatedColumn-C.generatedColumn,O!==0)||(O=S.generatedLine-C.generatedLine,O!==0)?O:E(S.name,C.name)}r.compareByOriginalPositions=w;function v(S,C,q){var O;return O=S.originalLine-C.originalLine,O!==0||(O=S.originalColumn-C.originalColumn,O!==0||q)||(O=S.generatedColumn-C.generatedColumn,O!==0)||(O=S.generatedLine-C.generatedLine,O!==0)?O:E(S.name,C.name)}r.compareByOriginalPositionsNoSource=v;function k(S,C,q){var O=S.generatedLine-C.generatedLine;return O!==0||(O=S.generatedColumn-C.generatedColumn,O!==0||q)||(O=E(S.source,C.source),O!==0)||(O=S.originalLine-C.originalLine,O!==0)||(O=S.originalColumn-C.originalColumn,O!==0)?O:E(S.name,C.name)}r.compareByGeneratedPositionsDeflated=k;function A(S,C,q){var O=S.generatedColumn-C.generatedColumn;return O!==0||q||(O=E(S.source,C.source),O!==0)||(O=S.originalLine-C.originalLine,O!==0)||(O=S.originalColumn-C.originalColumn,O!==0)?O:E(S.name,C.name)}r.compareByGeneratedPositionsDeflatedNoLine=A;function E(S,C){return S===C?0:S===null?1:C===null?-1:S>C?1:-1}function T(S,C){var q=S.generatedLine-C.generatedLine;return q!==0||(q=S.generatedColumn-C.generatedColumn,q!==0)||(q=E(S.source,C.source),q!==0)||(q=S.originalLine-C.originalLine,q!==0)||(q=S.originalColumn-C.originalColumn,q!==0)?q:E(S.name,C.name)}r.compareByGeneratedPositionsInflated=T;function M(S){return JSON.parse(S.replace(/^\)]}'[^\n]*\n/,""))}r.parseSourceMapInput=M;function N(S,C,q){if(C=C||"",S&&(S[S.length-1]!=="/"&&C[0]!=="/"&&(S+="/"),C=S+C),q){var O=i(q);if(!O)throw new Error("sourceMapURL could not be parsed");if(O.path){var F=O.path.lastIndexOf("/");F>=0&&(O.path=O.path.substring(0,F+1))}C=c(s(O),C)}return l(C)}r.computeSourceURL=N})(Ma);var vp={},mc=Ma,bc=Object.prototype.hasOwnProperty,or=typeof Map<"u";function pn(){this._array=[],this._set=or?new Map:Object.create(null)}pn.fromArray=function(r,t){for(var e=new pn,n=0,i=r.length;n<i;n++)e.add(r[n],t);return e},pn.prototype.size=function(){return or?this._set.size:Object.getOwnPropertyNames(this._set).length},pn.prototype.add=function(r,t){var e=or?r:mc.toSetString(r),n=or?this.has(r):bc.call(this._set,e),i=this._array.length;(!n||t)&&this._array.push(r),n||(or?this._set.set(r,i):this._set[e]=i)},pn.prototype.has=function(r){if(or)return this._set.has(r);var t=mc.toSetString(r);return bc.call(this._set,t)},pn.prototype.indexOf=function(r){if(or){var t=this._set.get(r);if(t>=0)return t}else{var e=mc.toSetString(r);if(bc.call(this._set,e))return this._set[e]}throw new Error('"'+r+'" is not in the set.')},pn.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)},pn.prototype.toArray=function(){return this._array.slice()},vp.ArraySet=pn;var wp={},xp=Ma;function vS(r,t){var e=r.generatedLine,n=t.generatedLine,i=r.generatedColumn,s=t.generatedColumn;return n>e||n==e&&s>=i||xp.compareByGeneratedPositionsInflated(r,t)<=0}function qa(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}qa.prototype.unsortedForEach=function(r,t){this._array.forEach(r,t)},qa.prototype.add=function(r){vS(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))},qa.prototype.toArray=function(){return this._sorted||(this._array.sort(xp.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},wp.MappingList=qa;var ji=fc,gt=Ma,_a=vp.ArraySet,wS=wp.MappingList;function le(r){r||(r={}),this._file=gt.getArg(r,"file",null),this._sourceRoot=gt.getArg(r,"sourceRoot",null),this._skipValidation=gt.getArg(r,"skipValidation",!1),this._ignoreInvalidMapping=gt.getArg(r,"ignoreInvalidMapping",!1),this._sources=new _a,this._names=new _a,this._mappings=new wS,this._sourcesContents=null}le.prototype._version=3,le.fromSourceMap=function(r,t){var e=r.sourceRoot,n=new le(Object.assign(t||{},{file:r.file,sourceRoot:e}));return r.eachMapping(function(i){var s={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(s.source=i.source,e!=null&&(s.source=gt.relative(e,s.source)),s.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(s.name=i.name)),n.addMapping(s)}),r.sources.forEach(function(i){var s=i;e!==null&&(s=gt.relative(e,i)),n._sources.has(s)||n._sources.add(s);var a=r.sourceContentFor(i);a!=null&&n.setSourceContent(i,a)}),n},le.prototype.addMapping=function(r){var t=gt.getArg(r,"generated"),e=gt.getArg(r,"original",null),n=gt.getArg(r,"source",null),i=gt.getArg(r,"name",null);!this._skipValidation&&this._validateMapping(t,e,n,i)===!1||(n!=null&&(n=String(n),this._sources.has(n)||this._sources.add(n)),i!=null&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:e!=null&&e.line,originalColumn:e!=null&&e.column,source:n,name:i}))},le.prototype.setSourceContent=function(r,t){var e=r;this._sourceRoot!=null&&(e=gt.relative(this._sourceRoot,e)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[gt.toSetString(e)]=t):this._sourcesContents&&(delete this._sourcesContents[gt.toSetString(e)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},le.prototype.applySourceMap=function(r,t,e){var n=t;if(t==null){if(r.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);n=r.file}var i=this._sourceRoot;i!=null&&(n=gt.relative(i,n));var s=new _a,a=new _a;this._mappings.unsortedForEach(function(o){if(o.source===n&&o.originalLine!=null){var l=r.originalPositionFor({line:o.originalLine,column:o.originalColumn});l.source!=null&&(o.source=l.source,e!=null&&(o.source=gt.join(e,o.source)),i!=null&&(o.source=gt.relative(i,o.source)),o.originalLine=l.line,o.originalColumn=l.column,l.name!=null&&(o.name=l.name))}var c=o.source;c!=null&&!s.has(c)&&s.add(c);var u=o.name;u!=null&&!a.has(u)&&a.add(u)},this),this._sources=s,this._names=a,r.sources.forEach(function(o){var l=r.sourceContentFor(o);l!=null&&(e!=null&&(o=gt.join(e,o)),i!=null&&(o=gt.relative(i,o)),this.setSourceContent(o,l))},this)},le.prototype._validateMapping=function(r,t,e,n){if(t&&typeof t.line!="number"&&typeof t.column!="number"){var i="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(i),!1;throw new Error(i)}if(!(r&&"line"in r&&"column"in r&&r.line>0&&r.column>=0&&!t&&!e&&!n)){if(r&&"line"in r&&"column"in r&&t&&"line"in t&&"column"in t&&r.line>0&&r.column>=0&&t.line>0&&t.column>=0&&e)return;var i="Invalid mapping: "+JSON.stringify({generated:r,source:e,original:t,name:n});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(i),!1;throw new Error(i)}},le.prototype._serializeMappings=function(){for(var r=0,t=1,e=0,n=0,i=0,s=0,a="",o,l,c,u,h=this._mappings.toArray(),f=0,p=h.length;f<p;f++){if(l=h[f],o="",l.generatedLine!==t)for(r=0;l.generatedLine!==t;)o+=";",t++;else if(f>0){if(!gt.compareByGeneratedPositionsInflated(l,h[f-1]))continue;o+=","}o+=ji.encode(l.generatedColumn-r),r=l.generatedColumn,l.source!=null&&(u=this._sources.indexOf(l.source),o+=ji.encode(u-s),s=u,o+=ji.encode(l.originalLine-1-n),n=l.originalLine-1,o+=ji.encode(l.originalColumn-e),e=l.originalColumn,l.name!=null&&(c=this._names.indexOf(l.name),o+=ji.encode(c-i),i=c)),a+=o}return a},le.prototype._generateSourcesContent=function(r,t){return r.map(function(e){if(!this._sourcesContents)return null;t!=null&&(e=gt.relative(t,e));var n=gt.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},le.prototype.toJSON=function(){var r={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(r.file=this._file),this._sourceRoot!=null&&(r.sourceRoot=this._sourceRoot),this._sourcesContents&&(r.sourcesContent=this._generateSourcesContent(r.sources,r.sourceRoot)),r},le.prototype.toString=function(){return JSON.stringify(this.toJSON())};var xS=le;const kp=new Set(["Atrule","Selector","Declaration"]);function kS(r){const t=new xS,e={line:1,column:0},n={line:0,column:0},i={line:1,column:0},s={generated:i};let a=1,o=0,l=!1;const c=r.node;r.node=function(f){if(f.loc&&f.loc.start&&kp.has(f.type)){const p=f.loc.start.line,m=f.loc.start.column-1;(n.line!==p||n.column!==m)&&(n.line=p,n.column=m,e.line=a,e.column=o,l&&(l=!1,(e.line!==i.line||e.column!==i.column)&&t.addMapping(s)),l=!0,t.addMapping({source:f.loc.source,original:n,generated:e}))}c.call(this,f),l&&kp.has(f.type)&&(i.line=a,i.column=o)};const u=r.emit;r.emit=function(f,p,m){for(let b=0;b<f.length;b++)f.charCodeAt(b)===10?(a++,o=0):o++;u(f,p,m)};const h=r.result;return r.result=function(){return l&&t.addMapping(s),{css:h(),map:t}},r}const SS=43,AS=45,yc=(r,t)=>{if(r===X&&(r=t),typeof r=="string"){const e=r.charCodeAt(0);return e>127?32768:e<<8}return r},Sp=[[R,R],[R,Q],[R,Nt],[R,Ht],[R,"-"],[R,H],[R,ft],[R,K],[R,Ut],[R,xt],[bt,R],[bt,Q],[bt,Nt],[bt,Ht],[bt,"-"],[bt,H],[bt,ft],[bt,K],[bt,Ut],[lt,R],[lt,Q],[lt,Nt],[lt,Ht],[lt,"-"],[lt,H],[lt,ft],[lt,K],[lt,Ut],[K,R],[K,Q],[K,Nt],[K,Ht],[K,"-"],[K,H],[K,ft],[K,K],[K,Ut],["#",R],["#",Q],["#",Nt],["#",Ht],["#","-"],["#",H],["#",ft],["#",K],["#",Ut],["-",R],["-",Q],["-",Nt],["-",Ht],["-","-"],["-",H],["-",ft],["-",K],["-",Ut],[H,R],[H,Q],[H,Nt],[H,Ht],[H,H],[H,ft],[H,K],[H,"%"],[H,Ut],["@",R],["@",Q],["@",Nt],["@",Ht],["@","-"],["@",Ut],[".",H],[".",ft],[".",K],["+",H],["+",ft],["+",K],["/","*"]],ES=Sp.concat([[R,lt],[K,lt],[lt,lt],[bt,xt],[bt,We],[bt,Mt],[ft,ft],[ft,K],[ft,Q],[ft,"-"],[rt,R],[rt,Q],[rt,ft],[rt,K],[rt,lt],[rt,"-"]]);function Ap(r){const t=new Set(r.map(([e,n])=>yc(e)<<16|yc(n)));return function(e,n,i){const s=yc(n,i),a=i.charCodeAt(0);return(a===AS&&n!==R&&n!==Q&&n!==Ut||a===SS?t.has(e<<16|a<<8):t.has(e<<16|s))&&this.emit(" ",pt,!0),s}}const CS=Ap(Sp),Ep=Ap(ES),Cp=Object.freeze(Object.defineProperty({__proto__:null,safe:Ep,spec:CS},Symbol.toStringTag,{value:"Module"})),TS=92;function LS(r,t){if(typeof t=="function"){let e=null;r.children.forEach(n=>{e!==null&&t.call(this,e),this.node(n),e=n});return}r.children.forEach(this.node,this)}function DS(r){Oa(r,(t,e,n)=>{this.token(t,r.slice(e,n))})}function IS(r){const t=new Map;for(let e in r.node){const n=r.node[e];typeof(n.generate||n)=="function"&&t.set(e,n.generate||n)}return function(e,n){let i="",s=0,a={node(l){if(t.has(l.type))t.get(l.type).call(o,l);else throw new Error("Unknown node type: "+l.type)},tokenBefore:Ep,token(l,c){s=this.tokenBefore(s,l,c),this.emit(c,l,!1),l===X&&c.charCodeAt(0)===TS&&this.emit(`
`,pt,!0)},emit(l){i+=l},result(){return i}};n&&(typeof n.decorator=="function"&&(a=n.decorator(a)),n.sourceMap&&(a=kS(a)),n.mode in Cp&&(a.tokenBefore=Cp[n.mode]));const o={node:l=>a.node(l),children:LS,token:(l,c)=>a.token(l,c),tokenize:DS};return a.node(e),a.result()}}function OS(r){return{fromPlainObject(t){return r(t,{enter(e){e.children&&!(e.children instanceof yt)&&(e.children=new yt().fromArray(e.children))}}),t},toPlainObject(t){return r(t,{leave(e){e.children&&e.children instanceof yt&&(e.children=e.children.toArray())}}),t}}}const{hasOwnProperty:vc}=Object.prototype,Fi=function(){};function Tp(r){return typeof r=="function"?r:Fi}function Lp(r,t){return function(e,n,i){e.type===t&&r.call(this,e,n,i)}}function NS(r,t){const e=t.structure,n=[];for(const i in e){if(vc.call(e,i)===!1)continue;let s=e[i];const a={name:i,type:!1,nullable:!1};Array.isArray(s)||(s=[s]);for(const o of s)o===null?a.nullable=!0:typeof o=="string"?a.type="node":Array.isArray(o)&&(a.type="list");a.type&&n.push(a)}return n.length?{context:t.walkContext,fields:n}:null}function MS(r){const t={};for(const e in r.node)if(vc.call(r.node,e)){const n=r.node[e];if(!n.structure)throw new Error("Missed `structure` field in `"+e+"` node type definition");t[e]=NS(e,n)}return t}function Dp(r,t){const e=r.fields.slice(),n=r.context,i=typeof n=="string";return t&&e.reverse(),function(s,a,o,l){let c;i&&(c=a[n],a[n]=s);for(const u of e){const h=s[u.name];if(!u.nullable||h){if(u.type==="list"){if(t?h.reduceRight(l,!1):h.reduce(l,!1))return!0}else if(o(h))return!0}}i&&(a[n]=c)}}function Ip({StyleSheet:r,Atrule:t,Rule:e,Block:n,DeclarationList:i}){return{Atrule:{StyleSheet:r,Atrule:t,Rule:e,Block:n},Rule:{StyleSheet:r,Atrule:t,Rule:e,Block:n},Declaration:{StyleSheet:r,Atrule:t,Rule:e,Block:n,DeclarationList:i}}}function qS(r){const t=MS(r),e={},n={},i=Symbol("break-walk"),s=Symbol("skip-node");for(const c in t)vc.call(t,c)&&t[c]!==null&&(e[c]=Dp(t[c],!1),n[c]=Dp(t[c],!0));const a=Ip(e),o=Ip(n),l=function(c,u){function h(v,k,A){const E=f.call(w,v,k,A);return E===i?!0:E===s?!1:!!(m.hasOwnProperty(v.type)&&m[v.type](v,w,h,b)||p.call(w,v,k,A)===i)}let f=Fi,p=Fi,m=e,b=(v,k,A,E)=>v||h(k,A,E);const w={break:i,skip:s,root:c,stylesheet:null,atrule:null,atrulePrelude:null,rule:null,selector:null,block:null,declaration:null,function:null};if(typeof u=="function")f=u;else if(u&&(f=Tp(u.enter),p=Tp(u.leave),u.reverse&&(m=n),u.visit)){if(a.hasOwnProperty(u.visit))m=u.reverse?o[u.visit]:a[u.visit];else if(!t.hasOwnProperty(u.visit))throw new Error("Bad value `"+u.visit+"` for `visit` option (should be: "+Object.keys(t).sort().join(", ")+")");f=Lp(f,u.visit),p=Lp(p,u.visit)}if(f===Fi&&p===Fi)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");h(c)};return l.break=i,l.skip=s,l.find=function(c,u){let h=null;return l(c,function(f,p,m){if(u.call(this,f,p,m))return h=f,i}),h},l.findLast=function(c,u){let h=null;return l(c,{reverse:!0,enter(f,p,m){if(u.call(this,f,p,m))return h=f,i}}),h},l.findAll=function(c,u){const h=[];return l(c,function(f,p,m){u.call(this,f,p,m)&&h.push(f)}),h},l}function _S(r){return r}function RS(r){const{min:t,max:e,comma:n}=r;return t===0&&e===0?n?"#?":"*":t===0&&e===1?"?":t===1&&e===0?n?"#":"+":t===1&&e===1?"":(n?"#":"")+(t===e?"{"+t+"}":"{"+t+","+(e!==0?e:"")+"}")}function zS(r){switch(r.type){case"Range":return" ["+(r.min===null?"-∞":r.min)+","+(r.max===null?"∞":r.max)+"]";default:throw new Error("Unknown node type `"+r.type+"`")}}function BS(r,t,e,n){const i=r.combinator===" "||n?r.combinator:" "+r.combinator+" ",s=r.terms.map(a=>wc(a,t,e,n)).join(i);return r.explicit||e?(n||s[0]===","?"[":"[ ")+s+(n?"]":" ]"):s}function wc(r,t,e,n){let i;switch(r.type){case"Group":i=BS(r,t,e,n)+(r.disallowEmpty?"!":"");break;case"Multiplier":return wc(r.term,t,e,n)+t(RS(r),r);case"Type":i="<"+r.name+(r.opts?t(zS(r.opts),r.opts):"")+">";break;case"Property":i="<'"+r.name+"'>";break;case"Keyword":i=r.name;break;case"AtKeyword":i="@"+r.name;break;case"Function":i=r.name+"(";break;case"String":case"Token":i=r.value;break;case"Comma":i=",";break;default:throw new Error("Unknown node type `"+r.type+"`")}return t(i,r)}function xc(r,t){let e=_S,n=!1,i=!1;return typeof t=="function"?e=t:t&&(n=!!t.forceBraces,i=!!t.compact,typeof t.decorate=="function"&&(e=t.decorate)),wc(r,e,n,i)}const Op={offset:0,line:1,column:1};function PS(r,t){const e=r.tokens,n=r.longestMatch,i=n<e.length&&e[n].node||null,s=i!==t?i:null;let a=0,o=0,l=0,c="",u,h;for(let f=0;f<e.length;f++){const p=e[f].value;f===n&&(o=p.length,a=c.length),s!==null&&e[f].node===s&&(f<=n?l++:l=0),c+=p}return n===e.length||l>1?(u=Ra(s||t,"end")||Hi(Op,c),h=Hi(u)):(u=Ra(s,"start")||Hi(Ra(t,"start")||Op,c.slice(0,a)),h=Ra(s,"end")||Hi(u,c.substr(a,o))),{css:c,mismatchOffset:a,mismatchLength:o,start:u,end:h}}function Ra(r,t){const e=r&&r.loc&&r.loc[t];return e?"line"in e?Hi(e):e:null}function Hi({offset:r,line:t,column:e},n){const i={offset:r,line:t,column:e};if(n){const s=n.split(/\n|\r\n?|\f/);i.offset+=n.length,i.line+=s.length-1,i.column=s.length===1?i.column+n.length:s.pop().length+1}return i}const Ui=function(r,t){const e=Na("SyntaxReferenceError",r+(t?" `"+t+"`":""));return e.reference=t,e},$S=function(r,t,e,n){const i=Na("SyntaxMatchError",r),{css:s,mismatchOffset:a,mismatchLength:o,start:l,end:c}=PS(n,e);return i.rawMessage=r,i.syntax=t?xc(t):"<generic>",i.css=s,i.mismatchOffset=a,i.mismatchLength=o,i.message=r+`
  syntax: `+i.syntax+`
   value: `+(s||"<empty string>")+`
  --------`+new Array(i.mismatchOffset+1).join("-")+"^",Object.assign(i,l),i.loc={source:e&&e.loc&&e.loc.source||"<unknown>",start:l,end:c},i},za=new Map,Qr=new Map,Ba=45,kc=jS,Np=FS;function Sc(r,t){return t=t||0,r.length-t>=2&&r.charCodeAt(t)===Ba&&r.charCodeAt(t+1)===Ba}function Mp(r,t){if(t=t||0,r.length-t>=3&&r.charCodeAt(t)===Ba&&r.charCodeAt(t+1)!==Ba){const e=r.indexOf("-",t+2);if(e!==-1)return r.substring(t,e+1)}return""}function jS(r){if(za.has(r))return za.get(r);const t=r.toLowerCase();let e=za.get(t);if(e===void 0){const n=Sc(t,0),i=n?"":Mp(t,0);e=Object.freeze({basename:t.substr(i.length),name:t,prefix:i,vendor:i,custom:n})}return za.set(r,e),e}function FS(r){if(Qr.has(r))return Qr.get(r);let t=r,e=r[0];e==="/"?e=r[1]==="/"?"//":"/":e!=="_"&&e!=="*"&&e!=="$"&&e!=="#"&&e!=="+"&&e!=="&"&&(e="");const n=Sc(t,e.length);if(!n&&(t=t.toLowerCase(),Qr.has(t))){const o=Qr.get(t);return Qr.set(r,o),o}const i=n?"":Mp(t,e.length),s=t.substr(0,e.length+i.length),a=Object.freeze({basename:t.substr(s.length),name:t.substr(e.length),hack:e,vendor:i,prefix:s,custom:n});return Qr.set(r,a),a}const qp=["initial","inherit","unset","revert","revert-layer"],Vi=43,Qe=45,Ac=110,Xr=!0,HS=!1;function Ec(r,t){return r!==null&&r.type===X&&r.value.charCodeAt(0)===t}function Yi(r,t,e){for(;r!==null&&(r.type===pt||r.type===jt);)r=e(++t);return t}function zn(r,t,e,n){if(!r)return 0;const i=r.value.charCodeAt(t);if(i===Vi||i===Qe){if(e)return 0;t++}for(;t<r.value.length;t++)if(!Et(r.value.charCodeAt(t)))return 0;return n+1}function Cc(r,t,e){let n=!1,i=Yi(r,t,e);if(r=e(i),r===null)return t;if(r.type!==H)if(Ec(r,Vi)||Ec(r,Qe)){if(n=!0,i=Yi(e(++i),i,e),r=e(i),r===null||r.type!==H)return 0}else return t;if(!n){const s=r.value.charCodeAt(0);if(s!==Vi&&s!==Qe)return 0}return zn(r,n?0:1,n,i)}function US(r,t){let e=0;if(!r)return 0;if(r.type===H)return zn(r,0,HS,e);if(r.type===R&&r.value.charCodeAt(0)===Qe){if(!Wr(r.value,1,Ac))return 0;switch(r.value.length){case 2:return Cc(t(++e),e,t);case 3:return r.value.charCodeAt(2)!==Qe?0:(e=Yi(t(++e),e,t),r=t(e),zn(r,0,Xr,e));default:return r.value.charCodeAt(2)!==Qe?0:zn(r,3,Xr,e)}}else if(r.type===R||Ec(r,Vi)&&t(e+1).type===R){if(r.type!==R&&(r=t(++e)),r===null||!Wr(r.value,0,Ac))return 0;switch(r.value.length){case 1:return Cc(t(++e),e,t);case 2:return r.value.charCodeAt(1)!==Qe?0:(e=Yi(t(++e),e,t),r=t(e),zn(r,0,Xr,e));default:return r.value.charCodeAt(1)!==Qe?0:zn(r,2,Xr,e)}}else if(r.type===K){let n=r.value.charCodeAt(0),i=n===Vi||n===Qe?1:0,s=i;for(;s<r.value.length&&Et(r.value.charCodeAt(s));s++);return s===i||!Wr(r.value,s,Ac)?0:s+1===r.value.length?Cc(t(++e),e,t):r.value.charCodeAt(s+1)!==Qe?0:s+2===r.value.length?(e=Yi(t(++e),e,t),r=t(e),zn(r,0,Xr,e)):zn(r,s+2,Xr,e)}return 0}const VS=43,_p=45,Rp=63,YS=117;function Tc(r,t){return r!==null&&r.type===X&&r.value.charCodeAt(0)===t}function WS(r,t){return r.value.charCodeAt(0)===t}function Wi(r,t,e){let n=0;for(let i=t;i<r.value.length;i++){const s=r.value.charCodeAt(i);if(s===_p&&e&&n!==0)return Wi(r,t+n+1,!1),6;if(!_n(s)||++n>6)return 0}return n}function Pa(r,t,e){if(!r)return 0;for(;Tc(e(t),Rp);){if(++r>6)return 0;t++}return t}function GS(r,t){let e=0;if(r===null||r.type!==R||!Wr(r.value,0,YS)||(r=t(++e),r===null))return 0;if(Tc(r,VS))return r=t(++e),r===null?0:r.type===R?Pa(Wi(r,0,!0),++e,t):Tc(r,Rp)?Pa(1,++e,t):0;if(r.type===H){const n=Wi(r,1,!0);return n===0?0:(r=t(++e),r===null?e:r.type===K||r.type===H?!WS(r,_p)||!Wi(r,1,!1)?0:e+1:Pa(n,e,t))}return r.type===K?Pa(Wi(r,1,!0),++e,t):0}const KS=["calc(","-moz-calc(","-webkit-calc("],Lc=new Map([[Q,rt],[xt,rt],[Zt,Ee],[qt,ae]]);function Ce(r,t){return t<r.length?r.charCodeAt(t):0}function zp(r,t){return $i(r,0,r.length,t)}function Bp(r,t){for(let e=0;e<t.length;e++)if(zp(r,t[e]))return!0;return!1}function Pp(r,t){return t!==r.length-2?!1:Ce(r,t)===92&&Et(Ce(r,t+1))}function $a(r,t,e){if(r&&r.type==="Range"){const n=Number(e!==void 0&&e!==t.length?t.substr(0,e):t);if(isNaN(n)||r.min!==null&&n<r.min&&typeof r.min!="string"||r.max!==null&&n>r.max&&typeof r.max!="string")return!0}return!1}function QS(r,t){let e=0,n=[],i=0;t:do{switch(r.type){case ae:case rt:case Ee:if(r.type!==e)break t;if(e=n.pop(),n.length===0){i++;break t}break;case Q:case xt:case Zt:case qt:n.push(e),e=Lc.get(r.type);break}i++}while(r=t(i));return i}function ce(r){return function(t,e,n){return t===null?0:t.type===Q&&Bp(t.value,KS)?QS(t,e):r(t,e,n)}}function ct(r){return function(t){return t===null||t.type!==r?0:1}}function XS(r){if(r===null||r.type!==R)return 0;const t=r.value.toLowerCase();return Bp(t,qp)||zp(t,"default")?0:1}function ZS(r){return r===null||r.type!==R||Ce(r.value,0)!==45||Ce(r.value,1)!==45?0:1}function JS(r){if(r===null||r.type!==lt)return 0;const t=r.value.length;if(t!==4&&t!==5&&t!==7&&t!==9)return 0;for(let e=1;e<t;e++)if(!_n(Ce(r.value,e)))return 0;return 1}function tA(r){return r===null||r.type!==lt||!Ea(Ce(r.value,1),Ce(r.value,2),Ce(r.value,3))?0:1}function eA(r,t){if(!r)return 0;let e=0,n=[],i=0;t:do{switch(r.type){case ka:case Ht:break t;case ae:case rt:case Ee:if(r.type!==e)break t;e=n.pop();break;case Vt:if(e===0)break t;break;case X:if(e===0&&r.value==="!")break t;break;case Q:case xt:case Zt:case qt:n.push(e),e=Lc.get(r.type);break}i++}while(r=t(i));return i}function nA(r,t){if(!r)return 0;let e=0,n=[],i=0;t:do{switch(r.type){case ka:case Ht:break t;case ae:case rt:case Ee:if(r.type!==e)break t;e=n.pop();break;case Q:case xt:case Zt:case qt:n.push(e),e=Lc.get(r.type);break}i++}while(r=t(i));return i}function gn(r){return r&&(r=new Set(r)),function(t,e,n){if(t===null||t.type!==K)return 0;const i=Da(t.value,0);if(r!==null){const s=t.value.indexOf("\\",i),a=s===-1||!Pp(t.value,s)?t.value.substr(i):t.value.substring(i,s);if(r.has(a.toLowerCase())===!1)return 0}return $a(n,t.value,i)?0:1}}function rA(r,t,e){return r===null||r.type!==ft||$a(e,r.value,r.value.length-1)?0:1}function $p(r){return typeof r!="function"&&(r=function(){return 0}),function(t,e,n){return t!==null&&t.type===H&&Number(t.value)===0?1:r(t,e,n)}}function iA(r,t,e){if(r===null)return 0;const n=Da(r.value,0);return n!==r.value.length&&!Pp(r.value,n)||$a(e,r.value,n)?0:1}function sA(r,t,e){if(r===null||r.type!==H)return 0;let n=Ce(r.value,0)===43||Ce(r.value,0)===45?1:0;for(;n<r.value.length;n++)if(!Et(Ce(r.value,n)))return 0;return $a(e,r.value,n)?0:1}const aA={"ident-token":ct(R),"function-token":ct(Q),"at-keyword-token":ct(bt),"hash-token":ct(lt),"string-token":ct(We),"bad-string-token":ct(ka),"url-token":ct(Nt),"bad-url-token":ct(Ht),"delim-token":ct(X),"number-token":ct(H),"percentage-token":ct(ft),"dimension-token":ct(K),"whitespace-token":ct(pt),"CDO-token":ct(Pi),"CDC-token":ct(Ut),"colon-token":ct(Mt),"semicolon-token":ct(Vt),"comma-token":ct(Ge),"[-token":ct(Zt),"]-token":ct(Ee),"(-token":ct(xt),")-token":ct(rt),"{-token":ct(qt),"}-token":ct(ae)},oA={string:ct(We),ident:ct(R),percentage:ce(rA),zero:$p(),number:ce(iA),integer:ce(sA),"custom-ident":XS,"custom-property-name":ZS,"hex-color":JS,"id-selector":tA,"an-plus-b":US,urange:GS,"declaration-value":eA,"any-value":nA};function lA(r){const{angle:t,decibel:e,frequency:n,flex:i,length:s,resolution:a,semitones:o,time:l}=r||{};return{dimension:ce(gn(null)),angle:ce(gn(t)),decibel:ce(gn(e)),frequency:ce(gn(n)),flex:ce(gn(i)),length:ce($p(gn(s))),resolution:ce(gn(a)),semitones:ce(gn(o)),time:ce(gn(l))}}function cA(r){return W(W(W({},aA),oA),lA(r))}const uA=["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],dA=["deg","grad","rad","turn"],hA=["s","ms"],fA=["hz","khz"],pA=["dpi","dpcm","dppx","x"],gA=["fr"],mA=["db"],bA=["st"],jp=Object.freeze(Object.defineProperty({__proto__:null,angle:dA,decibel:mA,flex:gA,frequency:fA,length:uA,resolution:pA,semitones:bA,time:hA},Symbol.toStringTag,{value:"Module"}));function yA(r,t,e){return Object.assign(Na("SyntaxError",r),{input:t,offset:e,rawMessage:r,message:r+`
  `+t+`
--`+new Array((e||t.length)+1).join("-")+"^"})}const vA=9,wA=10,xA=12,kA=13,SA=32;class AA{constructor(t){this.str=t,this.pos=0}charCodeAt(t){return t<this.str.length?this.str.charCodeAt(t):0}charCode(){return this.charCodeAt(this.pos)}nextCharCode(){return this.charCodeAt(this.pos+1)}nextNonWsCode(t){return this.charCodeAt(this.findWsEnd(t))}findWsEnd(t){for(;t<this.str.length;t++){const e=this.str.charCodeAt(t);if(e!==kA&&e!==wA&&e!==xA&&e!==SA&&e!==vA)break}return t}substringToPos(t){return this.str.substring(this.pos,this.pos=t)}eat(t){this.charCode()!==t&&this.error("Expect `"+String.fromCharCode(t)+"`"),this.pos++}peek(){return this.pos<this.str.length?this.str.charAt(this.pos++):""}error(t){throw new yA(t,this.str,this.pos)}}const EA=9,CA=10,TA=12,LA=13,DA=32,Fp=33,Dc=35,Hp=38,ja=39,Up=40,IA=41,Vp=42,Ic=43,Oc=44,Yp=45,Nc=60,Wp=62,Mc=63,OA=64,Fa=91,qc=93,Ha=123,Gp=124,Kp=125,Qp=8734,Gi=new Uint8Array(128).map((r,t)=>/[a-zA-Z0-9\-]/.test(String.fromCharCode(t))?1:0),Xp={" ":1,"&&":2,"||":3,"|":4};function Ua(r){return r.substringToPos(r.findWsEnd(r.pos))}function Zr(r){let t=r.pos;for(;t<r.str.length;t++){const e=r.str.charCodeAt(t);if(e>=128||Gi[e]===0)break}return r.pos===t&&r.error("Expect a keyword"),r.substringToPos(t)}function Va(r){let t=r.pos;for(;t<r.str.length;t++){const e=r.str.charCodeAt(t);if(e<48||e>57)break}return r.pos===t&&r.error("Expect a number"),r.substringToPos(t)}function NA(r){const t=r.str.indexOf("'",r.pos+1);return t===-1&&(r.pos=r.str.length,r.error("Expect an apostrophe")),r.substringToPos(t+1)}function Zp(r){let t=null,e=null;return r.eat(Ha),t=Va(r),r.charCode()===Oc?(r.pos++,r.charCode()!==Kp&&(e=Va(r))):e=t,r.eat(Kp),{min:Number(t),max:e?Number(e):0}}function MA(r){let t=null,e=!1;switch(r.charCode()){case Vp:r.pos++,t={min:0,max:0};break;case Ic:r.pos++,t={min:1,max:0};break;case Mc:r.pos++,t={min:0,max:1};break;case Dc:r.pos++,e=!0,r.charCode()===Ha?t=Zp(r):r.charCode()===Mc?(r.pos++,t={min:0,max:0}):t={min:1,max:0};break;case Ha:t=Zp(r);break;default:return null}return{type:"Multiplier",comma:e,min:t.min,max:t.max,term:null}}function Jr(r,t){const e=MA(r);return e!==null?(e.term=t,r.charCode()===Dc&&r.charCodeAt(r.pos-1)===Ic?Jr(r,e):e):t}function _c(r){const t=r.peek();return t===""?null:{type:"Token",value:t}}function qA(r){let t;return r.eat(Nc),r.eat(ja),t=Zr(r),r.eat(ja),r.eat(Wp),Jr(r,{type:"Property",name:t})}function _A(r){let t=null,e=null,n=1;return r.eat(Fa),r.charCode()===Yp&&(r.peek(),n=-1),n==-1&&r.charCode()===Qp?r.peek():(t=n*Number(Va(r)),Gi[r.charCode()]!==0&&(t+=Zr(r))),Ua(r),r.eat(Oc),Ua(r),r.charCode()===Qp?r.peek():(n=1,r.charCode()===Yp&&(r.peek(),n=-1),e=n*Number(Va(r)),Gi[r.charCode()]!==0&&(e+=Zr(r))),r.eat(qc),{type:"Range",min:t,max:e}}function RA(r){let t,e=null;return r.eat(Nc),t=Zr(r),r.charCode()===Up&&r.nextCharCode()===IA&&(r.pos+=2,t+="()"),r.charCodeAt(r.findWsEnd(r.pos))===Fa&&(Ua(r),e=_A(r)),r.eat(Wp),Jr(r,{type:"Type",name:t,opts:e})}function zA(r){const t=Zr(r);return r.charCode()===Up?(r.pos++,{type:"Function",name:t}):Jr(r,{type:"Keyword",name:t})}function BA(r,t){function e(i,s){return{type:"Group",terms:i,combinator:s,disallowEmpty:!1,explicit:!1}}let n;for(t=Object.keys(t).sort((i,s)=>Xp[i]-Xp[s]);t.length>0;){n=t.shift();let i=0,s=0;for(;i<r.length;i++){const a=r[i];a.type==="Combinator"&&(a.value===n?(s===-1&&(s=i-1),r.splice(i,1),i--):(s!==-1&&i-s>1&&(r.splice(s,i-s,e(r.slice(s,i),n)),i=s+1),s=-1))}s!==-1&&t.length&&r.splice(s,i-s,e(r.slice(s,i),n))}return n}function Jp(r){const t=[],e={};let n,i=null,s=r.pos;for(;n=$A(r);)n.type!=="Spaces"&&(n.type==="Combinator"?((i===null||i.type==="Combinator")&&(r.pos=s,r.error("Unexpected combinator")),e[n.value]=!0):i!==null&&i.type!=="Combinator"&&(e[" "]=!0,t.push({type:"Combinator",value:" "})),t.push(n),i=n,s=r.pos);return i!==null&&i.type==="Combinator"&&(r.pos-=s,r.error("Unexpected combinator")),{type:"Group",terms:t,combinator:BA(t,e)||" ",disallowEmpty:!1,explicit:!1}}function PA(r){let t;return r.eat(Fa),t=Jp(r),r.eat(qc),t.explicit=!0,r.charCode()===Fp&&(r.pos++,t.disallowEmpty=!0),t}function $A(r){let t=r.charCode();if(t<128&&Gi[t]===1)return zA(r);switch(t){case qc:break;case Fa:return Jr(r,PA(r));case Nc:return r.nextCharCode()===ja?qA(r):RA(r);case Gp:return{type:"Combinator",value:r.substringToPos(r.pos+(r.nextCharCode()===Gp?2:1))};case Hp:return r.pos++,r.eat(Hp),{type:"Combinator",value:"&&"};case Oc:return r.pos++,{type:"Comma"};case ja:return Jr(r,{type:"String",value:NA(r)});case DA:case EA:case CA:case LA:case TA:return{type:"Spaces",value:Ua(r)};case OA:return t=r.nextCharCode(),t<128&&Gi[t]===1?(r.pos++,{type:"AtKeyword",name:Zr(r)}):_c(r);case Vp:case Ic:case Mc:case Dc:case Fp:break;case Ha:if(t=r.nextCharCode(),t<48||t>57)return _c(r);break;default:return _c(r)}}function tg(r){const t=new AA(r),e=Jp(t);return t.pos!==r.length&&t.error("Unexpected input"),e.terms.length===1&&e.terms[0].type==="Group"?e.terms[0]:e}const Ki=function(){};function eg(r){return typeof r=="function"?r:Ki}function jA(r,t,e){function n(a){switch(i.call(e,a),a.type){case"Group":a.terms.forEach(n);break;case"Multiplier":n(a.term);break;case"Type":case"Property":case"Keyword":case"AtKeyword":case"Function":case"String":case"Token":case"Comma":break;default:throw new Error("Unknown type: "+a.type)}s.call(e,a)}let i=Ki,s=Ki;if(typeof t=="function"?i=t:t&&(i=eg(t.enter),s=eg(t.leave)),i===Ki&&s===Ki)throw new Error("Neither `enter` nor `leave` walker handler is set or both aren't a function");n(r)}const FA={decorator(r){const t=[];let e=null;return $t(W({},r),{node(n){const i=e;e=n,r.node.call(this,n),e=i},emit(n,i,s){t.push({type:i,value:n,node:s?null:e})},result(){return t}})}};function HA(r){const t=[];return Oa(r,(e,n,i)=>t.push({type:e,value:r.slice(n,i),node:null})),t}function UA(r,t){return typeof r=="string"?HA(r):t.generate(r,FA)}const et={type:"Match"},it={type:"Mismatch"},Rc={type:"DisallowEmpty"},VA=40,YA=41;function _t(r,t,e){return t===et&&e===it||r===et&&t===et&&e===et?r:(r.type==="If"&&r.else===it&&t===et&&(t=r.then,r=r.match),{type:"If",match:r,then:t,else:e})}function ng(r){return r.length>2&&r.charCodeAt(r.length-2)===VA&&r.charCodeAt(r.length-1)===YA}function rg(r){return r.type==="Keyword"||r.type==="AtKeyword"||r.type==="Function"||r.type==="Type"&&ng(r.name)}function zc(r,t,e){switch(r){case" ":{let n=et;for(let i=t.length-1;i>=0;i--){const s=t[i];n=_t(s,n,it)}return n}case"|":{let n=it,i=null;for(let s=t.length-1;s>=0;s--){let a=t[s];if(rg(a)&&(i===null&&s>0&&rg(t[s-1])&&(i=Object.create(null),n=_t({type:"Enum",map:i},et,n)),i!==null)){const o=(ng(a.name)?a.name.slice(0,-1):a.name).toLowerCase();if(!(o in i)){i[o]=a;continue}}i=null,n=_t(a,et,n)}return n}case"&&":{if(t.length>5)return{type:"MatchOnce",terms:t,all:!0};let n=it;for(let i=t.length-1;i>=0;i--){const s=t[i];let a;t.length>1?a=zc(r,t.filter(function(o){return o!==s}),!1):a=et,n=_t(s,a,n)}return n}case"||":{if(t.length>5)return{type:"MatchOnce",terms:t,all:!1};let n=e?et:it;for(let i=t.length-1;i>=0;i--){const s=t[i];let a;t.length>1?a=zc(r,t.filter(function(o){return o!==s}),!0):a=et,n=_t(s,a,n)}return n}}}function WA(r){let t=et,e=Bc(r.term);if(r.max===0)e=_t(e,Rc,it),t=_t(e,null,it),t.then=_t(et,et,t),r.comma&&(t.then.else=_t({type:"Comma",syntax:r},t,it));else for(let n=r.min||1;n<=r.max;n++)r.comma&&t!==et&&(t=_t({type:"Comma",syntax:r},t,it)),t=_t(e,_t(et,et,t),it);if(r.min===0)t=_t(et,et,t);else for(let n=0;n<r.min-1;n++)r.comma&&t!==et&&(t=_t({type:"Comma",syntax:r},t,it)),t=_t(e,t,it);return t}function Bc(r){if(typeof r=="function")return{type:"Generic",fn:r};switch(r.type){case"Group":{let t=zc(r.combinator,r.terms.map(Bc),!1);return r.disallowEmpty&&(t=_t(t,Rc,it)),t}case"Multiplier":return WA(r);case"Type":case"Property":return{type:r.type,name:r.name,syntax:r};case"Keyword":return{type:r.type,name:r.name.toLowerCase(),syntax:r};case"AtKeyword":return{type:r.type,name:"@"+r.name.toLowerCase(),syntax:r};case"Function":return{type:r.type,name:r.name.toLowerCase()+"(",syntax:r};case"String":return r.value.length===3?{type:"Token",value:r.value.charAt(1),syntax:r}:{type:r.type,value:r.value.substr(1,r.value.length-2).replace(/\\'/g,"'"),syntax:r};case"Token":return{type:r.type,value:r.value,syntax:r};case"Comma":return{type:r.type,syntax:r};default:throw new Error("Unknown node type:",r.type)}}function Pc(r,t){return typeof r=="string"&&(r=tg(r)),{type:"MatchGraph",match:Bc(r),syntax:t||null,source:r}}const{hasOwnProperty:ig}=Object.prototype,GA=0,KA=1,$c=2,sg=3,ag="Match",QA="Mismatch",XA="Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)",og=15e3;function ZA(r){let t=null,e=null,n=r;for(;n!==null;)e=n.prev,n.prev=t,t=n,n=e;return t}function jc(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++){const n=t.charCodeAt(e);let i=r.charCodeAt(e);if(i>=65&&i<=90&&(i=i|32),i!==n)return!1}return!0}function JA(r){return r.type!==X?!1:r.value!=="?"}function lg(r){return r===null?!0:r.type===Ge||r.type===Q||r.type===xt||r.type===Zt||r.type===qt||JA(r)}function cg(r){return r===null?!0:r.type===rt||r.type===Ee||r.type===ae||r.type===X&&r.value==="/"}function tE(r,t,e){function n(){do k++,v=k<r.length?r[k]:null;while(v!==null&&(v.type===pt||v.type===jt))}function i(T){const M=k+T;return M<r.length?r[M]:null}function s(T,M){return{nextState:T,matchStack:E,syntaxStack:h,thenStack:f,tokenIndex:k,prev:M}}function a(T){f={nextState:T,matchStack:E,syntaxStack:h,prev:f}}function o(T){p=s(T,p)}function l(){E={type:KA,syntax:t.syntax,token:v,prev:E},n(),m=null,k>A&&(A=k)}function c(){h={syntax:t.syntax,opts:t.syntax.opts||h!==null&&h.opts||null,prev:h},E={type:$c,syntax:t.syntax,token:E.token,prev:E}}function u(){E.type===$c?E=E.prev:E={type:sg,syntax:h.syntax,token:E.token,prev:E},h=h.prev}let h=null,f=null,p=null,m=null,b=0,w=null,v=null,k=-1,A=0,E={type:GA,syntax:null,token:null,prev:null};for(n();w===null&&++b<og;)switch(t.type){case"Match":if(f===null){if(v!==null&&(k!==r.length-1||v.value!=="\\0"&&v.value!=="\\9")){t=it;break}w=ag;break}if(t=f.nextState,t===Rc)if(f.matchStack===E){t=it;break}else t=et;for(;f.syntaxStack!==h;)u();f=f.prev;break;case"Mismatch":if(m!==null&&m!==!1)(p===null||k>p.tokenIndex)&&(p=m,m=!1);else if(p===null){w=QA;break}t=p.nextState,f=p.thenStack,h=p.syntaxStack,E=p.matchStack,k=p.tokenIndex,v=k<r.length?r[k]:null,p=p.prev;break;case"MatchGraph":t=t.match;break;case"If":t.else!==it&&o(t.else),t.then!==et&&a(t.then),t=t.match;break;case"MatchOnce":t={type:"MatchOnceBuffer",syntax:t,index:0,mask:0};break;case"MatchOnceBuffer":{const N=t.syntax.terms;if(t.index===N.length){if(t.mask===0||t.syntax.all){t=it;break}t=et;break}if(t.mask===(1<<N.length)-1){t=et;break}for(;t.index<N.length;t.index++){const S=1<<t.index;if(!(t.mask&S)){o(t),a({type:"AddMatchOnce",syntax:t.syntax,mask:t.mask|S}),t=N[t.index++];break}}break}case"AddMatchOnce":t={type:"MatchOnceBuffer",syntax:t.syntax,index:0,mask:t.mask};break;case"Enum":if(v!==null){let N=v.value.toLowerCase();if(N.indexOf("\\")!==-1&&(N=N.replace(/\\[09].*$/,"")),ig.call(t.map,N)){t=t.map[N];break}}t=it;break;case"Generic":{const N=h!==null?h.opts:null,S=k+Math.floor(t.fn(v,i,N));if(!isNaN(S)&&S>k){for(;k<S;)l();t=et}else t=it;break}case"Type":case"Property":{const N=t.type==="Type"?"types":"properties",S=ig.call(e,N)?e[N][t.name]:null;if(!S||!S.match)throw new Error("Bad syntax reference: "+(t.type==="Type"?"<"+t.name+">":"<'"+t.name+"'>"));if(m!==!1&&v!==null&&t.type==="Type"&&(t.name==="custom-ident"&&v.type===R||t.name==="length"&&v.value==="0")){m===null&&(m=s(t,p)),t=it;break}c(),t=S.match;break}case"Keyword":{const N=t.name;if(v!==null){let S=v.value;if(S.indexOf("\\")!==-1&&(S=S.replace(/\\[09].*$/,"")),jc(S,N)){l(),t=et;break}}t=it;break}case"AtKeyword":case"Function":if(v!==null&&jc(v.value,t.name)){l(),t=et;break}t=it;break;case"Token":if(v!==null&&v.value===t.value){l(),t=et;break}t=it;break;case"Comma":v!==null&&v.type===Ge?lg(E.token)?t=it:(l(),t=cg(v)?it:et):t=lg(E.token)||cg(v)?et:it;break;case"String":let T="",M=k;for(;M<r.length&&T.length<t.value.length;M++)T+=r[M].value;if(jc(T,t.value)){for(;k<M;)l();t=et}else t=it;break;default:throw new Error("Unknown node type: "+t.type)}switch(w){case null:console.warn("[csstree-match] BREAK after "+og+" iterations"),w=XA,E=null;break;case ag:for(;h!==null;)u();break;default:E=null}return{tokens:r,reason:w,iterations:b,match:E,longestMatch:A}}function ug(r,t,e){const n=tE(r,t,e||{});if(n.match===null)return n;let i=n.match,s=n.match={syntax:t.syntax||null,match:[]};const a=[s];for(i=ZA(i).prev;i!==null;){switch(i.type){case $c:s.match.push(s={syntax:i.syntax,match:[]}),a.push(s);break;case sg:a.pop(),s=a[a.length-1];break;default:s.match.push({syntax:i.syntax||null,token:i.token.value,node:i.token.node})}i=i.prev}return n}function dg(r){function t(i){return i===null?!1:i.type==="Type"||i.type==="Property"||i.type==="Keyword"}function e(i){if(Array.isArray(i.match)){for(let s=0;s<i.match.length;s++)if(e(i.match[s]))return t(i.syntax)&&n.unshift(i.syntax),!0}else if(i.node===r)return n=t(i.syntax)?[i.syntax]:[],!0;return!1}let n=null;return this.matched!==null&&e(this.matched),n}function eE(r,t){return Fc(this,r,e=>e.type==="Type"&&e.name===t)}function nE(r,t){return Fc(this,r,e=>e.type==="Property"&&e.name===t)}function rE(r){return Fc(this,r,t=>t.type==="Keyword")}function Fc(r,t,e){const n=dg.call(r,t);return n===null?!1:n.some(e)}const iE=Object.freeze(Object.defineProperty({__proto__:null,getTrace:dg,isKeyword:rE,isProperty:nE,isType:eE},Symbol.toStringTag,{value:"Module"}));function hg(r){return"node"in r?r.node:hg(r.match[0])}function fg(r){return"node"in r?r.node:fg(r.match[r.match.length-1])}function pg(r,t,e,n,i){function s(o){if(o.syntax!==null&&o.syntax.type===n&&o.syntax.name===i){const l=hg(o),c=fg(o);r.syntax.walk(t,function(u,h,f){if(u===l){const p=new yt;do{if(p.appendData(h.data),h.data===c)break;h=h.next}while(h!==null);a.push({parent:f,nodes:p})}})}Array.isArray(o.match)&&o.match.forEach(s)}const a=[];return e.matched!==null&&s(e.matched),a}const{hasOwnProperty:Qi}=Object.prototype;function Hc(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r&&r>=0}function gg(r){return!!r&&Hc(r.offset)&&Hc(r.line)&&Hc(r.column)}function sE(r,t){return function(e,n){if(!e||e.constructor!==Object)return n(e,"Type of node should be an Object");for(let i in e){let s=!0;if(Qi.call(e,i)!==!1){if(i==="type")e.type!==r&&n(e,"Wrong node type `"+e.type+"`, expected `"+r+"`");else if(i==="loc"){if(e.loc===null)continue;if(e.loc&&e.loc.constructor===Object)if(typeof e.loc.source!="string")i+=".source";else if(!gg(e.loc.start))i+=".start";else if(!gg(e.loc.end))i+=".end";else continue;s=!1}else if(t.hasOwnProperty(i)){s=!1;for(let a=0;!s&&a<t[i].length;a++){const o=t[i][a];switch(o){case String:s=typeof e[i]=="string";break;case Boolean:s=typeof e[i]=="boolean";break;case null:s=e[i]===null;break;default:typeof o=="string"?s=e[i]&&e[i].type===o:Array.isArray(o)&&(s=e[i]instanceof yt)}}}else n(e,"Unknown field `"+i+"` for "+r+" node type");s||n(e,"Bad value for `"+r+"."+i+"`")}}for(const i in t)Qi.call(t,i)&&Qi.call(e,i)===!1&&n(e,"Field `"+r+"."+i+"` is missed")}}function aE(r,t){const e=t.structure,n={type:String,loc:!0},i={type:'"'+r+'"'};for(const s in e){if(Qi.call(e,s)===!1)continue;const a=[],o=n[s]=Array.isArray(e[s])?e[s].slice():[e[s]];for(let l=0;l<o.length;l++){const c=o[l];if(c===String||c===Boolean)a.push(c.name);else if(c===null)a.push("null");else if(typeof c=="string")a.push("<"+c+">");else if(Array.isArray(c))a.push("List");else throw new Error("Wrong value `"+c+"` in `"+r+"."+s+"` structure definition")}i[s]=a.join(" | ")}return{docs:i,check:sE(r,n)}}function oE(r){const t={};if(r.node){for(const e in r.node)if(Qi.call(r.node,e)){const n=r.node[e];if(n.structure)t[e]=aE(e,n);else throw new Error("Missed `structure` field in `"+e+"` node type definition")}}return t}const lE=Pc(qp.join(" | "));function Uc(r,t,e){const n={};for(const i in r)r[i].syntax&&(n[i]=e?r[i].syntax:xc(r[i].syntax,{compact:t}));return n}function cE(r,t,e){const n={};for(const[i,s]of Object.entries(r))n[i]={prelude:s.prelude&&(e?s.prelude.syntax:xc(s.prelude.syntax,{compact:t})),descriptors:s.descriptors&&Uc(s.descriptors,t,e)};return n}function uE(r){for(let t=0;t<r.length;t++)if(r[t].value.toLowerCase()==="var(")return!0;return!1}function Te(r,t,e){return W({matched:r,iterations:e,error:t},iE)}function ti(r,t,e,n){const i=UA(e,r.syntax);let s;return uE(i)?Te(null,new Error("Matching for a tree with var() is not supported")):(n&&(s=ug(i,r.cssWideKeywordsSyntax,r)),(!n||!s.match)&&(s=ug(i,t.match,r),!s.match)?Te(null,new $S(s.reason,t.syntax,e,s),s.iterations):Te(s.match,null,s.iterations))}class mg{constructor(t,e,n){if(this.cssWideKeywordsSyntax=lE,this.syntax=e,this.generic=!1,this.units=W({},jp),this.atrules=Object.create(null),this.properties=Object.create(null),this.types=Object.create(null),this.structure=n||oE(t),t){if(t.units)for(const i of Object.keys(jp))Array.isArray(t.units[i])&&(this.units[i]=t.units[i]);if(t.types)for(const i in t.types)this.addType_(i,t.types[i]);if(t.generic){this.generic=!0;for(const[i,s]of Object.entries(cA(this.units)))this.addType_(i,s)}if(t.atrules)for(const i in t.atrules)this.addAtrule_(i,t.atrules[i]);if(t.properties)for(const i in t.properties)this.addProperty_(i,t.properties[i])}}checkStructure(t){function e(s,a){i.push({node:s,message:a})}const n=this.structure,i=[];return this.syntax.walk(t,function(s){n.hasOwnProperty(s.type)?n[s.type].check(s,e):e(s,"Unknown node type `"+s.type+"`")}),i.length?i:!1}createDescriptor(t,e,n,i=null){const s={type:e,name:n},a={type:e,name:n,parent:i,serializable:typeof t=="string"||t&&typeof t.type=="string",syntax:null,match:null};return typeof t=="function"?a.match=Pc(t,s):(typeof t=="string"?Object.defineProperty(a,"syntax",{get(){return Object.defineProperty(a,"syntax",{value:tg(t)}),a.syntax}}):a.syntax=t,Object.defineProperty(a,"match",{get(){return Object.defineProperty(a,"match",{value:Pc(a.syntax,s)}),a.match}})),a}addAtrule_(t,e){e&&(this.atrules[t]={type:"Atrule",name:t,prelude:e.prelude?this.createDescriptor(e.prelude,"AtrulePrelude",t):null,descriptors:e.descriptors?Object.keys(e.descriptors).reduce((n,i)=>(n[i]=this.createDescriptor(e.descriptors[i],"AtruleDescriptor",i,t),n),Object.create(null)):null})}addProperty_(t,e){e&&(this.properties[t]=this.createDescriptor(e,"Property",t))}addType_(t,e){e&&(this.types[t]=this.createDescriptor(e,"Type",t))}checkAtruleName(t){if(!this.getAtrule(t))return new Ui("Unknown at-rule","@"+t)}checkAtrulePrelude(t,e){const n=this.checkAtruleName(t);if(n)return n;const i=this.getAtrule(t);if(!i.prelude&&e)return new SyntaxError("At-rule `@"+t+"` should not contain a prelude");if(i.prelude&&!e&&!ti(this,i.prelude,"",!1).matched)return new SyntaxError("At-rule `@"+t+"` should contain a prelude")}checkAtruleDescriptorName(t,e){const n=this.checkAtruleName(t);if(n)return n;const i=this.getAtrule(t),s=kc(e);if(!i.descriptors)return new SyntaxError("At-rule `@"+t+"` has no known descriptors");if(!i.descriptors[s.name]&&!i.descriptors[s.basename])return new Ui("Unknown at-rule descriptor",e)}checkPropertyName(t){if(!this.getProperty(t))return new Ui("Unknown property",t)}matchAtrulePrelude(t,e){const n=this.checkAtrulePrelude(t,e);if(n)return Te(null,n);const i=this.getAtrule(t);return i.prelude?ti(this,i.prelude,e||"",!1):Te(null,null)}matchAtruleDescriptor(t,e,n){const i=this.checkAtruleDescriptorName(t,e);if(i)return Te(null,i);const s=this.getAtrule(t),a=kc(e);return ti(this,s.descriptors[a.name]||s.descriptors[a.basename],n,!1)}matchDeclaration(t){return t.type!=="Declaration"?Te(null,new Error("Not a Declaration node")):this.matchProperty(t.property,t.value)}matchProperty(t,e){if(Np(t).custom)return Te(null,new Error("Lexer matching doesn't applicable for custom properties"));const n=this.checkPropertyName(t);return n?Te(null,n):ti(this,this.getProperty(t),e,!0)}matchType(t,e){const n=this.getType(t);return n?ti(this,n,e,!1):Te(null,new Ui("Unknown type",t))}match(t,e){return typeof t!="string"&&(!t||!t.type)?Te(null,new Ui("Bad syntax")):((typeof t=="string"||!t.match)&&(t=this.createDescriptor(t,"Type","anonymous")),ti(this,t,e,!1))}findValueFragments(t,e,n,i){return pg(this,e,this.matchProperty(t,e),n,i)}findDeclarationValueFragments(t,e,n){return pg(this,t.value,this.matchDeclaration(t),e,n)}findAllFragments(t,e,n){const i=[];return this.syntax.walk(t,{visit:"Declaration",enter:s=>{i.push.apply(i,this.findDeclarationValueFragments(s,e,n))}}),i}getAtrule(t,e=!0){const n=kc(t);return(n.vendor&&e?this.atrules[n.name]||this.atrules[n.basename]:this.atrules[n.name])||null}getAtrulePrelude(t,e=!0){const n=this.getAtrule(t,e);return n&&n.prelude||null}getAtruleDescriptor(t,e){return this.atrules.hasOwnProperty(t)&&this.atrules.declarators&&this.atrules[t].declarators[e]||null}getProperty(t,e=!0){const n=Np(t);return(n.vendor&&e?this.properties[n.name]||this.properties[n.basename]:this.properties[n.name])||null}getType(t){return hasOwnProperty.call(this.types,t)?this.types[t]:null}validate(){function t(i,s,a,o){if(a.has(s))return a.get(s);a.set(s,!1),o.syntax!==null&&jA(o.syntax,function(l){if(l.type!=="Type"&&l.type!=="Property")return;const c=l.type==="Type"?i.types:i.properties,u=l.type==="Type"?e:n;(!hasOwnProperty.call(c,l.name)||t(i,l.name,u,c[l.name]))&&a.set(s,!0)},this)}let e=new Map,n=new Map;for(const i in this.types)t(this,i,e,this.types[i]);for(const i in this.properties)t(this,i,n,this.properties[i]);return e=[...e.keys()].filter(i=>e.get(i)),n=[...n.keys()].filter(i=>n.get(i)),e.length||n.length?{types:e,properties:n}:null}dump(t,e){return{generic:this.generic,units:this.units,types:Uc(this.types,!e,t),properties:Uc(this.properties,!e,t),atrules:cE(this.atrules,!e,t)}}toString(){return JSON.stringify(this.dump())}}function Vc(r,t){return typeof t=="string"&&/^\s*\|/.test(t)?typeof r=="string"?r+t:t.replace(/^\s*\|\s*/,""):t||null}function bg(r,t){const e=Object.create(null);for(const[n,i]of Object.entries(r))if(i){e[n]={};for(const s of Object.keys(i))t.includes(s)&&(e[n][s]=i[s])}return e}function Yc(r,t){const e=W({},r);for(const[n,i]of Object.entries(t))switch(n){case"generic":e[n]=!!i;break;case"units":e[n]=W({},r[n]);for(const[s,a]of Object.entries(i))e[n][s]=Array.isArray(a)?a:[];break;case"atrules":e[n]=W({},r[n]);for(const[s,a]of Object.entries(i)){const o=e[n][s]||{},l=e[n][s]={prelude:o.prelude||null,descriptors:W({},o.descriptors)};if(a){l.prelude=a.prelude?Vc(l.prelude,a.prelude):l.prelude||null;for(const[c,u]of Object.entries(a.descriptors||{}))l.descriptors[c]=u?Vc(l.descriptors[c],u):null;Object.keys(l.descriptors).length||(l.descriptors=null)}}break;case"types":case"properties":e[n]=W({},r[n]);for(const[s,a]of Object.entries(i))e[n][s]=Vc(e[n][s],a);break;case"scope":e[n]=W({},r[n]);for(const[s,a]of Object.entries(i))e[n][s]=W(W({},e[n][s]),a);break;case"parseContext":e[n]=W(W({},r[n]),i);break;case"atrule":case"pseudo":e[n]=W(W({},r[n]),bg(i,["parse"]));break;case"node":e[n]=W(W({},r[n]),bg(i,["name","structure","parse","generate","walkContext"]));break}return e}function yg(r){const t=mS(r),e=qS(r),n=IS(r),{fromPlainObject:i,toPlainObject:s}=OS(e),a={lexer:null,createLexer:o=>new mg(o,a,a.lexer.structure),tokenize:Oa,parse:t,generate:n,walk:e,find:e.find,findLast:e.findLast,findAll:e.findAll,fromPlainObject:i,toPlainObject:s,fork(o){const l=Yc({},r);return yg(typeof o=="function"?o(l,Object.assign):Yc(l,o))}};return a.lexer=new mg({generic:!0,units:r.units,types:r.types,atrules:r.atrules,properties:r.properties,node:r.node},a),a}const dE=r=>yg(Yc({},r)),hE={generic:!0,units:{angle:["deg","grad","rad","turn"],decibel:["db"],flex:["fr"],frequency:["hz","khz"],length:["cm","mm","q","in","pt","pc","px","em","rem","ex","rex","cap","rcap","ch","rch","ic","ric","lh","rlh","vw","svw","lvw","dvw","vh","svh","lvh","dvh","vi","svi","lvi","dvi","vb","svb","lvb","dvb","vmin","svmin","lvmin","dvmin","vmax","svmax","lvmax","dvmax","cqw","cqh","cqi","cqb","cqmin","cqmax"],resolution:["dpi","dpcm","dppx","x"],semitones:["st"],time:["s","ms"]},types:{"abs()":"abs( <calc-sum> )","absolute-size":"xx-small|x-small|small|medium|large|x-large|xx-large|xxx-large","acos()":"acos( <calc-sum> )","alpha-value":"<number>|<percentage>","angle-percentage":"<angle>|<percentage>","angular-color-hint":"<angle-percentage>","angular-color-stop":"<color>&&<color-stop-angle>?","angular-color-stop-list":"[<angular-color-stop> [, <angular-color-hint>]?]# , <angular-color-stop>","animateable-feature":"scroll-position|contents|<custom-ident>","asin()":"asin( <calc-sum> )","atan()":"atan( <calc-sum> )","atan2()":"atan2( <calc-sum> , <calc-sum> )",attachment:"scroll|fixed|local","attr()":"attr( <attr-name> <type-or-unit>? [, <attr-fallback>]? )","attr-matcher":"['~'|'|'|'^'|'$'|'*']? '='","attr-modifier":"i|s","attribute-selector":"'[' <wq-name> ']'|'[' <wq-name> <attr-matcher> [<string-token>|<ident-token>] <attr-modifier>? ']'","auto-repeat":"repeat( [auto-fill|auto-fit] , [<line-names>? <fixed-size>]+ <line-names>? )","auto-track-list":"[<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>? <auto-repeat> [<line-names>? [<fixed-size>|<fixed-repeat>]]* <line-names>?",axis:"block|inline|vertical|horizontal","baseline-position":"[first|last]? baseline","basic-shape":"<inset()>|<circle()>|<ellipse()>|<polygon()>|<path()>","bg-image":"none|<image>","bg-layer":"<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","bg-position":"[[left|center|right|top|bottom|<length-percentage>]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]|[center|[left|right] <length-percentage>?]&&[center|[top|bottom] <length-percentage>?]]","bg-size":"[<length-percentage>|auto]{1,2}|cover|contain","blur()":"blur( <length> )","blend-mode":"normal|multiply|screen|overlay|darken|lighten|color-dodge|color-burn|hard-light|soft-light|difference|exclusion|hue|saturation|color|luminosity",box:"border-box|padding-box|content-box","brightness()":"brightness( <number-percentage> )","calc()":"calc( <calc-sum> )","calc-sum":"<calc-product> [['+'|'-'] <calc-product>]*","calc-product":"<calc-value> ['*' <calc-value>|'/' <number>]*","calc-value":"<number>|<dimension>|<percentage>|<calc-constant>|( <calc-sum> )","calc-constant":"e|pi|infinity|-infinity|NaN","cf-final-image":"<image>|<color>","cf-mixing-image":"<percentage>?&&<image>","circle()":"circle( [<shape-radius>]? [at <position>]? )","clamp()":"clamp( <calc-sum>#{3} )","class-selector":"'.' <ident-token>","clip-source":"<url>",color:"<rgb()>|<rgba()>|<hsl()>|<hsla()>|<hwb()>|<lab()>|<lch()>|<hex-color>|<named-color>|currentcolor|<deprecated-system-color>","color-stop":"<color-stop-length>|<color-stop-angle>","color-stop-angle":"<angle-percentage>{1,2}","color-stop-length":"<length-percentage>{1,2}","color-stop-list":"[<linear-color-stop> [, <linear-color-hint>]?]# , <linear-color-stop>",combinator:"'>'|'+'|'~'|['||']","common-lig-values":"[common-ligatures|no-common-ligatures]","compat-auto":"searchfield|textarea|push-button|slider-horizontal|checkbox|radio|square-button|menulist|listbox|meter|progress-bar|button","composite-style":"clear|copy|source-over|source-in|source-out|source-atop|destination-over|destination-in|destination-out|destination-atop|xor","compositing-operator":"add|subtract|intersect|exclude","compound-selector":"[<type-selector>? <subclass-selector>* [<pseudo-element-selector> <pseudo-class-selector>*]*]!","compound-selector-list":"<compound-selector>#","complex-selector":"<compound-selector> [<combinator>? <compound-selector>]*","complex-selector-list":"<complex-selector>#","conic-gradient()":"conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","contextual-alt-values":"[contextual|no-contextual]","content-distribution":"space-between|space-around|space-evenly|stretch","content-list":"[<string>|contents|<image>|<counter>|<quote>|<target>|<leader()>|<attr()>]+","content-position":"center|start|end|flex-start|flex-end","content-replacement":"<image>","contrast()":"contrast( [<number-percentage>] )","cos()":"cos( <calc-sum> )",counter:"<counter()>|<counters()>","counter()":"counter( <counter-name> , <counter-style>? )","counter-name":"<custom-ident>","counter-style":"<counter-style-name>|symbols( )","counter-style-name":"<custom-ident>","counters()":"counters( <counter-name> , <string> , <counter-style>? )","cross-fade()":"cross-fade( <cf-mixing-image> , <cf-final-image>? )","cubic-bezier-timing-function":"ease|ease-in|ease-out|ease-in-out|cubic-bezier( <number [0,1]> , <number> , <number [0,1]> , <number> )","deprecated-system-color":"ActiveBorder|ActiveCaption|AppWorkspace|Background|ButtonFace|ButtonHighlight|ButtonShadow|ButtonText|CaptionText|GrayText|Highlight|HighlightText|InactiveBorder|InactiveCaption|InactiveCaptionText|InfoBackground|InfoText|Menu|MenuText|Scrollbar|ThreeDDarkShadow|ThreeDFace|ThreeDHighlight|ThreeDLightShadow|ThreeDShadow|Window|WindowFrame|WindowText","discretionary-lig-values":"[discretionary-ligatures|no-discretionary-ligatures]","display-box":"contents|none","display-inside":"flow|flow-root|table|flex|grid|ruby","display-internal":"table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption|ruby-base|ruby-text|ruby-base-container|ruby-text-container","display-legacy":"inline-block|inline-list-item|inline-table|inline-flex|inline-grid","display-listitem":"<display-outside>?&&[flow|flow-root]?&&list-item","display-outside":"block|inline|run-in","drop-shadow()":"drop-shadow( <length>{2,3} <color>? )","east-asian-variant-values":"[jis78|jis83|jis90|jis04|simplified|traditional]","east-asian-width-values":"[full-width|proportional-width]","element()":"element( <custom-ident> , [first|start|last|first-except]? )|element( <id-selector> )","ellipse()":"ellipse( [<shape-radius>{2}]? [at <position>]? )","ending-shape":"circle|ellipse","env()":"env( <custom-ident> , <declaration-value>? )","exp()":"exp( <calc-sum> )","explicit-track-list":"[<line-names>? <track-size>]+ <line-names>?","family-name":"<string>|<custom-ident>+","feature-tag-value":"<string> [<integer>|on|off]?","feature-type":"@stylistic|@historical-forms|@styleset|@character-variant|@swash|@ornaments|@annotation","feature-value-block":"<feature-type> '{' <feature-value-declaration-list> '}'","feature-value-block-list":"<feature-value-block>+","feature-value-declaration":"<custom-ident> : <integer>+ ;","feature-value-declaration-list":"<feature-value-declaration>","feature-value-name":"<custom-ident>","fill-rule":"nonzero|evenodd","filter-function":"<blur()>|<brightness()>|<contrast()>|<drop-shadow()>|<grayscale()>|<hue-rotate()>|<invert()>|<opacity()>|<saturate()>|<sepia()>","filter-function-list":"[<filter-function>|<url>]+","final-bg-layer":"<'background-color'>||<bg-image>||<bg-position> [/ <bg-size>]?||<repeat-style>||<attachment>||<box>||<box>","fixed-breadth":"<length-percentage>","fixed-repeat":"repeat( [<integer [1,∞]>] , [<line-names>? <fixed-size>]+ <line-names>? )","fixed-size":"<fixed-breadth>|minmax( <fixed-breadth> , <track-breadth> )|minmax( <inflexible-breadth> , <fixed-breadth> )","font-stretch-absolute":"normal|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded|<percentage>","font-variant-css21":"[normal|small-caps]","font-weight-absolute":"normal|bold|<number [1,1000]>","frequency-percentage":"<frequency>|<percentage>","general-enclosed":"[<function-token> <any-value> )]|( <ident> <any-value> )","generic-family":"serif|sans-serif|cursive|fantasy|monospace|-apple-system","generic-name":"serif|sans-serif|cursive|fantasy|monospace","geometry-box":"<shape-box>|fill-box|stroke-box|view-box",gradient:"<linear-gradient()>|<repeating-linear-gradient()>|<radial-gradient()>|<repeating-radial-gradient()>|<conic-gradient()>|<repeating-conic-gradient()>|<-legacy-gradient>","grayscale()":"grayscale( <number-percentage> )","grid-line":"auto|<custom-ident>|[<integer>&&<custom-ident>?]|[span&&[<integer>||<custom-ident>]]","historical-lig-values":"[historical-ligatures|no-historical-ligatures]","hsl()":"hsl( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsl( <hue> , <percentage> , <percentage> , <alpha-value>? )","hsla()":"hsla( <hue> <percentage> <percentage> [/ <alpha-value>]? )|hsla( <hue> , <percentage> , <percentage> , <alpha-value>? )",hue:"<number>|<angle>","hue-rotate()":"hue-rotate( <angle> )","hwb()":"hwb( [<hue>|none] [<percentage>|none] [<percentage>|none] [/ [<alpha-value>|none]]? )","hypot()":"hypot( <calc-sum># )",image:"<url>|<image()>|<image-set()>|<element()>|<paint()>|<cross-fade()>|<gradient>","image()":"image( <image-tags>? [<image-src>? , <color>?]! )","image-set()":"image-set( <image-set-option># )","image-set-option":"[<image>|<string>] [<resolution>||type( <string> )]","image-src":"<url>|<string>","image-tags":"ltr|rtl","inflexible-breadth":"<length-percentage>|min-content|max-content|auto","inset()":"inset( <length-percentage>{1,4} [round <'border-radius'>]? )","invert()":"invert( <number-percentage> )","keyframes-name":"<custom-ident>|<string>","keyframe-block":"<keyframe-selector># { <declaration-list> }","keyframe-block-list":"<keyframe-block>+","keyframe-selector":"from|to|<percentage>","lab()":"lab( [<percentage>|<number>|none] [<percentage>|<number>|none] [<percentage>|<number>|none] [/ [<alpha-value>|none]]? )","layer()":"layer( <layer-name> )","layer-name":"<ident> ['.' <ident>]*","lch()":"lch( [<percentage>|<number>|none] [<percentage>|<number>|none] [<hue>|none] [/ [<alpha-value>|none]]? )","leader()":"leader( <leader-type> )","leader-type":"dotted|solid|space|<string>","length-percentage":"<length>|<percentage>","line-names":"'[' <custom-ident>* ']'","line-name-list":"[<line-names>|<name-repeat>]+","line-style":"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset","line-width":"<length>|thin|medium|thick","linear-color-hint":"<length-percentage>","linear-color-stop":"<color> <color-stop-length>?","linear-gradient()":"linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","log()":"log( <calc-sum> , <calc-sum>? )","mask-layer":"<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||<geometry-box>||[<geometry-box>|no-clip]||<compositing-operator>||<masking-mode>","mask-position":"[<length-percentage>|left|center|right] [<length-percentage>|top|center|bottom]?","mask-reference":"none|<image>|<mask-source>","mask-source":"<url>","masking-mode":"alpha|luminance|match-source","matrix()":"matrix( <number>#{6} )","matrix3d()":"matrix3d( <number>#{16} )","max()":"max( <calc-sum># )","media-and":"<media-in-parens> [and <media-in-parens>]+","media-condition":"<media-not>|<media-and>|<media-or>|<media-in-parens>","media-condition-without-or":"<media-not>|<media-and>|<media-in-parens>","media-feature":"( [<mf-plain>|<mf-boolean>|<mf-range>] )","media-in-parens":"( <media-condition> )|<media-feature>|<general-enclosed>","media-not":"not <media-in-parens>","media-or":"<media-in-parens> [or <media-in-parens>]+","media-query":"<media-condition>|[not|only]? <media-type> [and <media-condition-without-or>]?","media-query-list":"<media-query>#","media-type":"<ident>","mf-boolean":"<mf-name>","mf-name":"<ident>","mf-plain":"<mf-name> : <mf-value>","mf-range":"<mf-name> ['<'|'>']? '='? <mf-value>|<mf-value> ['<'|'>']? '='? <mf-name>|<mf-value> '<' '='? <mf-name> '<' '='? <mf-value>|<mf-value> '>' '='? <mf-name> '>' '='? <mf-value>","mf-value":"<number>|<dimension>|<ident>|<ratio>","min()":"min( <calc-sum># )","minmax()":"minmax( [<length-percentage>|min-content|max-content|auto] , [<length-percentage>|<flex>|min-content|max-content|auto] )","mod()":"mod( <calc-sum> , <calc-sum> )","name-repeat":"repeat( [<integer [1,∞]>|auto-fill] , <line-names>+ )","named-color":"transparent|aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen|<-non-standard-color>","namespace-prefix":"<ident>","ns-prefix":"[<ident-token>|'*']? '|'","number-percentage":"<number>|<percentage>","numeric-figure-values":"[lining-nums|oldstyle-nums]","numeric-fraction-values":"[diagonal-fractions|stacked-fractions]","numeric-spacing-values":"[proportional-nums|tabular-nums]",nth:"<an-plus-b>|even|odd","opacity()":"opacity( [<number-percentage>] )","overflow-position":"unsafe|safe","outline-radius":"<length>|<percentage>","page-body":"<declaration>? [; <page-body>]?|<page-margin-box> <page-body>","page-margin-box":"<page-margin-box-type> '{' <declaration-list> '}'","page-margin-box-type":"@top-left-corner|@top-left|@top-center|@top-right|@top-right-corner|@bottom-left-corner|@bottom-left|@bottom-center|@bottom-right|@bottom-right-corner|@left-top|@left-middle|@left-bottom|@right-top|@right-middle|@right-bottom","page-selector-list":"[<page-selector>#]?","page-selector":"<pseudo-page>+|<ident> <pseudo-page>*","page-size":"A5|A4|A3|B5|B4|JIS-B5|JIS-B4|letter|legal|ledger","path()":"path( [<fill-rule> ,]? <string> )","paint()":"paint( <ident> , <declaration-value>? )","perspective()":"perspective( [<length [0,∞]>|none] )","polygon()":"polygon( <fill-rule>? , [<length-percentage> <length-percentage>]# )",position:"[[left|center|right]||[top|center|bottom]|[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]?|[[left|right] <length-percentage>]&&[[top|bottom] <length-percentage>]]","pow()":"pow( <calc-sum> , <calc-sum> )","pseudo-class-selector":"':' <ident-token>|':' <function-token> <any-value> ')'","pseudo-element-selector":"':' <pseudo-class-selector>","pseudo-page":": [left|right|first|blank]",quote:"open-quote|close-quote|no-open-quote|no-close-quote","radial-gradient()":"radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )",ratio:"<number [0,∞]> [/ <number [0,∞]>]?","relative-selector":"<combinator>? <complex-selector>","relative-selector-list":"<relative-selector>#","relative-size":"larger|smaller","rem()":"rem( <calc-sum> , <calc-sum> )","repeat-style":"repeat-x|repeat-y|[repeat|space|round|no-repeat]{1,2}","repeating-conic-gradient()":"repeating-conic-gradient( [from <angle>]? [at <position>]? , <angular-color-stop-list> )","repeating-linear-gradient()":"repeating-linear-gradient( [<angle>|to <side-or-corner>]? , <color-stop-list> )","repeating-radial-gradient()":"repeating-radial-gradient( [<ending-shape>||<size>]? [at <position>]? , <color-stop-list> )","reversed-counter-name":"reversed( <counter-name> )","rgb()":"rgb( <percentage>{3} [/ <alpha-value>]? )|rgb( <number>{3} [/ <alpha-value>]? )|rgb( <percentage>#{3} , <alpha-value>? )|rgb( <number>#{3} , <alpha-value>? )","rgba()":"rgba( <percentage>{3} [/ <alpha-value>]? )|rgba( <number>{3} [/ <alpha-value>]? )|rgba( <percentage>#{3} , <alpha-value>? )|rgba( <number>#{3} , <alpha-value>? )","rotate()":"rotate( [<angle>|<zero>] )","rotate3d()":"rotate3d( <number> , <number> , <number> , [<angle>|<zero>] )","rotateX()":"rotateX( [<angle>|<zero>] )","rotateY()":"rotateY( [<angle>|<zero>] )","rotateZ()":"rotateZ( [<angle>|<zero>] )","round()":"round( <rounding-strategy>? , <calc-sum> , <calc-sum> )","rounding-strategy":"nearest|up|down|to-zero","saturate()":"saturate( <number-percentage> )","scale()":"scale( [<number>|<percentage>]#{1,2} )","scale3d()":"scale3d( [<number>|<percentage>]#{3} )","scaleX()":"scaleX( [<number>|<percentage>] )","scaleY()":"scaleY( [<number>|<percentage>] )","scaleZ()":"scaleZ( [<number>|<percentage>] )",scroller:"root|nearest","self-position":"center|start|end|self-start|self-end|flex-start|flex-end","shape-radius":"<length-percentage>|closest-side|farthest-side","sign()":"sign( <calc-sum> )","skew()":"skew( [<angle>|<zero>] , [<angle>|<zero>]? )","skewX()":"skewX( [<angle>|<zero>] )","skewY()":"skewY( [<angle>|<zero>] )","sepia()":"sepia( <number-percentage> )",shadow:"inset?&&<length>{2,4}&&<color>?","shadow-t":"[<length>{2,3}&&<color>?]",shape:"rect( <top> , <right> , <bottom> , <left> )|rect( <top> <right> <bottom> <left> )","shape-box":"<box>|margin-box","side-or-corner":"[left|right]||[top|bottom]","sin()":"sin( <calc-sum> )","single-animation":"<time>||<easing-function>||<time>||<single-animation-iteration-count>||<single-animation-direction>||<single-animation-fill-mode>||<single-animation-play-state>||[none|<keyframes-name>]","single-animation-direction":"normal|reverse|alternate|alternate-reverse","single-animation-fill-mode":"none|forwards|backwards|both","single-animation-iteration-count":"infinite|<number>","single-animation-play-state":"running|paused","single-animation-timeline":"auto|none|<timeline-name>|scroll( <axis>? <scroller>? )","single-transition":"[none|<single-transition-property>]||<time>||<easing-function>||<time>","single-transition-property":"all|<custom-ident>",size:"closest-side|farthest-side|closest-corner|farthest-corner|<length>|<length-percentage>{2}","sqrt()":"sqrt( <calc-sum> )","step-position":"jump-start|jump-end|jump-none|jump-both|start|end","step-timing-function":"step-start|step-end|steps( <integer> [, <step-position>]? )","subclass-selector":"<id-selector>|<class-selector>|<attribute-selector>|<pseudo-class-selector>","supports-condition":"not <supports-in-parens>|<supports-in-parens> [and <supports-in-parens>]*|<supports-in-parens> [or <supports-in-parens>]*","supports-in-parens":"( <supports-condition> )|<supports-feature>|<general-enclosed>","supports-feature":"<supports-decl>|<supports-selector-fn>","supports-decl":"( <declaration> )","supports-selector-fn":"selector( <complex-selector> )",symbol:"<string>|<image>|<custom-ident>","tan()":"tan( <calc-sum> )",target:"<target-counter()>|<target-counters()>|<target-text()>","target-counter()":"target-counter( [<string>|<url>] , <custom-ident> , <counter-style>? )","target-counters()":"target-counters( [<string>|<url>] , <custom-ident> , <string> , <counter-style>? )","target-text()":"target-text( [<string>|<url>] , [content|before|after|first-letter]? )","time-percentage":"<time>|<percentage>","timeline-name":"<custom-ident>|<string>","easing-function":"linear|<cubic-bezier-timing-function>|<step-timing-function>","track-breadth":"<length-percentage>|<flex>|min-content|max-content|auto","track-list":"[<line-names>? [<track-size>|<track-repeat>]]+ <line-names>?","track-repeat":"repeat( [<integer [1,∞]>] , [<line-names>? <track-size>]+ <line-names>? )","track-size":"<track-breadth>|minmax( <inflexible-breadth> , <track-breadth> )|fit-content( <length-percentage> )","transform-function":"<matrix()>|<translate()>|<translateX()>|<translateY()>|<scale()>|<scaleX()>|<scaleY()>|<rotate()>|<skew()>|<skewX()>|<skewY()>|<matrix3d()>|<translate3d()>|<translateZ()>|<scale3d()>|<scaleZ()>|<rotate3d()>|<rotateX()>|<rotateY()>|<rotateZ()>|<perspective()>","transform-list":"<transform-function>+","translate()":"translate( <length-percentage> , <length-percentage>? )","translate3d()":"translate3d( <length-percentage> , <length-percentage> , <length> )","translateX()":"translateX( <length-percentage> )","translateY()":"translateY( <length-percentage> )","translateZ()":"translateZ( <length> )","type-or-unit":"string|color|url|integer|number|length|angle|time|frequency|cap|ch|em|ex|ic|lh|rlh|rem|vb|vi|vw|vh|vmin|vmax|mm|Q|cm|in|pt|pc|px|deg|grad|rad|turn|ms|s|Hz|kHz|%","type-selector":"<wq-name>|<ns-prefix>? '*'","var()":"var( <custom-property-name> , <declaration-value>? )","viewport-length":"auto|<length-percentage>","visual-box":"content-box|padding-box|border-box","wq-name":"<ns-prefix>? <ident-token>","-legacy-gradient":"<-webkit-gradient()>|<-legacy-linear-gradient>|<-legacy-repeating-linear-gradient>|<-legacy-radial-gradient>|<-legacy-repeating-radial-gradient>","-legacy-linear-gradient":"-moz-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-repeating-linear-gradient":"-moz-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-webkit-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )|-o-repeating-linear-gradient( <-legacy-linear-gradient-arguments> )","-legacy-linear-gradient-arguments":"[<angle>|<side-or-corner>]? , <color-stop-list>","-legacy-radial-gradient":"-moz-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-repeating-radial-gradient":"-moz-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-webkit-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )|-o-repeating-radial-gradient( <-legacy-radial-gradient-arguments> )","-legacy-radial-gradient-arguments":"[<position> ,]? [[[<-legacy-radial-gradient-shape>||<-legacy-radial-gradient-size>]|[<length>|<percentage>]{2}] ,]? <color-stop-list>","-legacy-radial-gradient-size":"closest-side|closest-corner|farthest-side|farthest-corner|contain|cover","-legacy-radial-gradient-shape":"circle|ellipse","-non-standard-font":"-apple-system-body|-apple-system-headline|-apple-system-subheadline|-apple-system-caption1|-apple-system-caption2|-apple-system-footnote|-apple-system-short-body|-apple-system-short-headline|-apple-system-short-subheadline|-apple-system-short-caption1|-apple-system-short-footnote|-apple-system-tall-body","-non-standard-color":"-moz-ButtonDefault|-moz-ButtonHoverFace|-moz-ButtonHoverText|-moz-CellHighlight|-moz-CellHighlightText|-moz-Combobox|-moz-ComboboxText|-moz-Dialog|-moz-DialogText|-moz-dragtargetzone|-moz-EvenTreeRow|-moz-Field|-moz-FieldText|-moz-html-CellHighlight|-moz-html-CellHighlightText|-moz-mac-accentdarkestshadow|-moz-mac-accentdarkshadow|-moz-mac-accentface|-moz-mac-accentlightesthighlight|-moz-mac-accentlightshadow|-moz-mac-accentregularhighlight|-moz-mac-accentregularshadow|-moz-mac-chrome-active|-moz-mac-chrome-inactive|-moz-mac-focusring|-moz-mac-menuselect|-moz-mac-menushadow|-moz-mac-menutextselect|-moz-MenuHover|-moz-MenuHoverText|-moz-MenuBarText|-moz-MenuBarHoverText|-moz-nativehyperlinktext|-moz-OddTreeRow|-moz-win-communicationstext|-moz-win-mediatext|-moz-activehyperlinktext|-moz-default-background-color|-moz-default-color|-moz-hyperlinktext|-moz-visitedhyperlinktext|-webkit-activelink|-webkit-focus-ring-color|-webkit-link|-webkit-text","-non-standard-image-rendering":"optimize-contrast|-moz-crisp-edges|-o-crisp-edges|-webkit-optimize-contrast","-non-standard-overflow":"-moz-scrollbars-none|-moz-scrollbars-horizontal|-moz-scrollbars-vertical|-moz-hidden-unscrollable","-non-standard-width":"fill-available|min-intrinsic|intrinsic|-moz-available|-moz-fit-content|-moz-min-content|-moz-max-content|-webkit-min-content|-webkit-max-content","-webkit-gradient()":"-webkit-gradient( <-webkit-gradient-type> , <-webkit-gradient-point> [, <-webkit-gradient-point>|, <-webkit-gradient-radius> , <-webkit-gradient-point>] [, <-webkit-gradient-radius>]? [, <-webkit-gradient-color-stop>]* )","-webkit-gradient-color-stop":"from( <color> )|color-stop( [<number-zero-one>|<percentage>] , <color> )|to( <color> )","-webkit-gradient-point":"[left|center|right|<length-percentage>] [top|center|bottom|<length-percentage>]","-webkit-gradient-radius":"<length>|<percentage>","-webkit-gradient-type":"linear|radial","-webkit-mask-box-repeat":"repeat|stretch|round","-webkit-mask-clip-style":"border|border-box|padding|padding-box|content|content-box|text","-ms-filter-function-list":"<-ms-filter-function>+","-ms-filter-function":"<-ms-filter-function-progid>|<-ms-filter-function-legacy>","-ms-filter-function-progid":"'progid:' [<ident-token> '.']* [<ident-token>|<function-token> <any-value>? )]","-ms-filter-function-legacy":"<ident-token>|<function-token> <any-value>? )","-ms-filter":"<string>",age:"child|young|old","attr-name":"<wq-name>","attr-fallback":"<any-value>","bg-clip":"<box>|border|text",bottom:"<length>|auto","generic-voice":"[<age>? <gender> <integer>?]",gender:"male|female|neutral",left:"<length>|auto","mask-image":"<mask-reference>#",paint:"none|<color>|<url> [none|<color>]?|context-fill|context-stroke",right:"<length>|auto","scroll-timeline-axis":"block|inline|vertical|horizontal","scroll-timeline-name":"none|<custom-ident>","single-animation-composition":"replace|add|accumulate","svg-length":"<percentage>|<length>|<number>","svg-writing-mode":"lr-tb|rl-tb|tb-rl|lr|rl|tb",top:"<length>|auto",x:"<number>",y:"<number>",declaration:"<ident-token> : <declaration-value>? ['!' important]?","declaration-list":"[<declaration>? ';']* <declaration>?",url:"url( <string> <url-modifier>* )|<url-token>","url-modifier":"<ident>|<function-token> <any-value> )","number-zero-one":"<number [0,1]>","number-one-or-greater":"<number [1,∞]>","-non-standard-display":"-ms-inline-flexbox|-ms-grid|-ms-inline-grid|-webkit-flex|-webkit-inline-flex|-webkit-box|-webkit-inline-box|-moz-inline-stack|-moz-box|-moz-inline-box"},properties:{"--*":"<declaration-value>","-ms-accelerator":"false|true","-ms-block-progression":"tb|rl|bt|lr","-ms-content-zoom-chaining":"none|chained","-ms-content-zooming":"none|zoom","-ms-content-zoom-limit":"<'-ms-content-zoom-limit-min'> <'-ms-content-zoom-limit-max'>","-ms-content-zoom-limit-max":"<percentage>","-ms-content-zoom-limit-min":"<percentage>","-ms-content-zoom-snap":"<'-ms-content-zoom-snap-type'>||<'-ms-content-zoom-snap-points'>","-ms-content-zoom-snap-points":"snapInterval( <percentage> , <percentage> )|snapList( <percentage># )","-ms-content-zoom-snap-type":"none|proximity|mandatory","-ms-filter":"<string>","-ms-flow-from":"[none|<custom-ident>]#","-ms-flow-into":"[none|<custom-ident>]#","-ms-grid-columns":"none|<track-list>|<auto-track-list>","-ms-grid-rows":"none|<track-list>|<auto-track-list>","-ms-high-contrast-adjust":"auto|none","-ms-hyphenate-limit-chars":"auto|<integer>{1,3}","-ms-hyphenate-limit-lines":"no-limit|<integer>","-ms-hyphenate-limit-zone":"<percentage>|<length>","-ms-ime-align":"auto|after","-ms-overflow-style":"auto|none|scrollbar|-ms-autohiding-scrollbar","-ms-scrollbar-3dlight-color":"<color>","-ms-scrollbar-arrow-color":"<color>","-ms-scrollbar-base-color":"<color>","-ms-scrollbar-darkshadow-color":"<color>","-ms-scrollbar-face-color":"<color>","-ms-scrollbar-highlight-color":"<color>","-ms-scrollbar-shadow-color":"<color>","-ms-scrollbar-track-color":"<color>","-ms-scroll-chaining":"chained|none","-ms-scroll-limit":"<'-ms-scroll-limit-x-min'> <'-ms-scroll-limit-y-min'> <'-ms-scroll-limit-x-max'> <'-ms-scroll-limit-y-max'>","-ms-scroll-limit-x-max":"auto|<length>","-ms-scroll-limit-x-min":"<length>","-ms-scroll-limit-y-max":"auto|<length>","-ms-scroll-limit-y-min":"<length>","-ms-scroll-rails":"none|railed","-ms-scroll-snap-points-x":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-points-y":"snapInterval( <length-percentage> , <length-percentage> )|snapList( <length-percentage># )","-ms-scroll-snap-type":"none|proximity|mandatory","-ms-scroll-snap-x":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-x'>","-ms-scroll-snap-y":"<'-ms-scroll-snap-type'> <'-ms-scroll-snap-points-y'>","-ms-scroll-translation":"none|vertical-to-horizontal","-ms-text-autospace":"none|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space","-ms-touch-select":"grippers|none","-ms-user-select":"none|element|text","-ms-wrap-flow":"auto|both|start|end|maximum|clear","-ms-wrap-margin":"<length>","-ms-wrap-through":"wrap|none","-moz-appearance":"none|button|button-arrow-down|button-arrow-next|button-arrow-previous|button-arrow-up|button-bevel|button-focus|caret|checkbox|checkbox-container|checkbox-label|checkmenuitem|dualbutton|groupbox|listbox|listitem|menuarrow|menubar|menucheckbox|menuimage|menuitem|menuitemtext|menulist|menulist-button|menulist-text|menulist-textfield|menupopup|menuradio|menuseparator|meterbar|meterchunk|progressbar|progressbar-vertical|progresschunk|progresschunk-vertical|radio|radio-container|radio-label|radiomenuitem|range|range-thumb|resizer|resizerpanel|scale-horizontal|scalethumbend|scalethumb-horizontal|scalethumbstart|scalethumbtick|scalethumb-vertical|scale-vertical|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|separator|sheet|spinner|spinner-downbutton|spinner-textfield|spinner-upbutton|splitter|statusbar|statusbarpanel|tab|tabpanel|tabpanels|tab-scroll-arrow-back|tab-scroll-arrow-forward|textfield|textfield-multiline|toolbar|toolbarbutton|toolbarbutton-dropdown|toolbargripper|toolbox|tooltip|treeheader|treeheadercell|treeheadersortarrow|treeitem|treeline|treetwisty|treetwistyopen|treeview|-moz-mac-unified-toolbar|-moz-win-borderless-glass|-moz-win-browsertabbar-toolbox|-moz-win-communicationstext|-moz-win-communications-toolbox|-moz-win-exclude-glass|-moz-win-glass|-moz-win-mediatext|-moz-win-media-toolbox|-moz-window-button-box|-moz-window-button-box-maximized|-moz-window-button-close|-moz-window-button-maximize|-moz-window-button-minimize|-moz-window-button-restore|-moz-window-frame-bottom|-moz-window-frame-left|-moz-window-frame-right|-moz-window-titlebar|-moz-window-titlebar-maximized","-moz-binding":"<url>|none","-moz-border-bottom-colors":"<color>+|none","-moz-border-left-colors":"<color>+|none","-moz-border-right-colors":"<color>+|none","-moz-border-top-colors":"<color>+|none","-moz-context-properties":"none|[fill|fill-opacity|stroke|stroke-opacity]#","-moz-float-edge":"border-box|content-box|margin-box|padding-box","-moz-force-broken-image-icon":"0|1","-moz-image-region":"<shape>|auto","-moz-orient":"inline|block|horizontal|vertical","-moz-outline-radius":"<outline-radius>{1,4} [/ <outline-radius>{1,4}]?","-moz-outline-radius-bottomleft":"<outline-radius>","-moz-outline-radius-bottomright":"<outline-radius>","-moz-outline-radius-topleft":"<outline-radius>","-moz-outline-radius-topright":"<outline-radius>","-moz-stack-sizing":"ignore|stretch-to-fit","-moz-text-blink":"none|blink","-moz-user-focus":"ignore|normal|select-after|select-before|select-menu|select-same|select-all|none","-moz-user-input":"auto|none|enabled|disabled","-moz-user-modify":"read-only|read-write|write-only","-moz-window-dragging":"drag|no-drag","-moz-window-shadow":"default|menu|tooltip|sheet|none","-webkit-appearance":"none|button|button-bevel|caps-lock-indicator|caret|checkbox|default-button|inner-spin-button|listbox|listitem|media-controls-background|media-controls-fullscreen-background|media-current-time-display|media-enter-fullscreen-button|media-exit-fullscreen-button|media-fullscreen-button|media-mute-button|media-overlay-play-button|media-play-button|media-seek-back-button|media-seek-forward-button|media-slider|media-sliderthumb|media-time-remaining-display|media-toggle-closed-captions-button|media-volume-slider|media-volume-slider-container|media-volume-sliderthumb|menulist|menulist-button|menulist-text|menulist-textfield|meter|progress-bar|progress-bar-value|push-button|radio|scrollbarbutton-down|scrollbarbutton-left|scrollbarbutton-right|scrollbarbutton-up|scrollbargripper-horizontal|scrollbargripper-vertical|scrollbarthumb-horizontal|scrollbarthumb-vertical|scrollbartrack-horizontal|scrollbartrack-vertical|searchfield|searchfield-cancel-button|searchfield-decoration|searchfield-results-button|searchfield-results-decoration|slider-horizontal|slider-vertical|sliderthumb-horizontal|sliderthumb-vertical|square-button|textarea|textfield|-apple-pay-button","-webkit-border-before":"<'border-width'>||<'border-style'>||<color>","-webkit-border-before-color":"<color>","-webkit-border-before-style":"<'border-style'>","-webkit-border-before-width":"<'border-width'>","-webkit-box-reflect":"[above|below|right|left]? <length>? <image>?","-webkit-line-clamp":"none|<integer>","-webkit-mask":"[<mask-reference>||<position> [/ <bg-size>]?||<repeat-style>||[<box>|border|padding|content|text]||[<box>|border|padding|content]]#","-webkit-mask-attachment":"<attachment>#","-webkit-mask-clip":"[<box>|border|padding|content|text]#","-webkit-mask-composite":"<composite-style>#","-webkit-mask-image":"<mask-reference>#","-webkit-mask-origin":"[<box>|border|padding|content]#","-webkit-mask-position":"<position>#","-webkit-mask-position-x":"[<length-percentage>|left|center|right]#","-webkit-mask-position-y":"[<length-percentage>|top|center|bottom]#","-webkit-mask-repeat":"<repeat-style>#","-webkit-mask-repeat-x":"repeat|no-repeat|space|round","-webkit-mask-repeat-y":"repeat|no-repeat|space|round","-webkit-mask-size":"<bg-size>#","-webkit-overflow-scrolling":"auto|touch","-webkit-tap-highlight-color":"<color>","-webkit-text-fill-color":"<color>","-webkit-text-stroke":"<length>||<color>","-webkit-text-stroke-color":"<color>","-webkit-text-stroke-width":"<length>","-webkit-touch-callout":"default|none","-webkit-user-modify":"read-only|read-write|read-write-plaintext-only","accent-color":"auto|<color>","align-content":"normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>","align-items":"normal|stretch|<baseline-position>|[<overflow-position>? <self-position>]","align-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? <self-position>","align-tracks":"[normal|<baseline-position>|<content-distribution>|<overflow-position>? <content-position>]#",all:"initial|inherit|unset|revert|revert-layer",animation:"<single-animation>#","animation-composition":"<single-animation-composition>#","animation-delay":"<time>#","animation-direction":"<single-animation-direction>#","animation-duration":"<time>#","animation-fill-mode":"<single-animation-fill-mode>#","animation-iteration-count":"<single-animation-iteration-count>#","animation-name":"[none|<keyframes-name>]#","animation-play-state":"<single-animation-play-state>#","animation-timing-function":"<easing-function>#","animation-timeline":"<single-animation-timeline>#",appearance:"none|auto|textfield|menulist-button|<compat-auto>","aspect-ratio":"auto|<ratio>",azimuth:"<angle>|[[left-side|far-left|left|center-left|center|center-right|right|far-right|right-side]||behind]|leftwards|rightwards","backdrop-filter":"none|<filter-function-list>","backface-visibility":"visible|hidden",background:"[<bg-layer> ,]* <final-bg-layer>","background-attachment":"<attachment>#","background-blend-mode":"<blend-mode>#","background-clip":"<bg-clip>#","background-color":"<color>","background-image":"<bg-image>#","background-origin":"<box>#","background-position":"<bg-position>#","background-position-x":"[center|[[left|right|x-start|x-end]? <length-percentage>?]!]#","background-position-y":"[center|[[top|bottom|y-start|y-end]? <length-percentage>?]!]#","background-repeat":"<repeat-style>#","background-size":"<bg-size>#","block-overflow":"clip|ellipsis|<string>","block-size":"<'width'>",border:"<line-width>||<line-style>||<color>","border-block":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-color":"<'border-top-color'>{1,2}","border-block-style":"<'border-top-style'>","border-block-width":"<'border-top-width'>","border-block-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-end-color":"<'border-top-color'>","border-block-end-style":"<'border-top-style'>","border-block-end-width":"<'border-top-width'>","border-block-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-block-start-color":"<'border-top-color'>","border-block-start-style":"<'border-top-style'>","border-block-start-width":"<'border-top-width'>","border-bottom":"<line-width>||<line-style>||<color>","border-bottom-color":"<'border-top-color'>","border-bottom-left-radius":"<length-percentage>{1,2}","border-bottom-right-radius":"<length-percentage>{1,2}","border-bottom-style":"<line-style>","border-bottom-width":"<line-width>","border-collapse":"collapse|separate","border-color":"<color>{1,4}","border-end-end-radius":"<length-percentage>{1,2}","border-end-start-radius":"<length-percentage>{1,2}","border-image":"<'border-image-source'>||<'border-image-slice'> [/ <'border-image-width'>|/ <'border-image-width'>? / <'border-image-outset'>]?||<'border-image-repeat'>","border-image-outset":"[<length>|<number>]{1,4}","border-image-repeat":"[stretch|repeat|round|space]{1,2}","border-image-slice":"<number-percentage>{1,4}&&fill?","border-image-source":"none|<image>","border-image-width":"[<length-percentage>|<number>|auto]{1,4}","border-inline":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-end":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-color":"<'border-top-color'>{1,2}","border-inline-style":"<'border-top-style'>","border-inline-width":"<'border-top-width'>","border-inline-end-color":"<'border-top-color'>","border-inline-end-style":"<'border-top-style'>","border-inline-end-width":"<'border-top-width'>","border-inline-start":"<'border-top-width'>||<'border-top-style'>||<color>","border-inline-start-color":"<'border-top-color'>","border-inline-start-style":"<'border-top-style'>","border-inline-start-width":"<'border-top-width'>","border-left":"<line-width>||<line-style>||<color>","border-left-color":"<color>","border-left-style":"<line-style>","border-left-width":"<line-width>","border-radius":"<length-percentage>{1,4} [/ <length-percentage>{1,4}]?","border-right":"<line-width>||<line-style>||<color>","border-right-color":"<color>","border-right-style":"<line-style>","border-right-width":"<line-width>","border-spacing":"<length> <length>?","border-start-end-radius":"<length-percentage>{1,2}","border-start-start-radius":"<length-percentage>{1,2}","border-style":"<line-style>{1,4}","border-top":"<line-width>||<line-style>||<color>","border-top-color":"<color>","border-top-left-radius":"<length-percentage>{1,2}","border-top-right-radius":"<length-percentage>{1,2}","border-top-style":"<line-style>","border-top-width":"<line-width>","border-width":"<line-width>{1,4}",bottom:"<length>|<percentage>|auto","box-align":"start|center|end|baseline|stretch","box-decoration-break":"slice|clone","box-direction":"normal|reverse|inherit","box-flex":"<number>","box-flex-group":"<integer>","box-lines":"single|multiple","box-ordinal-group":"<integer>","box-orient":"horizontal|vertical|inline-axis|block-axis|inherit","box-pack":"start|center|end|justify","box-shadow":"none|<shadow>#","box-sizing":"content-box|border-box","break-after":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-before":"auto|avoid|always|all|avoid-page|page|left|right|recto|verso|avoid-column|column|avoid-region|region","break-inside":"auto|avoid|avoid-page|avoid-column|avoid-region","caption-side":"top|bottom|block-start|block-end|inline-start|inline-end",caret:"<'caret-color'>||<'caret-shape'>","caret-color":"auto|<color>","caret-shape":"auto|bar|block|underscore",clear:"none|left|right|both|inline-start|inline-end",clip:"<shape>|auto","clip-path":"<clip-source>|[<basic-shape>||<geometry-box>]|none",color:"<color>","print-color-adjust":"economy|exact","color-scheme":"normal|[light|dark|<custom-ident>]+&&only?","column-count":"<integer>|auto","column-fill":"auto|balance|balance-all","column-gap":"normal|<length-percentage>","column-rule":"<'column-rule-width'>||<'column-rule-style'>||<'column-rule-color'>","column-rule-color":"<color>","column-rule-style":"<'border-style'>","column-rule-width":"<'border-width'>","column-span":"none|all","column-width":"<length>|auto",columns:"<'column-width'>||<'column-count'>",contain:"none|strict|content|[[size||inline-size]||layout||style||paint]","contain-intrinsic-size":"[none|<length>|auto <length>]{1,2}","contain-intrinsic-block-size":"none|<length>|auto <length>","contain-intrinsic-height":"none|<length>|auto <length>","contain-intrinsic-inline-size":"none|<length>|auto <length>","contain-intrinsic-width":"none|<length>|auto <length>",content:"normal|none|[<content-replacement>|<content-list>] [/ [<string>|<counter>]+]?","content-visibility":"visible|auto|hidden","counter-increment":"[<counter-name> <integer>?]+|none","counter-reset":"[<counter-name> <integer>?|<reversed-counter-name> <integer>?]+|none","counter-set":"[<counter-name> <integer>?]+|none",cursor:"[[<url> [<x> <y>]? ,]* [auto|default|none|context-menu|help|pointer|progress|wait|cell|crosshair|text|vertical-text|alias|copy|move|no-drop|not-allowed|e-resize|n-resize|ne-resize|nw-resize|s-resize|se-resize|sw-resize|w-resize|ew-resize|ns-resize|nesw-resize|nwse-resize|col-resize|row-resize|all-scroll|zoom-in|zoom-out|grab|grabbing|hand|-webkit-grab|-webkit-grabbing|-webkit-zoom-in|-webkit-zoom-out|-moz-grab|-moz-grabbing|-moz-zoom-in|-moz-zoom-out]]",direction:"ltr|rtl",display:"[<display-outside>||<display-inside>]|<display-listitem>|<display-internal>|<display-box>|<display-legacy>|<-non-standard-display>","empty-cells":"show|hide",filter:"none|<filter-function-list>|<-ms-filter-function-list>",flex:"none|[<'flex-grow'> <'flex-shrink'>?||<'flex-basis'>]","flex-basis":"content|<'width'>","flex-direction":"row|row-reverse|column|column-reverse","flex-flow":"<'flex-direction'>||<'flex-wrap'>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap|wrap|wrap-reverse",float:"left|right|none|inline-start|inline-end",font:"[[<'font-style'>||<font-variant-css21>||<'font-weight'>||<'font-stretch'>]? <'font-size'> [/ <'line-height'>]? <'font-family'>]|caption|icon|menu|message-box|small-caption|status-bar","font-family":"[<family-name>|<generic-family>]#","font-feature-settings":"normal|<feature-tag-value>#","font-kerning":"auto|normal|none","font-language-override":"normal|<string>","font-optical-sizing":"auto|none","font-variation-settings":"normal|[<string> <number>]#","font-size":"<absolute-size>|<relative-size>|<length-percentage>","font-size-adjust":"none|[ex-height|cap-height|ch-width|ic-width|ic-height]? [from-font|<number>]","font-smooth":"auto|never|always|<absolute-size>|<length>","font-stretch":"<font-stretch-absolute>","font-style":"normal|italic|oblique <angle>?","font-synthesis":"none|[weight||style||small-caps]","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-alternates":"normal|[stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )]","font-variant-caps":"normal|small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","font-variant-east-asian":"normal|[<east-asian-variant-values>||<east-asian-width-values>||ruby]","font-variant-ligatures":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>]","font-variant-numeric":"normal|[<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero]","font-variant-position":"normal|sub|super","font-weight":"<font-weight-absolute>|bolder|lighter","forced-color-adjust":"auto|none",gap:"<'row-gap'> <'column-gap'>?",grid:"<'grid-template'>|<'grid-template-rows'> / [auto-flow&&dense?] <'grid-auto-columns'>?|[auto-flow&&dense?] <'grid-auto-rows'>? / <'grid-template-columns'>","grid-area":"<grid-line> [/ <grid-line>]{0,3}","grid-auto-columns":"<track-size>+","grid-auto-flow":"[row|column]||dense","grid-auto-rows":"<track-size>+","grid-column":"<grid-line> [/ <grid-line>]?","grid-column-end":"<grid-line>","grid-column-gap":"<length-percentage>","grid-column-start":"<grid-line>","grid-gap":"<'grid-row-gap'> <'grid-column-gap'>?","grid-row":"<grid-line> [/ <grid-line>]?","grid-row-end":"<grid-line>","grid-row-gap":"<length-percentage>","grid-row-start":"<grid-line>","grid-template":"none|[<'grid-template-rows'> / <'grid-template-columns'>]|[<line-names>? <string> <track-size>? <line-names>?]+ [/ <explicit-track-list>]?","grid-template-areas":"none|<string>+","grid-template-columns":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","grid-template-rows":"none|<track-list>|<auto-track-list>|subgrid <line-name-list>?","hanging-punctuation":"none|[first||[force-end|allow-end]||last]",height:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","hyphenate-character":"auto|<string>",hyphens:"none|manual|auto","image-orientation":"from-image|<angle>|[<angle>? flip]","image-rendering":"auto|crisp-edges|pixelated|optimizeSpeed|optimizeQuality|<-non-standard-image-rendering>","image-resolution":"[from-image||<resolution>]&&snap?","ime-mode":"auto|normal|active|inactive|disabled","initial-letter":"normal|[<number> <integer>?]","initial-letter-align":"[auto|alphabetic|hanging|ideographic]","inline-size":"<'width'>","input-security":"auto|none",inset:"<'top'>{1,4}","inset-block":"<'top'>{1,2}","inset-block-end":"<'top'>","inset-block-start":"<'top'>","inset-inline":"<'top'>{1,2}","inset-inline-end":"<'top'>","inset-inline-start":"<'top'>",isolation:"auto|isolate","justify-content":"normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]","justify-items":"normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]|legacy|legacy&&[left|right|center]","justify-self":"auto|normal|stretch|<baseline-position>|<overflow-position>? [<self-position>|left|right]","justify-tracks":"[normal|<content-distribution>|<overflow-position>? [<content-position>|left|right]]#",left:"<length>|<percentage>|auto","letter-spacing":"normal|<length-percentage>","line-break":"auto|loose|normal|strict|anywhere","line-clamp":"none|<integer>","line-height":"normal|<number>|<length>|<percentage>","line-height-step":"<length>","list-style":"<'list-style-type'>||<'list-style-position'>||<'list-style-image'>","list-style-image":"<image>|none","list-style-position":"inside|outside","list-style-type":"<counter-style>|<string>|none",margin:"[<length>|<percentage>|auto]{1,4}","margin-block":"<'margin-left'>{1,2}","margin-block-end":"<'margin-left'>","margin-block-start":"<'margin-left'>","margin-bottom":"<length>|<percentage>|auto","margin-inline":"<'margin-left'>{1,2}","margin-inline-end":"<'margin-left'>","margin-inline-start":"<'margin-left'>","margin-left":"<length>|<percentage>|auto","margin-right":"<length>|<percentage>|auto","margin-top":"<length>|<percentage>|auto","margin-trim":"none|in-flow|all",mask:"<mask-layer>#","mask-border":"<'mask-border-source'>||<'mask-border-slice'> [/ <'mask-border-width'>? [/ <'mask-border-outset'>]?]?||<'mask-border-repeat'>||<'mask-border-mode'>","mask-border-mode":"luminance|alpha","mask-border-outset":"[<length>|<number>]{1,4}","mask-border-repeat":"[stretch|repeat|round|space]{1,2}","mask-border-slice":"<number-percentage>{1,4} fill?","mask-border-source":"none|<image>","mask-border-width":"[<length-percentage>|<number>|auto]{1,4}","mask-clip":"[<geometry-box>|no-clip]#","mask-composite":"<compositing-operator>#","mask-image":"<mask-reference>#","mask-mode":"<masking-mode>#","mask-origin":"<geometry-box>#","mask-position":"<position>#","mask-repeat":"<repeat-style>#","mask-size":"<bg-size>#","mask-type":"luminance|alpha","masonry-auto-flow":"[pack|next]||[definite-first|ordered]","math-depth":"auto-add|add( <integer> )|<integer>","math-shift":"normal|compact","math-style":"normal|compact","max-block-size":"<'max-width'>","max-height":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","max-inline-size":"<'max-width'>","max-lines":"none|<integer>","max-width":"none|<length-percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|<-non-standard-width>","min-block-size":"<'min-width'>","min-height":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )","min-inline-size":"<'min-width'>","min-width":"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|<-non-standard-width>","mix-blend-mode":"<blend-mode>|plus-lighter","object-fit":"fill|contain|cover|none|scale-down","object-position":"<position>",offset:"[<'offset-position'>? [<'offset-path'> [<'offset-distance'>||<'offset-rotate'>]?]?]! [/ <'offset-anchor'>]?","offset-anchor":"auto|<position>","offset-distance":"<length-percentage>","offset-path":"none|ray( [<angle>&&<size>&&contain?] )|<path()>|<url>|[<basic-shape>||<geometry-box>]","offset-position":"auto|<position>","offset-rotate":"[auto|reverse]||<angle>",opacity:"<alpha-value>",order:"<integer>",orphans:"<integer>",outline:"[<'outline-color'>||<'outline-style'>||<'outline-width'>]","outline-color":"<color>|invert","outline-offset":"<length>","outline-style":"auto|<'border-style'>","outline-width":"<line-width>",overflow:"[visible|hidden|clip|scroll|auto]{1,2}|<-non-standard-overflow>","overflow-anchor":"auto|none","overflow-block":"visible|hidden|clip|scroll|auto","overflow-clip-box":"padding-box|content-box","overflow-clip-margin":"<visual-box>||<length [0,∞]>","overflow-inline":"visible|hidden|clip|scroll|auto","overflow-wrap":"normal|break-word|anywhere","overflow-x":"visible|hidden|clip|scroll|auto","overflow-y":"visible|hidden|clip|scroll|auto","overscroll-behavior":"[contain|none|auto]{1,2}","overscroll-behavior-block":"contain|none|auto","overscroll-behavior-inline":"contain|none|auto","overscroll-behavior-x":"contain|none|auto","overscroll-behavior-y":"contain|none|auto",padding:"[<length>|<percentage>]{1,4}","padding-block":"<'padding-left'>{1,2}","padding-block-end":"<'padding-left'>","padding-block-start":"<'padding-left'>","padding-bottom":"<length>|<percentage>","padding-inline":"<'padding-left'>{1,2}","padding-inline-end":"<'padding-left'>","padding-inline-start":"<'padding-left'>","padding-left":"<length>|<percentage>","padding-right":"<length>|<percentage>","padding-top":"<length>|<percentage>","page-break-after":"auto|always|avoid|left|right|recto|verso","page-break-before":"auto|always|avoid|left|right|recto|verso","page-break-inside":"auto|avoid","paint-order":"normal|[fill||stroke||markers]",perspective:"none|<length>","perspective-origin":"<position>","place-content":"<'align-content'> <'justify-content'>?","place-items":"<'align-items'> <'justify-items'>?","place-self":"<'align-self'> <'justify-self'>?","pointer-events":"auto|none|visiblePainted|visibleFill|visibleStroke|visible|painted|fill|stroke|all|inherit",position:"static|relative|absolute|sticky|fixed|-webkit-sticky",quotes:"none|auto|[<string> <string>]+",resize:"none|both|horizontal|vertical|block|inline",right:"<length>|<percentage>|auto",rotate:"none|<angle>|[x|y|z|<number>{3}]&&<angle>","row-gap":"normal|<length-percentage>","ruby-align":"start|center|space-between|space-around","ruby-merge":"separate|collapse|auto","ruby-position":"[alternate||[over|under]]|inter-character",scale:"none|<number>{1,3}","scrollbar-color":"auto|<color>{2}","scrollbar-gutter":"auto|stable&&both-edges?","scrollbar-width":"auto|thin|none","scroll-behavior":"auto|smooth","scroll-margin":"<length>{1,4}","scroll-margin-block":"<length>{1,2}","scroll-margin-block-start":"<length>","scroll-margin-block-end":"<length>","scroll-margin-bottom":"<length>","scroll-margin-inline":"<length>{1,2}","scroll-margin-inline-start":"<length>","scroll-margin-inline-end":"<length>","scroll-margin-left":"<length>","scroll-margin-right":"<length>","scroll-margin-top":"<length>","scroll-padding":"[auto|<length-percentage>]{1,4}","scroll-padding-block":"[auto|<length-percentage>]{1,2}","scroll-padding-block-start":"auto|<length-percentage>","scroll-padding-block-end":"auto|<length-percentage>","scroll-padding-bottom":"auto|<length-percentage>","scroll-padding-inline":"[auto|<length-percentage>]{1,2}","scroll-padding-inline-start":"auto|<length-percentage>","scroll-padding-inline-end":"auto|<length-percentage>","scroll-padding-left":"auto|<length-percentage>","scroll-padding-right":"auto|<length-percentage>","scroll-padding-top":"auto|<length-percentage>","scroll-snap-align":"[none|start|end|center]{1,2}","scroll-snap-coordinate":"none|<position>#","scroll-snap-destination":"<position>","scroll-snap-points-x":"none|repeat( <length-percentage> )","scroll-snap-points-y":"none|repeat( <length-percentage> )","scroll-snap-stop":"normal|always","scroll-snap-type":"none|[x|y|block|inline|both] [mandatory|proximity]?","scroll-snap-type-x":"none|mandatory|proximity","scroll-snap-type-y":"none|mandatory|proximity","scroll-timeline":"<scroll-timeline-name>||<scroll-timeline-axis>","scroll-timeline-axis":"block|inline|vertical|horizontal","scroll-timeline-name":"none|<custom-ident>","shape-image-threshold":"<alpha-value>","shape-margin":"<length-percentage>","shape-outside":"none|[<shape-box>||<basic-shape>]|<image>","tab-size":"<integer>|<length>","table-layout":"auto|fixed","text-align":"start|end|left|right|center|justify|match-parent","text-align-last":"auto|start|end|left|right|center|justify","text-combine-upright":"none|all|[digits <integer>?]","text-decoration":"<'text-decoration-line'>||<'text-decoration-style'>||<'text-decoration-color'>||<'text-decoration-thickness'>","text-decoration-color":"<color>","text-decoration-line":"none|[underline||overline||line-through||blink]|spelling-error|grammar-error","text-decoration-skip":"none|[objects||[spaces|[leading-spaces||trailing-spaces]]||edges||box-decoration]","text-decoration-skip-ink":"auto|all|none","text-decoration-style":"solid|double|dotted|dashed|wavy","text-decoration-thickness":"auto|from-font|<length>|<percentage>","text-emphasis":"<'text-emphasis-style'>||<'text-emphasis-color'>","text-emphasis-color":"<color>","text-emphasis-position":"[over|under]&&[right|left]","text-emphasis-style":"none|[[filled|open]||[dot|circle|double-circle|triangle|sesame]]|<string>","text-indent":"<length-percentage>&&hanging?&&each-line?","text-justify":"auto|inter-character|inter-word|none","text-orientation":"mixed|upright|sideways","text-overflow":"[clip|ellipsis|<string>]{1,2}","text-rendering":"auto|optimizeSpeed|optimizeLegibility|geometricPrecision","text-shadow":"none|<shadow-t>#","text-size-adjust":"none|auto|<percentage>","text-transform":"none|capitalize|uppercase|lowercase|full-width|full-size-kana","text-underline-offset":"auto|<length>|<percentage>","text-underline-position":"auto|from-font|[under||[left|right]]",top:"<length>|<percentage>|auto","touch-action":"auto|none|[[pan-x|pan-left|pan-right]||[pan-y|pan-up|pan-down]||pinch-zoom]|manipulation",transform:"none|<transform-list>","transform-box":"content-box|border-box|fill-box|stroke-box|view-box","transform-origin":"[<length-percentage>|left|center|right|top|bottom]|[[<length-percentage>|left|center|right]&&[<length-percentage>|top|center|bottom]] <length>?","transform-style":"flat|preserve-3d",transition:"<single-transition>#","transition-delay":"<time>#","transition-duration":"<time>#","transition-property":"none|<single-transition-property>#","transition-timing-function":"<easing-function>#",translate:"none|<length-percentage> [<length-percentage> <length>?]?","unicode-bidi":"normal|embed|isolate|bidi-override|isolate-override|plaintext|-moz-isolate|-moz-isolate-override|-moz-plaintext|-webkit-isolate|-webkit-isolate-override|-webkit-plaintext","user-select":"auto|text|none|contain|all","vertical-align":"baseline|sub|super|text-top|text-bottom|middle|top|bottom|<percentage>|<length>",visibility:"visible|hidden|collapse","white-space":"normal|pre|nowrap|pre-wrap|pre-line|break-spaces",widows:"<integer>",width:"auto|<length>|<percentage>|min-content|max-content|fit-content|fit-content( <length-percentage> )|fill|stretch|intrinsic|-moz-max-content|-webkit-max-content|-moz-fit-content|-webkit-fit-content","will-change":"auto|<animateable-feature>#","word-break":"normal|break-all|keep-all|break-word","word-spacing":"normal|<length>","word-wrap":"normal|break-word","writing-mode":"horizontal-tb|vertical-rl|vertical-lr|sideways-rl|sideways-lr|<svg-writing-mode>","z-index":"auto|<integer>",zoom:"normal|reset|<number>|<percentage>","-moz-background-clip":"padding|border","-moz-border-radius-bottomleft":"<'border-bottom-left-radius'>","-moz-border-radius-bottomright":"<'border-bottom-right-radius'>","-moz-border-radius-topleft":"<'border-top-left-radius'>","-moz-border-radius-topright":"<'border-bottom-right-radius'>","-moz-control-character-visibility":"visible|hidden","-moz-osx-font-smoothing":"auto|grayscale","-moz-user-select":"none|text|all|-moz-none","-ms-flex-align":"start|end|center|baseline|stretch","-ms-flex-item-align":"auto|start|end|center|baseline|stretch","-ms-flex-line-pack":"start|end|center|justify|distribute|stretch","-ms-flex-negative":"<'flex-shrink'>","-ms-flex-pack":"start|end|center|justify|distribute","-ms-flex-order":"<integer>","-ms-flex-positive":"<'flex-grow'>","-ms-flex-preferred-size":"<'flex-basis'>","-ms-interpolation-mode":"nearest-neighbor|bicubic","-ms-grid-column-align":"start|end|center|stretch","-ms-grid-row-align":"start|end|center|stretch","-ms-hyphenate-limit-last":"none|always|column|page|spread","-webkit-background-clip":"[<box>|border|padding|content|text]#","-webkit-column-break-after":"always|auto|avoid","-webkit-column-break-before":"always|auto|avoid","-webkit-column-break-inside":"always|auto|avoid","-webkit-font-smoothing":"auto|none|antialiased|subpixel-antialiased","-webkit-mask-box-image":"[<url>|<gradient>|none] [<length-percentage>{4} <-webkit-mask-box-repeat>{2}]?","-webkit-print-color-adjust":"economy|exact","-webkit-text-security":"none|circle|disc|square","-webkit-user-drag":"none|element|auto","-webkit-user-select":"auto|none|text|all","alignment-baseline":"auto|baseline|before-edge|text-before-edge|middle|central|after-edge|text-after-edge|ideographic|alphabetic|hanging|mathematical","baseline-shift":"baseline|sub|super|<svg-length>",behavior:"<url>+","clip-rule":"nonzero|evenodd",cue:"<'cue-before'> <'cue-after'>?","cue-after":"<url> <decibel>?|none","cue-before":"<url> <decibel>?|none","dominant-baseline":"auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge",fill:"<paint>","fill-opacity":"<number-zero-one>","fill-rule":"nonzero|evenodd","glyph-orientation-horizontal":"<angle>","glyph-orientation-vertical":"<angle>",kerning:"auto|<svg-length>",marker:"none|<url>","marker-end":"none|<url>","marker-mid":"none|<url>","marker-start":"none|<url>",pause:"<'pause-before'> <'pause-after'>?","pause-after":"<time>|none|x-weak|weak|medium|strong|x-strong","pause-before":"<time>|none|x-weak|weak|medium|strong|x-strong",rest:"<'rest-before'> <'rest-after'>?","rest-after":"<time>|none|x-weak|weak|medium|strong|x-strong","rest-before":"<time>|none|x-weak|weak|medium|strong|x-strong","shape-rendering":"auto|optimizeSpeed|crispEdges|geometricPrecision",src:"[<url> [format( <string># )]?|local( <family-name> )]#",speak:"auto|none|normal","speak-as":"normal|spell-out||digits||[literal-punctuation|no-punctuation]",stroke:"<paint>","stroke-dasharray":"none|[<svg-length>+]#","stroke-dashoffset":"<svg-length>","stroke-linecap":"butt|round|square","stroke-linejoin":"miter|round|bevel","stroke-miterlimit":"<number-one-or-greater>","stroke-opacity":"<number-zero-one>","stroke-width":"<svg-length>","text-anchor":"start|middle|end","unicode-range":"<urange>#","voice-balance":"<number>|left|center|right|leftwards|rightwards","voice-duration":"auto|<time>","voice-family":"[[<family-name>|<generic-voice>] ,]* [<family-name>|<generic-voice>]|preserve","voice-pitch":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-range":"<frequency>&&absolute|[[x-low|low|medium|high|x-high]||[<frequency>|<semitones>|<percentage>]]","voice-rate":"[normal|x-slow|slow|medium|fast|x-fast]||<percentage>","voice-stress":"normal|strong|moderate|none|reduced","voice-volume":"silent|[[x-soft|soft|medium|loud|x-loud]||<decibel>]"},atrules:{charset:{prelude:"<string>",descriptors:null},"counter-style":{prelude:"<counter-style-name>",descriptors:{"additive-symbols":"[<integer>&&<symbol>]#",fallback:"<counter-style-name>",negative:"<symbol> <symbol>?",pad:"<integer>&&<symbol>",prefix:"<symbol>",range:"[[<integer>|infinite]{2}]#|auto","speak-as":"auto|bullets|numbers|words|spell-out|<counter-style-name>",suffix:"<symbol>",symbols:"<symbol>+",system:"cyclic|numeric|alphabetic|symbolic|additive|[fixed <integer>?]|[extends <counter-style-name>]"}},document:{prelude:"[<url>|url-prefix( <string> )|domain( <string> )|media-document( <string> )|regexp( <string> )]#",descriptors:null},"font-face":{prelude:null,descriptors:{"ascent-override":"normal|<percentage>","descent-override":"normal|<percentage>","font-display":"[auto|block|swap|fallback|optional]","font-family":"<family-name>","font-feature-settings":"normal|<feature-tag-value>#","font-variation-settings":"normal|[<string> <number>]#","font-stretch":"<font-stretch-absolute>{1,2}","font-style":"normal|italic|oblique <angle>{0,2}","font-weight":"<font-weight-absolute>{1,2}","font-variant":"normal|none|[<common-lig-values>||<discretionary-lig-values>||<historical-lig-values>||<contextual-alt-values>||stylistic( <feature-value-name> )||historical-forms||styleset( <feature-value-name># )||character-variant( <feature-value-name># )||swash( <feature-value-name> )||ornaments( <feature-value-name> )||annotation( <feature-value-name> )||[small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps]||<numeric-figure-values>||<numeric-spacing-values>||<numeric-fraction-values>||ordinal||slashed-zero||<east-asian-variant-values>||<east-asian-width-values>||ruby]","line-gap-override":"normal|<percentage>","size-adjust":"<percentage>",src:"[<url> [format( <string># )]?|local( <family-name> )]#","unicode-range":"<urange>#"}},"font-feature-values":{prelude:"<family-name>#",descriptors:null},import:{prelude:"[<string>|<url>] [layer|layer( <layer-name> )]? [supports( [<supports-condition>|<declaration>] )]? <media-query-list>?",descriptors:null},keyframes:{prelude:"<keyframes-name>",descriptors:null},layer:{prelude:"[<layer-name>#|<layer-name>?]",descriptors:null},media:{prelude:"<media-query-list>",descriptors:null},namespace:{prelude:"<namespace-prefix>? [<string>|<url>]",descriptors:null},page:{prelude:"<page-selector-list>",descriptors:{bleed:"auto|<length>",marks:"none|[crop||cross]",size:"<length>{1,2}|auto|[<page-size>||[portrait|landscape]]"}},property:{prelude:"<custom-property-name>",descriptors:{syntax:"<string>",inherits:"true|false","initial-value":"<string>"}},"scroll-timeline":{prelude:"<timeline-name>",descriptors:null},supports:{prelude:"<supports-condition>",descriptors:null},viewport:{prelude:null,descriptors:{height:"<viewport-length>{1,2}","max-height":"<viewport-length>","max-width":"<viewport-length>","max-zoom":"auto|<number>|<percentage>","min-height":"<viewport-length>","min-width":"<viewport-length>","min-zoom":"auto|<number>|<percentage>",orientation:"auto|portrait|landscape","user-zoom":"zoom|fixed","viewport-fit":"auto|contain|cover",width:"<viewport-length>{1,2}",zoom:"auto|<number>|<percentage>"}},nest:{prelude:"<complex-selector-list>",descriptors:null}}},Xe=43,Jt=45,Ya=110,lr=!0,fE=!1;function Wa(r,t){let e=this.tokenStart+r;const n=this.charCodeAt(e);for((n===Xe||n===Jt)&&(t&&this.error("Number sign is not allowed"),e++);e<this.tokenEnd;e++)Et(this.charCodeAt(e))||this.error("Integer is expected",e)}function ei(r){return Wa.call(this,0,r)}function Bn(r,t){if(!this.cmpChar(this.tokenStart+r,t)){let e="";switch(t){case Ya:e="N is expected";break;case Jt:e="HyphenMinus is expected";break}this.error(e,this.tokenStart+r)}}function Wc(){let r=0,t=0,e=this.tokenType;for(;e===pt||e===jt;)e=this.lookupType(++r);if(e!==H)if(this.isDelim(Xe,r)||this.isDelim(Jt,r)){t=this.isDelim(Xe,r)?Xe:Jt;do e=this.lookupType(++r);while(e===pt||e===jt);e!==H&&(this.skip(r),ei.call(this,lr))}else return null;return r>0&&this.skip(r),t===0&&(e=this.charCodeAt(this.tokenStart),e!==Xe&&e!==Jt&&this.error("Number sign is expected")),ei.call(this,t!==0),t===Jt?"-"+this.consume(H):this.consume(H)}const pE="AnPlusB",gE={a:[String,null],b:[String,null]};function vg(){const r=this.tokenStart;let t=null,e=null;if(this.tokenType===H)ei.call(this,fE),e=this.consume(H);else if(this.tokenType===R&&this.cmpChar(this.tokenStart,Jt))switch(t="-1",Bn.call(this,1,Ya),this.tokenEnd-this.tokenStart){case 2:this.next(),e=Wc.call(this);break;case 3:Bn.call(this,2,Jt),this.next(),this.skipSC(),ei.call(this,lr),e="-"+this.consume(H);break;default:Bn.call(this,2,Jt),Wa.call(this,3,lr),this.next(),e=this.substrToCursor(r+2)}else if(this.tokenType===R||this.isDelim(Xe)&&this.lookupType(1)===R){let n=0;switch(t="1",this.isDelim(Xe)&&(n=1,this.next()),Bn.call(this,0,Ya),this.tokenEnd-this.tokenStart){case 1:this.next(),e=Wc.call(this);break;case 2:Bn.call(this,1,Jt),this.next(),this.skipSC(),ei.call(this,lr),e="-"+this.consume(H);break;default:Bn.call(this,1,Jt),Wa.call(this,2,lr),this.next(),e=this.substrToCursor(r+n+1)}}else if(this.tokenType===K){const n=this.charCodeAt(this.tokenStart),i=n===Xe||n===Jt;let s=this.tokenStart+i;for(;s<this.tokenEnd&&Et(this.charCodeAt(s));s++);s===this.tokenStart+i&&this.error("Integer is expected",this.tokenStart+i),Bn.call(this,s-this.tokenStart,Ya),t=this.substring(r,s),s+1===this.tokenEnd?(this.next(),e=Wc.call(this)):(Bn.call(this,s-this.tokenStart+1,Jt),s+2===this.tokenEnd?(this.next(),this.skipSC(),ei.call(this,lr),e="-"+this.consume(H)):(Wa.call(this,s-this.tokenStart+2,lr),this.next(),e=this.substrToCursor(s+1)))}else this.error();return t!==null&&t.charCodeAt(0)===Xe&&(t=t.substr(1)),e!==null&&e.charCodeAt(0)===Xe&&(e=e.substr(1)),{type:"AnPlusB",loc:this.getLocation(r,this.tokenStart),a:t,b:e}}function mE(r){if(r.a){const t=r.a==="+1"&&"n"||r.a==="1"&&"n"||r.a==="-1"&&"-n"||r.a+"n";if(r.b){const e=r.b[0]==="-"||r.b[0]==="+"?r.b:"+"+r.b;this.tokenize(t+e)}else this.tokenize(t)}else this.tokenize(r.b)}const bE=Object.freeze(Object.defineProperty({__proto__:null,generate:mE,name:pE,parse:vg,structure:gE},Symbol.toStringTag,{value:"Module"}));function wg(r){return this.Raw(r,this.consumeUntilLeftCurlyBracketOrSemicolon,!0)}function yE(){for(let r=1,t;t=this.lookupType(r);r++){if(t===ae)return!0;if(t===qt||t===bt)return!1}return!1}const vE="Atrule",wE="atrule",xE={name:String,prelude:["AtrulePrelude","Raw",null],block:["Block",null]};function xg(r=!1){const t=this.tokenStart;let e,n,i=null,s=null;switch(this.eat(bt),e=this.substrToCursor(t+1),n=e.toLowerCase(),this.skipSC(),this.eof===!1&&this.tokenType!==qt&&this.tokenType!==Vt&&(this.parseAtrulePrelude?i=this.parseWithFallback(this.AtrulePrelude.bind(this,e,r),wg):i=wg.call(this,this.tokenIndex),this.skipSC()),this.tokenType){case Vt:this.next();break;case qt:hasOwnProperty.call(this.atrule,n)&&typeof this.atrule[n].block=="function"?s=this.atrule[n].block.call(this,r):s=this.Block(yE.call(this));break}return{type:"Atrule",loc:this.getLocation(t,this.tokenStart),name:e,prelude:i,block:s}}function kE(r){this.token(bt,"@"+r.name),r.prelude!==null&&this.node(r.prelude),r.block?this.node(r.block):this.token(Vt,";")}const SE=Object.freeze(Object.defineProperty({__proto__:null,generate:kE,name:vE,parse:xg,structure:xE,walkContext:wE},Symbol.toStringTag,{value:"Module"})),AE="AtrulePrelude",EE="atrulePrelude",CE={children:[[]]};function kg(r){let t=null;return r!==null&&(r=r.toLowerCase()),this.skipSC(),hasOwnProperty.call(this.atrule,r)&&typeof this.atrule[r].prelude=="function"?t=this.atrule[r].prelude.call(this):t=this.readSequence(this.scope.AtrulePrelude),this.skipSC(),this.eof!==!0&&this.tokenType!==qt&&this.tokenType!==Vt&&this.error("Semicolon or block is expected"),{type:"AtrulePrelude",loc:this.getLocationFromList(t),children:t}}function TE(r){this.children(r)}const LE=Object.freeze(Object.defineProperty({__proto__:null,generate:TE,name:AE,parse:kg,structure:CE,walkContext:EE},Symbol.toStringTag,{value:"Module"})),DE=36,Sg=42,Ga=61,IE=94,Gc=124,OE=126;function NE(){this.eof&&this.error("Unexpected end of input");const r=this.tokenStart;let t=!1;return this.isDelim(Sg)?(t=!0,this.next()):this.isDelim(Gc)||this.eat(R),this.isDelim(Gc)?this.charCodeAt(this.tokenStart+1)!==Ga?(this.next(),this.eat(R)):t&&this.error("Identifier is expected",this.tokenEnd):t&&this.error("Vertical line is expected"),{type:"Identifier",loc:this.getLocation(r,this.tokenStart),name:this.substrToCursor(r)}}function ME(){const r=this.tokenStart,t=this.charCodeAt(r);return t!==Ga&&t!==OE&&t!==IE&&t!==DE&&t!==Sg&&t!==Gc&&this.error("Attribute selector (=, ~=, ^=, $=, *=, |=) is expected"),this.next(),t!==Ga&&(this.isDelim(Ga)||this.error("Equal sign is expected"),this.next()),this.substrToCursor(r)}const qE="AttributeSelector",_E={name:"Identifier",matcher:[String,null],value:["String","Identifier",null],flags:[String,null]};function Ag(){const r=this.tokenStart;let t,e=null,n=null,i=null;return this.eat(Zt),this.skipSC(),t=NE.call(this),this.skipSC(),this.tokenType!==Ee&&(this.tokenType!==R&&(e=ME.call(this),this.skipSC(),n=this.tokenType===We?this.String():this.Identifier(),this.skipSC()),this.tokenType===R&&(i=this.consume(R),this.skipSC())),this.eat(Ee),{type:"AttributeSelector",loc:this.getLocation(r,this.tokenStart),name:t,matcher:e,value:n,flags:i}}function RE(r){this.token(X,"["),this.node(r.name),r.matcher!==null&&(this.tokenize(r.matcher),this.node(r.value)),r.flags!==null&&this.token(R,r.flags),this.token(X,"]")}const zE=Object.freeze(Object.defineProperty({__proto__:null,generate:RE,name:qE,parse:Ag,structure:_E},Symbol.toStringTag,{value:"Module"})),BE=38;function Eg(r){return this.Raw(r,null,!0)}function Cg(){return this.parseWithFallback(this.Rule,Eg)}function Tg(r){return this.Raw(r,this.consumeUntilSemicolonIncluded,!0)}function PE(){if(this.tokenType===Vt)return Tg.call(this,this.tokenIndex);const r=this.parseWithFallback(this.Declaration,Tg);return this.tokenType===Vt&&this.next(),r}const $E="Block",jE="block",FE={children:[["Atrule","Rule","Declaration"]]};function Lg(r){const t=r?PE:Cg,e=this.tokenStart;let n=this.createList();this.eat(qt);t:for(;!this.eof;)switch(this.tokenType){case ae:break t;case pt:case jt:this.next();break;case bt:n.push(this.parseWithFallback(this.Atrule.bind(this,r),Eg));break;default:r&&this.isDelim(BE)?n.push(Cg.call(this)):n.push(t.call(this))}return this.eof||this.eat(ae),{type:"Block",loc:this.getLocation(e,this.tokenStart),children:n}}function HE(r){this.token(qt,"{"),this.children(r,t=>{t.type==="Declaration"&&this.token(Vt,";")}),this.token(ae,"}")}const UE=Object.freeze(Object.defineProperty({__proto__:null,generate:HE,name:$E,parse:Lg,structure:FE,walkContext:jE},Symbol.toStringTag,{value:"Module"})),VE="Brackets",YE={children:[[]]};function Dg(r,t){const e=this.tokenStart;let n=null;return this.eat(Zt),n=r.call(this,t),this.eof||this.eat(Ee),{type:"Brackets",loc:this.getLocation(e,this.tokenStart),children:n}}function WE(r){this.token(X,"["),this.children(r),this.token(X,"]")}const GE=Object.freeze(Object.defineProperty({__proto__:null,generate:WE,name:VE,parse:Dg,structure:YE},Symbol.toStringTag,{value:"Module"})),KE="CDC",QE=[];function Ig(){const r=this.tokenStart;return this.eat(Ut),{type:"CDC",loc:this.getLocation(r,this.tokenStart)}}function XE(){this.token(Ut,"-->")}const ZE=Object.freeze(Object.defineProperty({__proto__:null,generate:XE,name:KE,parse:Ig,structure:QE},Symbol.toStringTag,{value:"Module"})),JE="CDO",tC=[];function Og(){const r=this.tokenStart;return this.eat(Pi),{type:"CDO",loc:this.getLocation(r,this.tokenStart)}}function eC(){this.token(Pi,"<!--")}const nC=Object.freeze(Object.defineProperty({__proto__:null,generate:eC,name:JE,parse:Og,structure:tC},Symbol.toStringTag,{value:"Module"})),rC=46,iC="ClassSelector",sC={name:String};function Ng(){return this.eatDelim(rC),{type:"ClassSelector",loc:this.getLocation(this.tokenStart-1,this.tokenEnd),name:this.consume(R)}}function aC(r){this.token(X,"."),this.token(R,r.name)}const oC=Object.freeze(Object.defineProperty({__proto__:null,generate:aC,name:iC,parse:Ng,structure:sC},Symbol.toStringTag,{value:"Module"})),lC=43,Mg=47,cC=62,uC=126,dC="Combinator",hC={name:String};function qg(){const r=this.tokenStart;let t;switch(this.tokenType){case pt:t=" ";break;case X:switch(this.charCodeAt(this.tokenStart)){case cC:case lC:case uC:this.next();break;case Mg:this.next(),this.eatIdent("deep"),this.eatDelim(Mg);break;default:this.error("Combinator is expected")}t=this.substrToCursor(r);break}return{type:"Combinator",loc:this.getLocation(r,this.tokenStart),name:t}}function fC(r){this.tokenize(r.name)}const pC=Object.freeze(Object.defineProperty({__proto__:null,generate:fC,name:dC,parse:qg,structure:hC},Symbol.toStringTag,{value:"Module"})),gC=42,mC=47,bC="Comment",yC={value:String};function _g(){const r=this.tokenStart;let t=this.tokenEnd;return this.eat(jt),t-r+2>=2&&this.charCodeAt(t-2)===gC&&this.charCodeAt(t-1)===mC&&(t-=2),{type:"Comment",loc:this.getLocation(r,this.tokenStart),value:this.substring(r+2,t)}}function vC(r){this.token(jt,"/*"+r.value+"*/")}const wC=Object.freeze(Object.defineProperty({__proto__:null,generate:vC,name:bC,parse:_g,structure:yC},Symbol.toStringTag,{value:"Module"})),Rg=33,xC=35,kC=36,SC=38,AC=42,EC=43,zg=47;function CC(r){return this.Raw(r,this.consumeUntilExclamationMarkOrSemicolon,!0)}function TC(r){return this.Raw(r,this.consumeUntilExclamationMarkOrSemicolon,!1)}function LC(){const r=this.tokenIndex,t=this.Value();return t.type!=="Raw"&&this.eof===!1&&this.tokenType!==Vt&&this.isDelim(Rg)===!1&&this.isBalanceEdge(r)===!1&&this.error(),t}const DC="Declaration",IC="declaration",OC={important:[Boolean,String],property:String,value:["Value","Raw"]};function Bg(){const r=this.tokenStart,t=this.tokenIndex,e=MC.call(this),n=Sc(e),i=n?this.parseCustomProperty:this.parseValue,s=n?TC:CC;let a=!1,o;this.skipSC(),this.eat(Mt);const l=this.tokenIndex;if(n||this.skipSC(),i?o=this.parseWithFallback(LC,s):o=s.call(this,this.tokenIndex),n&&o.type==="Value"&&o.children.isEmpty){for(let c=l-this.tokenIndex;c<=0;c++)if(this.lookupType(c)===pt){o.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}return this.isDelim(Rg)&&(a=qC.call(this),this.skipSC()),this.eof===!1&&this.tokenType!==Vt&&this.isBalanceEdge(t)===!1&&this.error(),{type:"Declaration",loc:this.getLocation(r,this.tokenStart),important:a,property:e,value:o}}function NC(r){this.token(R,r.property),this.token(Mt,":"),this.node(r.value),r.important&&(this.token(X,"!"),this.token(R,r.important===!0?"important":r.important))}function MC(){const r=this.tokenStart;if(this.tokenType===X)switch(this.charCodeAt(this.tokenStart)){case AC:case kC:case EC:case xC:case SC:this.next();break;case zg:this.next(),this.isDelim(zg)&&this.next();break}return this.tokenType===lt?this.eat(lt):this.eat(R),this.substrToCursor(r)}function qC(){this.eat(X),this.skipSC();const r=this.consume(R);return r==="important"?!0:r}const _C=Object.freeze(Object.defineProperty({__proto__:null,generate:NC,name:DC,parse:Bg,structure:OC,walkContext:IC},Symbol.toStringTag,{value:"Module"})),RC=38;function Kc(r){return this.Raw(r,this.consumeUntilSemicolonIncluded,!0)}const zC="DeclarationList",BC={children:[["Declaration","Atrule","Rule"]]};function Pg(){const r=this.createList();for(;!this.eof;)switch(this.tokenType){case pt:case jt:case Vt:this.next();break;case bt:r.push(this.parseWithFallback(this.Atrule.bind(this,!0),Kc));break;default:this.isDelim(RC)?r.push(this.parseWithFallback(this.Rule,Kc)):r.push(this.parseWithFallback(this.Declaration,Kc))}return{type:"DeclarationList",loc:this.getLocationFromList(r),children:r}}function PC(r){this.children(r,t=>{t.type==="Declaration"&&this.token(Vt,";")})}const $C=Object.freeze(Object.defineProperty({__proto__:null,generate:PC,name:zC,parse:Pg,structure:BC},Symbol.toStringTag,{value:"Module"})),jC="Dimension",FC={value:String,unit:String};function $g(){const r=this.tokenStart,t=this.consumeNumber(K);return{type:"Dimension",loc:this.getLocation(r,this.tokenStart),value:t,unit:this.substring(r+t.length,this.tokenStart)}}function HC(r){this.token(K,r.value+r.unit)}const UC=Object.freeze(Object.defineProperty({__proto__:null,generate:HC,name:jC,parse:$g,structure:FC},Symbol.toStringTag,{value:"Module"})),VC="Function",YC="function",WC={name:String,children:[[]]};function jg(r,t){const e=this.tokenStart,n=this.consumeFunctionName(),i=n.toLowerCase();let s;return s=t.hasOwnProperty(i)?t[i].call(this,t):r.call(this,t),this.eof||this.eat(rt),{type:"Function",loc:this.getLocation(e,this.tokenStart),name:n,children:s}}function GC(r){this.token(Q,r.name+"("),this.children(r),this.token(rt,")")}const KC=Object.freeze(Object.defineProperty({__proto__:null,generate:GC,name:VC,parse:jg,structure:WC,walkContext:YC},Symbol.toStringTag,{value:"Module"})),QC="XXX",XC="Hash",ZC={value:String};function Fg(){const r=this.tokenStart;return this.eat(lt),{type:"Hash",loc:this.getLocation(r,this.tokenStart),value:this.substrToCursor(r+1)}}function JC(r){this.token(lt,"#"+r.value)}const tT=Object.freeze(Object.defineProperty({__proto__:null,generate:JC,name:XC,parse:Fg,structure:ZC,xxx:QC},Symbol.toStringTag,{value:"Module"})),eT="Identifier",nT={name:String};function Hg(){return{type:"Identifier",loc:this.getLocation(this.tokenStart,this.tokenEnd),name:this.consume(R)}}function rT(r){this.token(R,r.name)}const iT=Object.freeze(Object.defineProperty({__proto__:null,generate:rT,name:eT,parse:Hg,structure:nT},Symbol.toStringTag,{value:"Module"})),sT="IdSelector",aT={name:String};function Ug(){const r=this.tokenStart;return this.eat(lt),{type:"IdSelector",loc:this.getLocation(r,this.tokenStart),name:this.substrToCursor(r+1)}}function oT(r){this.token(X,"#"+r.name)}const lT=Object.freeze(Object.defineProperty({__proto__:null,generate:oT,name:sT,parse:Ug,structure:aT},Symbol.toStringTag,{value:"Module"})),cT="MediaFeature",uT={name:String,value:["Identifier","Number","Dimension","Ratio",null]};function Vg(){const r=this.tokenStart;let t,e=null;if(this.eat(xt),this.skipSC(),t=this.consume(R),this.skipSC(),this.tokenType!==rt){switch(this.eat(Mt),this.skipSC(),this.tokenType){case H:this.lookupNonWSType(1)===X?e=this.Ratio():e=this.Number();break;case K:e=this.Dimension();break;case R:e=this.Identifier();break;default:this.error("Number, dimension, ratio or identifier is expected")}this.skipSC()}return this.eat(rt),{type:"MediaFeature",loc:this.getLocation(r,this.tokenStart),name:t,value:e}}function dT(r){this.token(xt,"("),this.token(R,r.name),r.value!==null&&(this.token(Mt,":"),this.node(r.value)),this.token(rt,")")}const hT=Object.freeze(Object.defineProperty({__proto__:null,generate:dT,name:cT,parse:Vg,structure:uT},Symbol.toStringTag,{value:"Module"})),fT="MediaQuery",pT={children:[["Identifier","MediaFeature","WhiteSpace"]]};function Yg(){const r=this.createList();let t=null;this.skipSC();t:for(;!this.eof;){switch(this.tokenType){case jt:case pt:this.next();continue;case R:t=this.Identifier();break;case xt:t=this.MediaFeature();break;default:break t}r.push(t)}return t===null&&this.error("Identifier or parenthesis is expected"),{type:"MediaQuery",loc:this.getLocationFromList(r),children:r}}function gT(r){this.children(r)}const mT=Object.freeze(Object.defineProperty({__proto__:null,generate:gT,name:fT,parse:Yg,structure:pT},Symbol.toStringTag,{value:"Module"})),bT="MediaQueryList",yT={children:[["MediaQuery"]]};function Wg(){const r=this.createList();for(this.skipSC();!this.eof&&(r.push(this.MediaQuery()),this.tokenType===Ge);)this.next();return{type:"MediaQueryList",loc:this.getLocationFromList(r),children:r}}function vT(r){this.children(r,()=>this.token(Ge,","))}const wT=Object.freeze(Object.defineProperty({__proto__:null,generate:vT,name:bT,parse:Wg,structure:yT},Symbol.toStringTag,{value:"Module"})),xT=38,kT="NestingSelector",ST={};function Gg(){const r=this.tokenStart;return this.eatDelim(xT),{type:"NestingSelector",loc:this.getLocation(r,this.tokenStart)}}function AT(){this.token(X,"&")}const ET=Object.freeze(Object.defineProperty({__proto__:null,generate:AT,name:kT,parse:Gg,structure:ST},Symbol.toStringTag,{value:"Module"})),CT="Nth",TT={nth:["AnPlusB","Identifier"],selector:["SelectorList",null]};function Kg(){this.skipSC();const r=this.tokenStart;let t=r,e=null,n;return this.lookupValue(0,"odd")||this.lookupValue(0,"even")?n=this.Identifier():n=this.AnPlusB(),t=this.tokenStart,this.skipSC(),this.lookupValue(0,"of")&&(this.next(),e=this.SelectorList(),t=this.tokenStart),{type:"Nth",loc:this.getLocation(r,t),nth:n,selector:e}}function LT(r){this.node(r.nth),r.selector!==null&&(this.token(R,"of"),this.node(r.selector))}const DT=Object.freeze(Object.defineProperty({__proto__:null,generate:LT,name:CT,parse:Kg,structure:TT},Symbol.toStringTag,{value:"Module"})),IT="Number",OT={value:String};function Qg(){return{type:"Number",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consume(H)}}function NT(r){this.token(H,r.value)}const MT=Object.freeze(Object.defineProperty({__proto__:null,generate:NT,name:IT,parse:Qg,structure:OT},Symbol.toStringTag,{value:"Module"})),qT="Operator",_T={value:String};function Xg(){const r=this.tokenStart;return this.next(),{type:"Operator",loc:this.getLocation(r,this.tokenStart),value:this.substrToCursor(r)}}function RT(r){this.tokenize(r.value)}const zT=Object.freeze(Object.defineProperty({__proto__:null,generate:RT,name:qT,parse:Xg,structure:_T},Symbol.toStringTag,{value:"Module"})),BT="Parentheses",PT={children:[[]]};function Zg(r,t){const e=this.tokenStart;let n=null;return this.eat(xt),n=r.call(this,t),this.eof||this.eat(rt),{type:"Parentheses",loc:this.getLocation(e,this.tokenStart),children:n}}function $T(r){this.token(xt,"("),this.children(r),this.token(rt,")")}const jT=Object.freeze(Object.defineProperty({__proto__:null,generate:$T,name:BT,parse:Zg,structure:PT},Symbol.toStringTag,{value:"Module"})),FT="Percentage",HT={value:String};function Jg(){return{type:"Percentage",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:this.consumeNumber(ft)}}function UT(r){this.token(ft,r.value+"%")}const VT=Object.freeze(Object.defineProperty({__proto__:null,generate:UT,name:FT,parse:Jg,structure:HT},Symbol.toStringTag,{value:"Module"})),YT="PseudoClassSelector",WT="function",GT={name:String,children:[["Raw"],null]};function tm(){const r=this.tokenStart;let t=null,e,n;return this.eat(Mt),this.tokenType===Q?(e=this.consumeFunctionName(),n=e.toLowerCase(),hasOwnProperty.call(this.pseudo,n)?(this.skipSC(),t=this.pseudo[n].call(this),this.skipSC()):(t=this.createList(),t.push(this.Raw(this.tokenIndex,null,!1))),this.eat(rt)):e=this.consume(R),{type:"PseudoClassSelector",loc:this.getLocation(r,this.tokenStart),name:e,children:t}}function KT(r){this.token(Mt,":"),r.children===null?this.token(R,r.name):(this.token(Q,r.name+"("),this.children(r),this.token(rt,")"))}const QT=Object.freeze(Object.defineProperty({__proto__:null,generate:KT,name:YT,parse:tm,structure:GT,walkContext:WT},Symbol.toStringTag,{value:"Module"})),XT="PseudoElementSelector",ZT="function",JT={name:String,children:[["Raw"],null]};function em(){const r=this.tokenStart;let t=null,e,n;return this.eat(Mt),this.eat(Mt),this.tokenType===Q?(e=this.consumeFunctionName(),n=e.toLowerCase(),hasOwnProperty.call(this.pseudo,n)?(this.skipSC(),t=this.pseudo[n].call(this),this.skipSC()):(t=this.createList(),t.push(this.Raw(this.tokenIndex,null,!1))),this.eat(rt)):e=this.consume(R),{type:"PseudoElementSelector",loc:this.getLocation(r,this.tokenStart),name:e,children:t}}function tL(r){this.token(Mt,":"),this.token(Mt,":"),r.children===null?this.token(R,r.name):(this.token(Q,r.name+"("),this.children(r),this.token(rt,")"))}const eL=Object.freeze(Object.defineProperty({__proto__:null,generate:tL,name:XT,parse:em,structure:JT,walkContext:ZT},Symbol.toStringTag,{value:"Module"})),nL=47,rL=46;function nm(){this.skipSC();const r=this.consume(H);for(let t=0;t<r.length;t++){const e=r.charCodeAt(t);!Et(e)&&e!==rL&&this.error("Unsigned number is expected",this.tokenStart-r.length+t)}return Number(r)===0&&this.error("Zero number is not allowed",this.tokenStart-r.length),r}const iL="Ratio",sL={left:String,right:String};function rm(){const r=this.tokenStart,t=nm.call(this);let e;return this.skipSC(),this.eatDelim(nL),e=nm.call(this),{type:"Ratio",loc:this.getLocation(r,this.tokenStart),left:t,right:e}}function aL(r){this.token(H,r.left),this.token(X,"/"),this.token(H,r.right)}const oL=Object.freeze(Object.defineProperty({__proto__:null,generate:aL,name:iL,parse:rm,structure:sL},Symbol.toStringTag,{value:"Module"}));function lL(){return this.tokenIndex>0&&this.lookupType(-1)===pt?this.tokenIndex>1?this.getTokenStart(this.tokenIndex-1):this.firstCharOffset:this.tokenStart}const cL="Raw",uL={value:String};function im(r,t,e){const n=this.getTokenStart(r);let i;return this.skipUntilBalanced(r,t||this.consumeUntilBalanceEnd),e&&this.tokenStart>n?i=lL.call(this):i=this.tokenStart,{type:"Raw",loc:this.getLocation(n,i),value:this.substring(n,i)}}function dL(r){this.tokenize(r.value)}const hL=Object.freeze(Object.defineProperty({__proto__:null,generate:dL,name:cL,parse:im,structure:uL},Symbol.toStringTag,{value:"Module"}));function sm(r){return this.Raw(r,this.consumeUntilLeftCurlyBracket,!0)}function fL(){const r=this.SelectorList();return r.type!=="Raw"&&this.eof===!1&&this.tokenType!==qt&&this.error(),r}const pL="Rule",gL="rule",mL={prelude:["SelectorList","Raw"],block:["Block"]};function am(){const r=this.tokenIndex,t=this.tokenStart;let e,n;return this.parseRulePrelude?e=this.parseWithFallback(fL,sm):e=sm.call(this,r),n=this.Block(!0),{type:"Rule",loc:this.getLocation(t,this.tokenStart),prelude:e,block:n}}function bL(r){this.node(r.prelude),this.node(r.block)}const yL=Object.freeze(Object.defineProperty({__proto__:null,generate:bL,name:pL,parse:am,structure:mL,walkContext:gL},Symbol.toStringTag,{value:"Module"})),vL="Selector",wL={children:[["TypeSelector","IdSelector","ClassSelector","AttributeSelector","PseudoClassSelector","PseudoElementSelector","Combinator","WhiteSpace"]]};function om(){const r=this.readSequence(this.scope.Selector);return this.getFirstListNode(r)===null&&this.error("Selector is expected"),{type:"Selector",loc:this.getLocationFromList(r),children:r}}function xL(r){this.children(r)}const kL=Object.freeze(Object.defineProperty({__proto__:null,generate:xL,name:vL,parse:om,structure:wL},Symbol.toStringTag,{value:"Module"})),SL="SelectorList",AL="selector",EL={children:[["Selector","Raw"]]};function lm(){const r=this.createList();for(;!this.eof;){if(r.push(this.Selector()),this.tokenType===Ge){this.next();continue}break}return{type:"SelectorList",loc:this.getLocationFromList(r),children:r}}function CL(r){this.children(r,()=>this.token(Ge,","))}const TL=Object.freeze(Object.defineProperty({__proto__:null,generate:CL,name:SL,parse:lm,structure:EL,walkContext:AL},Symbol.toStringTag,{value:"Module"})),Qc=92,cm=34,LL=39;function um(r){const t=r.length,e=r.charCodeAt(0),n=e===cm||e===LL?1:0,i=n===1&&t>1&&r.charCodeAt(t-1)===e?t-2:t-1;let s="";for(let a=n;a<=i;a++){let o=r.charCodeAt(a);if(o===Qc){if(a===i){a!==t-1&&(s=r.substr(a+1));break}if(o=r.charCodeAt(++a),Ke(Qc,o)){const l=a-1,c=Gr(r,l);a=c-1,s+=np(r.substring(l+1,c))}else o===13&&r.charCodeAt(a+1)===10&&a++}else s+=r[a]}return s}function DL(r,t){const e='"',n=cm;let i="",s=!1;for(let a=0;a<r.length;a++){const o=r.charCodeAt(a);if(o===0){i+="�";continue}if(o<=31||o===127){i+="\\"+o.toString(16),s=!0;continue}o===n||o===Qc?(i+="\\"+r.charAt(a),s=!1):(s&&(_n(o)||ar(o))&&(i+=" "),i+=r.charAt(a),s=!1)}return e+i+e}const IL="String",OL={value:String};function dm(){return{type:"String",loc:this.getLocation(this.tokenStart,this.tokenEnd),value:um(this.consume(We))}}function NL(r){this.token(We,DL(r.value))}const ML=Object.freeze(Object.defineProperty({__proto__:null,generate:NL,name:IL,parse:dm,structure:OL},Symbol.toStringTag,{value:"Module"})),qL=33;function hm(r){return this.Raw(r,null,!1)}const _L="StyleSheet",RL="stylesheet",zL={children:[["Comment","CDO","CDC","Atrule","Rule","Raw"]]};function fm(){const r=this.tokenStart,t=this.createList();let e;for(;!this.eof;){switch(this.tokenType){case pt:this.next();continue;case jt:if(this.charCodeAt(this.tokenStart+2)!==qL){this.next();continue}e=this.Comment();break;case Pi:e=this.CDO();break;case Ut:e=this.CDC();break;case bt:e=this.parseWithFallback(this.Atrule,hm);break;default:e=this.parseWithFallback(this.Rule,hm)}t.push(e)}return{type:"StyleSheet",loc:this.getLocation(r,this.tokenStart),children:t}}function BL(r){this.children(r)}const PL=Object.freeze(Object.defineProperty({__proto__:null,generate:BL,name:_L,parse:fm,structure:zL,walkContext:RL},Symbol.toStringTag,{value:"Module"})),$L=42,pm=124;function Xc(){this.tokenType!==R&&this.isDelim($L)===!1&&this.error("Identifier or asterisk is expected"),this.next()}const jL="TypeSelector",FL={name:String};function gm(){const r=this.tokenStart;return this.isDelim(pm)?(this.next(),Xc.call(this)):(Xc.call(this),this.isDelim(pm)&&(this.next(),Xc.call(this))),{type:"TypeSelector",loc:this.getLocation(r,this.tokenStart),name:this.substrToCursor(r)}}function HL(r){this.tokenize(r.name)}const UL=Object.freeze(Object.defineProperty({__proto__:null,generate:HL,name:jL,parse:gm,structure:FL},Symbol.toStringTag,{value:"Module"})),mm=43,bm=45,Zc=63;function Xi(r,t){let e=0;for(let n=this.tokenStart+r;n<this.tokenEnd;n++){const i=this.charCodeAt(n);if(i===bm&&t&&e!==0)return Xi.call(this,r+e+1,!1),-1;_n(i)||this.error(t&&e!==0?"Hyphen minus"+(e<6?" or hex digit":"")+" is expected":e<6?"Hex digit is expected":"Unexpected input",n),++e>6&&this.error("Too many hex digits",n)}return this.next(),e}function Ka(r){let t=0;for(;this.isDelim(Zc);)++t>r&&this.error("Too many question marks"),this.next()}function VL(r){this.charCodeAt(this.tokenStart)!==r&&this.error((r===mm?"Plus sign":"Hyphen minus")+" is expected")}function YL(){let r=0;switch(this.tokenType){case H:if(r=Xi.call(this,1,!0),this.isDelim(Zc)){Ka.call(this,6-r);break}if(this.tokenType===K||this.tokenType===H){VL.call(this,bm),Xi.call(this,1,!1);break}break;case K:r=Xi.call(this,1,!0),r>0&&Ka.call(this,6-r);break;default:if(this.eatDelim(mm),this.tokenType===R){r=Xi.call(this,0,!0),r>0&&Ka.call(this,6-r);break}if(this.isDelim(Zc)){this.next(),Ka.call(this,5);break}this.error("Hex digit or question mark is expected")}}const WL="UnicodeRange",GL={value:String};function ym(){const r=this.tokenStart;return this.eatIdent("u"),YL.call(this),{type:"UnicodeRange",loc:this.getLocation(r,this.tokenStart),value:this.substrToCursor(r)}}function KL(r){this.tokenize(r.value)}const QL=Object.freeze(Object.defineProperty({__proto__:null,generate:KL,name:WL,parse:ym,structure:GL},Symbol.toStringTag,{value:"Module"})),XL=32,Jc=92,ZL=34,JL=39,tD=40,vm=41;function eD(r){const t=r.length;let e=4,n=r.charCodeAt(t-1)===vm?t-2:t-1,i="";for(;e<n&&ar(r.charCodeAt(e));)e++;for(;e<n&&ar(r.charCodeAt(n));)n--;for(let s=e;s<=n;s++){let a=r.charCodeAt(s);if(a===Jc){if(s===n){s!==t-1&&(i=r.substr(s+1));break}if(a=r.charCodeAt(++s),Ke(Jc,a)){const o=s-1,l=Gr(r,o);s=l-1,i+=np(r.substring(o+1,l))}else a===13&&r.charCodeAt(s+1)===10&&s++}else i+=r[s]}return i}function nD(r){let t="",e=!1;for(let n=0;n<r.length;n++){const i=r.charCodeAt(n);if(i===0){t+="�";continue}if(i<=31||i===127){t+="\\"+i.toString(16),e=!0;continue}i===XL||i===Jc||i===ZL||i===JL||i===tD||i===vm?(t+="\\"+r.charAt(n),e=!1):(e&&_n(i)&&(t+=" "),t+=r.charAt(n),e=!1)}return"url("+t+")"}const rD="Url",iD={value:String};function wm(){const r=this.tokenStart;let t;switch(this.tokenType){case Nt:t=eD(this.consume(Nt));break;case Q:this.cmpStr(this.tokenStart,this.tokenEnd,"url(")||this.error("Function name must be `url`"),this.eat(Q),this.skipSC(),t=um(this.consume(We)),this.skipSC(),this.eof||this.eat(rt);break;default:this.error("Url or Function is expected")}return{type:"Url",loc:this.getLocation(r,this.tokenStart),value:t}}function sD(r){this.token(Nt,nD(r.value))}const aD=Object.freeze(Object.defineProperty({__proto__:null,generate:sD,name:rD,parse:wm,structure:iD},Symbol.toStringTag,{value:"Module"})),oD="Value",lD={children:[[]]};function xm(){const r=this.tokenStart,t=this.readSequence(this.scope.Value);return{type:"Value",loc:this.getLocation(r,this.tokenStart),children:t}}function cD(r){this.children(r)}const uD=Object.freeze(Object.defineProperty({__proto__:null,generate:cD,name:oD,parse:xm,structure:lD},Symbol.toStringTag,{value:"Module"})),dD=Object.freeze({type:"WhiteSpace",loc:null,value:" "}),hD="WhiteSpace",fD={value:String};function km(){return this.eat(pt),dD}function pD(r){this.token(pt,r.value)}const gD=Object.freeze(Object.defineProperty({__proto__:null,generate:pD,name:hD,parse:km,structure:fD},Symbol.toStringTag,{value:"Module"})),Sm=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:bE,Atrule:SE,AtrulePrelude:LE,AttributeSelector:zE,Block:UE,Brackets:GE,CDC:ZE,CDO:nC,ClassSelector:oC,Combinator:pC,Comment:wC,Declaration:_C,DeclarationList:$C,Dimension:UC,Function:KC,Hash:tT,IdSelector:lT,Identifier:iT,MediaFeature:hT,MediaQuery:mT,MediaQueryList:wT,NestingSelector:ET,Nth:DT,Number:MT,Operator:zT,Parentheses:jT,Percentage:VT,PseudoClassSelector:QT,PseudoElementSelector:eL,Ratio:oL,Raw:hL,Rule:yL,Selector:kL,SelectorList:TL,String:ML,StyleSheet:PL,TypeSelector:UL,UnicodeRange:QL,Url:aD,Value:uD,WhiteSpace:gD},Symbol.toStringTag,{value:"Module"})),mD=$t(W({generic:!0},hE),{node:Sm}),bD=35,yD=42,Am=43,vD=45,wD=47,xD=117;function Em(r){switch(this.tokenType){case lt:return this.Hash();case Ge:return this.Operator();case xt:return this.Parentheses(this.readSequence,r.recognizer);case Zt:return this.Brackets(this.readSequence,r.recognizer);case We:return this.String();case K:return this.Dimension();case ft:return this.Percentage();case H:return this.Number();case Q:return this.cmpStr(this.tokenStart,this.tokenEnd,"url(")?this.Url():this.Function(this.readSequence,r.recognizer);case Nt:return this.Url();case R:return this.cmpChar(this.tokenStart,xD)&&this.cmpChar(this.tokenStart+1,Am)?this.UnicodeRange():this.Identifier();case X:{const t=this.charCodeAt(this.tokenStart);if(t===wD||t===yD||t===Am||t===vD)return this.Operator();t===bD&&this.error("Hex or identifier is expected",this.tokenStart+1);break}}}const kD={getNode:Em},SD=35,AD=38,ED=42,CD=43,TD=47,Cm=46,LD=62,DD=124,ID=126;function OD(r,t){t.last!==null&&t.last.type!=="Combinator"&&r!==null&&r.type!=="Combinator"&&t.push({type:"Combinator",loc:null,name:" "})}function ND(){switch(this.tokenType){case Zt:return this.AttributeSelector();case lt:return this.IdSelector();case Mt:return this.lookupType(1)===Mt?this.PseudoElementSelector():this.PseudoClassSelector();case R:return this.TypeSelector();case H:case ft:return this.Percentage();case K:this.charCodeAt(this.tokenStart)===Cm&&this.error("Identifier is expected",this.tokenStart+1);break;case X:{switch(this.charCodeAt(this.tokenStart)){case CD:case LD:case ID:case TD:return this.Combinator();case Cm:return this.ClassSelector();case ED:case DD:return this.TypeSelector();case SD:return this.IdSelector();case AD:return this.NestingSelector()}break}}}const MD={onWhiteSpace:OD,getNode:ND};function qD(){return this.createSingleNodeList(this.Raw(this.tokenIndex,null,!1))}function _D(){const r=this.createList();if(this.skipSC(),r.push(this.Identifier()),this.skipSC(),this.tokenType===Ge){r.push(this.Operator());const t=this.tokenIndex,e=this.parseCustomProperty?this.Value(null):this.Raw(this.tokenIndex,this.consumeUntilExclamationMarkOrSemicolon,!1);if(e.type==="Value"&&e.children.isEmpty){for(let n=t-this.tokenIndex;n<=0;n++)if(this.lookupType(n)===pt){e.children.appendData({type:"WhiteSpace",loc:null,value:" "});break}}r.push(e)}return r}function Tm(r){return r!==null&&r.type==="Operator"&&(r.value[r.value.length-1]==="-"||r.value[r.value.length-1]==="+")}const RD={getNode:Em,onWhiteSpace(r,t){Tm(r)&&(r.value=" "+r.value),Tm(t.last)&&(t.last.value+=" ")},expression:qD,var:_D},zD=Object.freeze(Object.defineProperty({__proto__:null,AtrulePrelude:kD,Selector:MD,Value:RD},Symbol.toStringTag,{value:"Module"})),BD={parse:{prelude:null,block(){return this.Block(!0)}}},PD={parse:{prelude(){const r=this.createList();switch(this.skipSC(),this.tokenType){case We:r.push(this.String());break;case Nt:case Q:r.push(this.Url());break;default:this.error("String or url() is expected")}return(this.lookupNonWSType(0)===R||this.lookupNonWSType(0)===xt)&&r.push(this.MediaQueryList()),r},block:null}},$D={parse:{prelude(){return this.createSingleNodeList(this.MediaQueryList())},block(r=!1){return this.Block(r)}}},jD={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}},FD={parse:{prelude(){return this.createSingleNodeList(this.SelectorList())},block(){return this.Block(!0)}}};function HD(){return this.createSingleNodeList(this.Raw(this.tokenIndex,null,!1))}function UD(){return this.skipSC(),this.tokenType===R&&this.lookupNonWSType(1)===Mt?this.createSingleNodeList(this.Declaration()):Lm.call(this)}function Lm(){const r=this.createList();let t;this.skipSC();t:for(;!this.eof;){switch(this.tokenType){case jt:case pt:this.next();continue;case Q:t=this.Function(HD,this.scope.AtrulePrelude);break;case R:t=this.Identifier();break;case xt:t=this.Parentheses(UD,this.scope.AtrulePrelude);break;default:break t}r.push(t)}return r}const VD={parse:{prelude(){const r=Lm.call(this);return this.getFirstListNode(r)===null&&this.error("Condition is expected"),r},block(r=!1){return this.Block(r)}}},YD={"font-face":BD,import:PD,media:$D,nest:jD,page:FD,supports:VD},cr={parse(){return this.createSingleNodeList(this.SelectorList())}},tu={parse(){return this.createSingleNodeList(this.Selector())}},Dm={parse(){return this.createSingleNodeList(this.Identifier())}},Qa={parse(){return this.createSingleNodeList(this.Nth())}},WD={dir:Dm,has:cr,lang:Dm,matches:cr,is:cr,"-moz-any":cr,"-webkit-any":cr,where:cr,not:cr,"nth-child":Qa,"nth-last-child":Qa,"nth-last-of-type":Qa,"nth-of-type":Qa,slotted:tu,host:tu,"host-context":tu},GD=Object.freeze(Object.defineProperty({__proto__:null,AnPlusB:vg,Atrule:xg,AtrulePrelude:kg,AttributeSelector:Ag,Block:Lg,Brackets:Dg,CDC:Ig,CDO:Og,ClassSelector:Ng,Combinator:qg,Comment:_g,Declaration:Bg,DeclarationList:Pg,Dimension:$g,Function:jg,Hash:Fg,IdSelector:Ug,Identifier:Hg,MediaFeature:Vg,MediaQuery:Yg,MediaQueryList:Wg,NestingSelector:Gg,Nth:Kg,Number:Qg,Operator:Xg,Parentheses:Zg,Percentage:Jg,PseudoClassSelector:tm,PseudoElementSelector:em,Ratio:rm,Raw:im,Rule:am,Selector:om,SelectorList:lm,String:dm,StyleSheet:fm,TypeSelector:gm,UnicodeRange:ym,Url:wm,Value:xm,WhiteSpace:km},Symbol.toStringTag,{value:"Module"})),KD={parseContext:{default:"StyleSheet",stylesheet:"StyleSheet",atrule:"Atrule",atrulePrelude(r){return this.AtrulePrelude(r.atrule?String(r.atrule):null)},mediaQueryList:"MediaQueryList",mediaQuery:"MediaQuery",rule:"Rule",selectorList:"SelectorList",selector:"Selector",block(){return this.Block(!0)},declarationList:"DeclarationList",declaration:"Declaration",value:"Value"},scope:zD,atrule:YD,pseudo:WD,node:GD},QD={node:Sm},XD=dE(W(W(W({},mD),KD),QD));function eu(r){const t={};for(const e in r){let n=r[e];n&&(Array.isArray(n)||n instanceof yt?n=n.map(eu):n.constructor===Object&&(n=eu(n))),t[e]=n}return t}const{tokenize:LI,parse:ZD,generate:JD,lexer:DI,createLexer:II,walk:ur,find:OI,findLast:NI,findAll:MI,toPlainObject:qI,fromPlainObject:_I,fork:RI}=XD;let t2="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Le=(r=21)=>{let t="",e=r;for(;e--;)t+=t2[Math.random()*64|0];return t};function dr(r){return ZD(r,{parseAtrulePrelude:!1,parseCustomProperty:!0})}function te(r){return JD(r,{mode:"spec"})}function Im(r){return r.type==="Declaration"}function e2(r){return r.value.children.first.name}const nu={"position-anchor":`--position-anchor-${Le(12)}`,"anchor-scope":`--anchor-scope-${Le(12)}`,"anchor-name":`--anchor-name-${Le(12)}`};function n2(r,t){return Im(r)&&nu[r.property]&&t?(t.children.appendData($t(W({},r),{property:nu[r.property]})),{updated:!0}):{}}function r2(r){for(const t of r){let e=!1;const n=dr(t.css);ur(n,{visit:"Declaration",enter(i){var s;const a=(s=this.rule)==null?void 0:s.block,{updated:o}=n2(i,a);o&&(e=!0)}}),e&&(t.css=te(n),t.changed=!0)}return r.some(t=>t.changed===!0)}var Om=(r=>(r.All="all",r.None="none",r))(Om||{});function Ze(r,t){var e;return t=(e=nu[t])!=null?e:t,(r instanceof HTMLElement?getComputedStyle(r):r.computedStyle).getPropertyValue(t).trim()}function ni(r,t,e){return Ze(r,t)===e}function i2(r,{selector:t,pseudoElementPart:e}){const n=getComputedStyle(r,e),i=document.createElement("div"),s=document.createElement("style");i.id=`fake-pseudo-element-${Le()}`;for(const o of Array.from(n)){const l=n.getPropertyValue(o);i.style.setProperty(o,l)}s.textContent+=`#${i.id}${e} { content: ${n.content}; }`,s.textContent+=`${t} { display: none !important; }`,document.head.append(s);const a=e==="::before"?"afterbegin":"beforeend";return r.insertAdjacentElement(a,i),{fakePseudoElement:i,sheet:s,computedStyle:n}}function s2(r){let t=r;for(;t;){if(ni(t,"overflow","scroll"))return t;t=t.parentElement}return t}function a2(r){let t=s2(r);return t===document.documentElement&&(t=null),t??{scrollTop:0,scrollLeft:0}}function o2(r){const{elementPart:t,pseudoElementPart:e}=r,n=[];if(e&&!(e==="::before"||e==="::after"))return n;const i=Array.from(document.querySelectorAll(t));if(!e)return n.push(...i),n;for(const s of i){const{fakePseudoElement:a,sheet:o,computedStyle:l}=i2(s,r),c=a.getBoundingClientRect(),{scrollY:u,scrollX:h}=globalThis,f=a2(s);n.push({fakePseudoElement:a,computedStyle:l,removeFakePseudoElement(){a.remove(),o.remove()},contextElement:s,getBoundingClientRect(){const{scrollY:p,scrollX:m}=globalThis,{scrollTop:b,scrollLeft:w}=f;return DOMRect.fromRect({y:c.y+(u-p)+(f.scrollTop-b),x:c.x+(h-m)+(f.scrollLeft-w),width:c.width,height:c.height})}})}return n}function l2(r,t){const e=Ze(r,"anchor-name");return t?e.split(",").map(n=>n.trim()).includes(t):!e}function c2(r,t){const e=Ze(r,"anchor-scope");return e===t||e==="all"}function u2(r){return!!((r.type==="text/css"||r.rel==="stylesheet")&&r.href)}function d2(r){const t=new URL(r.href,document.baseURI);if(u2(r)&&t.origin===location.origin)return t}function h2(r){return mt(this,null,function*(){return Promise.all(r.map(t=>mt(this,null,function*(){if(!t.url)return t;const e=yield(yield fetch(t.url.toString())).text();return $t(W({},t),{css:e})})))})}function f2(){const r=document.querySelectorAll('[style*="anchor"]'),t=[];return r.forEach(e=>{const n=Le(12),i="data-has-inline-styles";e.setAttribute(i,n);const s=e.getAttribute("style"),a=`[${i}="${n}"] { ${s} }`;t.push({el:e,css:a})}),t}function p2(){return mt(this,null,function*(){const r=document.querySelectorAll("link, style"),t=[];r.forEach(n=>{if(n.tagName.toLowerCase()==="link"){const i=d2(n);i&&t.push({el:n,url:i})}n.tagName.toLowerCase()==="style"&&t.push({el:n,css:n.innerHTML})});const e=f2();return yield h2([...t,...e])})}function g2(r,t){return!r||r===t?!1:Nm(r)?r.document.contains(t):r.contains(t)}function Nm(r){return!!(r&&r===r.window)}function m2(r){return ni(r,"position","fixed")}function ru(r){return!!(r&&(m2(r)||ni(r,"position","absolute")))}function Mm(r,t){return r.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING}function b2(r){return mt(this,null,function*(){return yield se.getOffsetParent(r)})}function iu(r){return mt(this,null,function*(){if(!["absolute","fixed"].includes(Ze(r,"position")))return yield b2(r);let t=r.parentElement;for(;t;){if(!ni(t,"position","static")&&ni(t,"display","block"))return t;t=t.parentElement}return window})}function y2(r,t,e,n){return mt(this,null,function*(){const i=yield iu(r),s=yield iu(e);if(!(g2(s,r)||Nm(s))||i===s&&!(!ru(r)||Mm(r,e)))return!1;if(i!==s){let a;const o=[];for(a=i;a&&a!==s&&a!==window;)o.push(a),a=yield iu(a);const l=o[o.length-1];if(l instanceof HTMLElement&&!(!ru(l)||Mm(l,e)))return!1}{let a=r.parentElement;for(;a;){if(ni(a,"content-visibility","hidden"))return!1;a=a.parentElement}}return!(t&&n&&qm(r,t,n)!==qm(e,t,n))})}function qm(r,t,e){for(;!(r.matches(e)&&c2(r,t));){if(!r.parentElement)return null;r=r.parentElement}return r}function _m(r,t,e,n){return mt(this,null,function*(){if(!(r instanceof HTMLElement&&e.length&&ru(r)))return null;const i=e.flatMap(o2).filter(a=>l2(a,t)),s=n.map(a=>a.selector).join(",")||null;for(let a=i.length-1;a>=0;a--){const o=i[a],l="fakePseudoElement"in o;if(yield y2(l?o.fakePseudoElement:o,t,r,s))return l&&o.removeFakePseudoElement(),o}return null})}const v2=["left","right","top","bottom","inset-block-start","inset-block-end","inset-inline-start","inset-inline-end","inset-block","inset-inline","inset"],w2=["width","height","min-width","min-height","max-width","max-height"],x2=["justify-content","align-content","justify-self","align-self","justify-items","align-items"],k2=["top","left","right","bottom","start","end","self-start","self-end","center"],S2=["width","height","block","inline","self-block","self-inline"];function A2(r){return r.type==="Declaration"&&r.property==="anchor-name"}function E2(r){return r.type==="Declaration"&&r.property==="anchor-scope"}function Rm(r){return!!(r&&r.type==="Function"&&r.name==="anchor")}function zm(r){return!!(r&&r.type==="Function"&&r.name==="anchor-size")}function Xa(r){return!!(r&&r.type==="Function"&&r.name==="var")}function C2(r){return r.type==="Declaration"&&r.property==="position-fallback"}function T2(r){return r.type==="Atrule"&&r.name==="position-fallback"}function L2(r){return r.type==="Atrule"&&r.name==="try"}function su(r){return!!(r.type==="Identifier"&&r.name)}function D2(r){return!!(r.type==="Percentage"&&r.value)}function Zi(r){return v2.includes(r)}function I2(r){return k2.includes(r)}function Za(r){return w2.includes(r)}function O2(r){return S2.includes(r)}function N2(r){return x2.includes(r)}function Bm(r,t){let e,n,i,s="",a=!1,o;const l=[];r.children.toArray().forEach(f=>{if(a){s=`${s}${te(f)}`;return}if(f.type==="Operator"&&f.value===","){a=!0;return}l.push(f)});let[c,u]=l;if(u||(u=c,c=void 0),c&&(su(c)?c.name==="implicit"?c=void 0:c.name.startsWith("--")&&(e=c.name):Xa(c)&&c.children.first&&(o=c.children.first.name)),u)if(Rm(r)){if(su(u)&&I2(u.name))n=u.name;else if(D2(u)){const f=Number(u.value);n=Number.isNaN(f)?void 0:f}}else zm(r)&&su(u)&&O2(u.name)&&(i=u.name);const h=`--anchor-${Le(12)}`;return Object.assign(r,{type:"Raw",value:`var(${h})`,children:null}),Reflect.deleteProperty(r,"name"),{anchorName:e,anchorSide:n,anchorSize:i,fallbackValue:s||"0px",customPropName:o,uuid:h}}function Pm(r){return r.value.children.map(({name:t})=>t)}function au(r){return r?r.children.map(t=>{var e;let n;((e=t.children.last)==null?void 0:e.type)==="PseudoElementSelector"&&(t=eu(t),n=te(t.children.last),t.children.pop());const i=te(t);return{selector:i+(n??""),elementPart:i,pseudoElementPart:n}}).toArray():[]}let Ji={},hr={},fr={},ts={},pr={};function M2(){Ji={},hr={},fr={},ts={},pr={}}function q2(r,t){var e;if((Rm(r)||zm(r))&&t){if(t.property.startsWith("--")){const n=te(t.value),i=Bm(r);return ts[i.uuid]=n,fr[t.property]=[...(e=fr[t.property])!=null?e:[],i],{changed:!0}}if(Zi(t.property)||Za(t.property)){const n=Bm(r);return{prop:t.property,data:n,changed:!0}}}return{}}function _2(r){return C2(r)&&r.value.children.first?e2(r):null}function R2(r){var t,e;if(T2(r)&&(t=r.prelude)!=null&&t.value&&(e=r.block)!=null&&e.children){const n=r.prelude.value,i=[];return r.block.children.filter(L2).forEach(s=>{var a;if((a=s.block)!=null&&a.children){const o=s.block.children.filter(c=>Im(c)&&(Zi(c.property)||Za(c.property)||N2(c.property))),l={uuid:`${n}-try-${Le(12)}`,declarations:Object.fromEntries(o.map(c=>[c.property,te(c.value)]))};i.push(l)}}),{name:n,blocks:i}}return{}}function z2(r,t){return mt(this,null,function*(){let e=t.anchorName;const n=t.customPropName;if(r&&!e){const o=r.getAttribute("anchor"),l=Ze(r,"position-anchor");if(l)e=l;else if(n)e=Ze(r,n);else if(o){const c=`#${CSS.escape(o)}`;return yield _m(r,null,[{selector:c,elementPart:c}],[])}}const i=e?Ji[e]||[]:[],s=e?hr[Om.All]||[]:[],a=e?hr[e]||[]:[];return yield _m(r,e||null,i,[...s,...a])})}function B2(r){return mt(this,null,function*(){var t,e,n,i,s,a;const o={},l={},c={},u={};M2();for(const b of r){const w=dr(b.css);ur(w,{visit:"Atrule",enter(v){const{name:k,blocks:A}=R2(v);k&&A!=null&&A.length&&(c[k]={targets:[],blocks:A})}})}for(const b of r){let w=!1;const v=dr(b.css);ur(v,{visit:"Declaration",enter(k){var A,E;const T=(A=this.rule)==null?void 0:A.prelude,M=au(T),N=_2(k);if(N&&M.length&&c[N]){for(const{selector:S}of M)u[S]={fallbacks:c[N].blocks},c[N].targets.includes(S)||c[N].targets.push(S);for(const S of c[N].blocks){const C=`[data-anchor-polyfill="${S.uuid}"]`;(E=this.stylesheet)==null||E.children.prependData({type:"Rule",prelude:{type:"Raw",value:C},block:{type:"Block",children:new yt().fromArray(Object.entries(S.declarations).map(([q,O])=>({type:"Declaration",important:!0,property:q,value:{type:"Raw",value:O}})))}}),l[C]=M.map(({selector:q})=>q).join(", ")}w=!0}}}),w&&(b.css=te(v),b.changed=!0)}for(const b of r){let w=!1;const v=dr(b.css);ur(v,function(k){var A,E,T;const M=(A=this.rule)==null?void 0:A.prelude,N=au(M);if(A2(k)&&N.length)for(const O of Pm(k))Ji[O]!=null||(Ji[O]=[]),Ji[O].push(...N);if(E2(k)&&N.length)for(const O of Pm(k))hr[O]!=null||(hr[O]=[]),hr[O].push(...N);const{prop:S,data:C,changed:q}=q2(k,this.declaration);if(S&&C&&N.length)for(const{selector:O}of N)o[O]=$t(W({},o[O]),{[S]:[...(T=(E=o[O])==null?void 0:E[S])!=null?T:[],C]});q&&(w=!0)}),w&&(b.css=te(v),b.changed=!0)}const h=new Set(Object.keys(fr)),f={},p=b=>{var w,v,k,A,E;const T=[],M=new Set((v=(w=f[b])==null?void 0:w.names)!=null?v:[]);for(;M.size>0;)for(const N of M)T.push(...(k=fr[N])!=null?k:[]),M.delete(N),(E=(A=f[N])==null?void 0:A.names)!=null&&E.length&&f[N].names.forEach(S=>M.add(S));return T};for(;h.size>0;){const b=[];for(const w of r){let v=!1;const k=dr(w.css);ur(k,{visit:"Function",enter(A){var E,T;const M=(E=this.rule)==null?void 0:E.prelude,N=this.declaration,S=N==null?void 0:N.property;if((M==null?void 0:M.children.isEmpty)===!1&&Xa(A)&&N&&S&&A.children.first&&h.has(A.children.first.name)&&S.startsWith("--")){const C=A.children.first,q=(T=fr[C.name])!=null?T:[],O=p(C.name);if(!(q.length||O.length))return;const F=`${C.name}-anchor-${Le(12)}`,Z=te(N.value);ts[F]=Z,f[S]||(f[S]={names:[],uuids:[]});const U=f[S];U.names.includes(C.name)||U.names.push(C.name),U.uuids.push(F),b.push(S),C.name=F,v=!0}}}),v&&(w.css=te(k),w.changed=!0)}h.clear(),b.forEach(w=>h.add(w))}for(const b of r){let w=!1;const v=dr(b.css);ur(v,{visit:"Function",enter(k){var A,E,T,M,N,S,C;const q=(A=this.rule)==null?void 0:A.prelude,O=this.declaration,F=O==null?void 0:O.property;if((q==null?void 0:q.children.isEmpty)===!1&&Xa(k)&&O&&F&&k.children.first&&(Zi(F)||Za(F))){const Z=k.children.first,U=(E=fr[Z.name])!=null?E:[],dt=p(Z.name);if(!(U.length||dt.length))return;const at=`${F}-${Le(12)}`;if(dt.length){const ht=new Set([Z.name]);for(;ht.size>0;)for(const St of ht){const V=f[St];if((T=V==null?void 0:V.names)!=null&&T.length&&(M=V==null?void 0:V.uuids)!=null&&M.length)for(const tn of V.names)for(const en of V.uuids)pr[en]=$t(W({},pr[en]),{[at]:`${tn}-${at}`});ht.delete(St),(N=V==null?void 0:V.names)!=null&&N.length&&V.names.forEach(tn=>ht.add(tn))}}const kt=au(q);for(const ht of[...U,...dt]){const St=W({},ht),V=`--anchor-${Le(12)}-${F}`,tn=St.uuid;St.uuid=V;for(const{selector:en}of kt)o[en]=$t(W({},o[en]),{[F]:[...(C=(S=o[en])==null?void 0:S[F])!=null?C:[],St]});pr[tn]=$t(W({},pr[tn]),{[at]:V})}Z.name=`${Z.name}-${at}`,w=!0}}}),w&&(b.css=te(v),b.changed=!0)}if(Object.keys(pr).length>0)for(const b of r){let w=!1;const v=dr(b.css);ur(v,{visit:"Function",enter(k){var A,E,T,M;if(Xa(k)&&(E=(A=k.children.first)==null?void 0:A.name)!=null&&E.startsWith("--")&&(M=(T=this.declaration)==null?void 0:T.property)!=null&&M.startsWith("--")&&this.block){const N=k.children.first,S=pr[N.name];if(S)for(const[C,q]of Object.entries(S))this.block.children.appendData({type:"Declaration",important:!1,property:`${this.declaration.property}-${C}`,value:{type:"Raw",value:te(this.declaration.value).replace(`var(${N.name})`,`var(${q})`)}}),w=!0;ts[N.name]&&(this.declaration.value={type:"Raw",value:ts[N.name]},w=!0)}}}),w&&(b.css=te(v),b.changed=!0)}const m=new Map;for(const[b,w]of Object.entries(o)){let v;b.startsWith("[data-anchor-polyfill=")&&l[b]?v=document.querySelectorAll(l[b]):v=document.querySelectorAll(b);for(const[k,A]of Object.entries(w))for(const E of A)for(const T of v){const M=yield z2(T,E),N=`--anchor-${Le(12)}`;m.set(T,$t(W({},(t=m.get(T))!=null?t:{}),{[E.uuid]:N})),T.setAttribute("style",`${E.uuid}: var(${N}); ${(e=T.getAttribute("style"))!=null?e:""}`),u[b]=$t(W({},u[b]),{declarations:$t(W({},(n=u[b])==null?void 0:n.declarations),{[k]:[...(a=(s=(i=u[b])==null?void 0:i.declarations)==null?void 0:s[k])!=null?a:[],$t(W({},E),{anchorEl:M,targetEl:T,uuid:N})]})})}}return{rules:u,inlineStyles:m,anchorScopes:hr}})}function $m(r,t,e=!1){return mt(this,null,function*(){const n=[];for(const{el:i,css:s,changed:a}of r){const o={el:i,css:s,changed:!1};if(a){if(i.tagName.toLowerCase()==="style")i.innerHTML=s;else if(i.tagName.toLowerCase()==="link"){const l=new Blob([s],{type:"text/css"}),c=URL.createObjectURL(l),u=document.createElement("link");u.rel="stylesheet",u.href=c;const h=new Promise(f=>{u.onload=f});i.replaceWith(u),yield h,URL.revokeObjectURL(c),o.el=u}else if(i.hasAttribute("data-has-inline-styles")){const l=i.getAttribute("data-has-inline-styles");if(l){const c=`[data-has-inline-styles="${l}"]{`;let u=s.slice(c.length,-1);const h=t==null?void 0:t.get(i);if(h)for(const[f,p]of Object.entries(h))u=`${f}: var(${p}); ${u}`;i.setAttribute("style",u)}}}e&&i.hasAttribute("data-has-inline-styles")&&i.removeAttribute("data-has-inline-styles"),n.push(o)}return n})}const P2=$t(W({},se),{_c:new Map}),jm=r=>mt(void 0,null,function*(){var t,e,n;let i=yield(t=se.getOffsetParent)==null?void 0:t.call(se,r);return(yield(e=se.isElement)==null?void 0:e.call(se,i))||(i=(yield(n=se.getDocumentElement)==null?void 0:n.call(se,r))||window.document.documentElement),i}),$2=(r,t)=>{let e;switch(r){case"start":case"self-start":e=0;break;case"end":case"self-end":e=100;break;default:typeof r=="number"&&!Number.isNaN(r)&&(e=r)}if(e!==void 0)return t?100-e:e},j2=(r,t)=>{let e;switch(r){case"block":case"self-block":e=t?"width":"height";break;case"inline":case"self-inline":e=t?"height":"width";break}return e},Fm=r=>{switch(r){case"top":case"bottom":return"y";case"left":case"right":return"x"}return null},F2=r=>{switch(r){case"x":return"width";case"y":return"height"}return null},Hm=r=>Ze(r,"display")==="inline",Um=(r,t)=>(t==="x"?["border-left-width","border-right-width"]:["border-top-width","border-bottom-width"]).reduce((e,n)=>e+parseInt(Ze(r,n),10),0)||0,Ja=(r,t)=>parseInt(Ze(r,`margin-${t}`),10)||0,H2=r=>({top:Ja(r,"top"),right:Ja(r,"right"),bottom:Ja(r,"bottom"),left:Ja(r,"left")}),Vm=r=>mt(void 0,[r],function*({targetEl:t,targetProperty:e,anchorRect:n,anchorSide:i,anchorSize:s,fallback:a}){var o;if(!((s||i!==void 0)&&t&&n))return a;if(s){if(!Za(e))return a;let l;switch(s){case"width":case"height":l=s;break;default:{let c=!1;const u=Ze(t,"writing-mode");c=u.startsWith("vertical-")||u.startsWith("sideways-"),l=j2(s,c)}}return l?`${n[l]}px`:a}if(i!==void 0){let l,c;const u=Fm(e);if(!(Zi(e)&&u&&(!Zi(i)||u===Fm(i))))return a;switch(i){case"left":l=0;break;case"right":l=100;break;case"top":l=0;break;case"bottom":l=100;break;case"center":l=50;break;default:if(t){const p=(yield(o=se.isRTL)==null?void 0:o.call(se,t))||!1;l=$2(i,p)}}const h=typeof l=="number"&&!Number.isNaN(l),f=F2(u);if(h&&f){(e==="bottom"||e==="right")&&(c=yield jm(t));let p=n[u]+n[f]*(l/100);switch(e){case"bottom":{if(!c)break;let m=c.clientHeight;if(m===0&&Hm(c)){const b=Um(c,u);m=c.offsetHeight-b}p=m-p;break}case"right":{if(!c)break;let m=c.clientWidth;if(m===0&&Hm(c)){const b=Um(c,u);m=c.offsetWidth-b}p=m-p;break}}return`${p}px`}}return a});function U2(r,t=!1){return mt(this,null,function*(){const e=document.documentElement;for(const[n,i]of Object.entries(r))for(const s of i){const a=s.anchorEl,o=s.targetEl;if(a&&o)Xf(a,o,()=>mt(this,null,function*(){const l=yield se.getElementRects({reference:a,floating:o,strategy:"absolute"}),c=yield Vm({targetEl:o,targetProperty:n,anchorRect:l.reference,anchorSide:s.anchorSide,anchorSize:s.anchorSize,fallback:s.fallbackValue});e.style.setProperty(s.uuid,c)}),{animationFrame:t});else{const l=yield Vm({targetProperty:n,anchorSide:s.anchorSide,anchorSize:s.anchorSize,fallback:s.fallbackValue});e.style.setProperty(s.uuid,l)}}})}function V2(r,t,e=!1){return mt(this,null,function*(){if(!t.length)return;const n=document.querySelectorAll(r);for(const i of n){let s=!1;const a=yield jm(i);Xf(i,i,()=>mt(this,null,function*(){if(!s){s=!0;for(const[o,{uuid:l}]of t.entries()){if(i.setAttribute("data-anchor-polyfill",l),o===t.length-1){s=!1;break}const c=yield se.getElementRects({reference:i,floating:i,strategy:"absolute"}),u=yield Zk({x:i.offsetLeft,y:i.offsetTop,platform:P2,rects:c,elements:{floating:i},strategy:"absolute"},{boundary:a,rootBoundary:"document",padding:H2(i)});if(Object.values(u).every(h=>h<=0)){s=!1;break}}}}),{animationFrame:e})}})}function Y2(r,t=!1){return mt(this,null,function*(){var e,n;for(const i of Object.values(r))yield U2((e=i.declarations)!=null?e:{},t);for(const[i,s]of Object.entries(r))yield V2(i,(n=s.fallbacks)!=null?n:[],t)})}function W2(r){return mt(this,null,function*(){const t=!!window.UPDATE_ANCHOR_ON_ANIMATION_FRAME;let e=yield p2();(yield r2(e))&&(e=yield $m(e));const{rules:n,inlineStyles:i}=yield B2(e);return Object.values(n).length&&(yield $m(e,i,!0),yield Y2(n,t)),n})}function ou(){"anchorName"in document.documentElement.style||W2(),ma.initialize(),Ss.getInstance().init(),As.getInstance().init(),Es.getInstance().init(),Lo.getInstance().init(),Cs.getInstance().init(),Ts.getInstance().init(),Io.getInstance().init(),Ls.getInstance().init(),Fn.getInstance().init(),Ds.getInstance().init(),Is.getInstance().init(),Os.getInstance().init(),Hn.getInstance().init(),Ns.getInstance().init(),Un.getInstance().init(),Ms.getInstance().init(),Yn.getInstance().init(),Wn.getInstance().init(),js.getInstance().init(),Kn.getInstance().init(),Fs.getInstance().init(),Fo.getInstance().init(),new Hs}const lu={FormActions:Ss.getInstance(),TextareaActions:As.getInstance(),AlertActions:Es.getInstance(),AvatarActions:Lo.getInstance(),BadgeActions:Cs.getInstance(),ButtonActions:Ts.getInstance(),CalendarCore:Io.getInstance(),RadioActions:Ls.getInstance(),RangeActions:Fn.getInstance(),SelectActions:Ds.getInstance(),TabsActions:Is.getInstance(),ModalActions:Os.getInstance(),ToastActions:Hn.getInstance(),DropdownActions:Ns.getInstance(),TableActions:Un.getInstance(),ButtonGroupActions:Ms.getInstance(),TooltipActions:Yn.getInstance(),TimePickerActions:Wn.getInstance(),EditorActions:js.getInstance(),DatePickerActions:Kn.getInstance(),AddToCartActions:Fs.getInstance(),GalleryActions:Fo.getInstance(),PopoverActions:new Hs,Quill:I,init:ou,initialize:ou};typeof window<"u"&&(window.KeysUI=lu,window.Quill=I,window.manualSyncEditor=()=>lu.EditorActions.manualSync()),j.AddToCartActions=Fs,j.AlertActions=Es,j.AvatarActions=Lo,j.BadgeActions=Cs,j.BaseActionClass=G,j.ButtonActions=Ts,j.ButtonGroupActions=Ms,j.CalendarCore=Io,j.DOMUtils=y,j.DatePickerActions=Kn,j.DropdownActions=Ns,j.EditorActions=js,j.EventUtils=D,j.FloatingManager=Xb,j.FormActions=Ss,j.GalleryActions=Fo,j.ModalActions=Os,j.PopoverActions=Hs,j.RTLUtils=ma,j.RadioActions=Ls,j.RangeActions=Fn,j.SelectActions=Ds,j.TableActions=Un,j.TabsActions=Is,j.TextareaActions=As,j.TimePickerActions=Wn,j.ToastActions=Hn,j.TooltipActions=Yn,j.default=lu,j.initializeKeysUI=ou,Object.defineProperties(j,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
