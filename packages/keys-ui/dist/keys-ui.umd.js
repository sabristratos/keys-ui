(function(p,A){typeof exports=="object"&&typeof module<"u"?A(exports):typeof define=="function"&&define.amd?define(["exports"],A):(p=typeof globalThis<"u"?globalThis:p||self,A(p.KeysUI={}))})(this,function(p){"use strict";function A(B,t=""){const e=window.KeysUITranslations;if(!e)return t;const s=B.split(".");let i=e;for(const n of s)if(i=i==null?void 0:i[n],i===void 0)return t;return i||t}const b=class b{constructor(){this.initialized=!1}static getInstance(){return b.instance||(b.instance=new b),b.instance}init(){this.initialized||(this.bindEventListeners(),this.initialized=!0,console.log("FormActions initialized"))}bindEventListeners(){document.addEventListener("click",t=>{var s;const e=(s=t.target)==null?void 0:s.closest(".input-action");e&&(t.preventDefault(),this.handleActionClick(e))}),document.addEventListener("keydown",t=>{if(t.key==="Enter"||t.key===" "){const e=t.target;e!=null&&e.classList.contains("input-action")&&(t.preventDefault(),this.handleActionClick(e))}})}async handleActionClick(t){const e=t.closest(".input-action"),s=e==null?void 0:e.dataset.action;if(!s)return;const i=this.findFormElementForAction(t);if(i){switch(s){case"clear":this.clearValue(i);break;case"copy":await this.copyToClipboard(i,e);break;case"toggle-password":await this.togglePasswordVisibility(i,t,e);break;case"external":this.openExternalUrl(t.dataset.url);break;default:this.handleCustomAction(i,s);break}this.dispatchActionEvent(i,s)}}findFormElementForAction(t){const e=t.closest(".relative");return(e==null?void 0:e.querySelector("input, textarea"))||null}async swapButtonIcon(t,e){t.setAttribute("data-current-icon",e),this.updateButtonIconState(t,e)}updateButtonIconState(t,e){const s=t.querySelector(".button-icon-default"),i=t.querySelector(".button-icon-toggle"),n=t.querySelector(".button-icon-success"),o=t.dataset.iconDefault,r=t.dataset.iconToggle,a=t.dataset.iconSuccess;s&&(s.classList.remove("opacity-100"),s.classList.add("opacity-0")),i&&(i.classList.remove("opacity-100","scale-110","scale-90"),i.classList.add("opacity-0")),n&&(n.classList.remove("opacity-100","scale-110","scale-90"),n.classList.add("opacity-0")),e===o&&s?(s.classList.remove("opacity-0"),s.classList.add("opacity-100")):e===r&&i?(i.classList.remove("opacity-0"),i.classList.add("opacity-100")):e===a&&n&&(n.classList.remove("opacity-0"),n.classList.add("opacity-100","scale-110"))}animateIconSuccess(t){t.classList.add("scale-110"),setTimeout(()=>{t.classList.remove("scale-110"),t.classList.add("scale-90"),setTimeout(()=>{t.classList.remove("scale-90")},150)},150)}clearValue(t){t.value="",t.focus(),t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0}))}async copyToClipboard(t,e){const s=e.querySelector("button");try{await navigator.clipboard.writeText(t.value),this.showFeedback(t,A("feedback.copied_clipboard","Copied to clipboard"),"success"),s&&await this.showCopySuccess(s,e)}catch{this.fallbackCopyToClipboard(t,e)}}fallbackCopyToClipboard(t,e){const s=e.querySelector("button");t.select(),t instanceof HTMLInputElement&&t.setSelectionRange(0,99999);try{document.execCommand("copy"),this.showFeedback(t,A("feedback.copied_clipboard","Copied to clipboard"),"success"),s&&this.showCopySuccess(s,e)}catch{this.showFeedback(t,"Copy failed","error")}}async showCopySuccess(t,e){const s=t.dataset.iconSuccess,i=t.dataset.labelSuccess,n=t.dataset.iconDefault,o=t.querySelector(".sr-only");if(s&&n)if(await this.swapButtonIcon(t,s),i&&o){const r=o.textContent;o.textContent=i,setTimeout(async()=>{await this.swapButtonIcon(t,n),r&&o&&(o.textContent=r)},2e3)}else setTimeout(async()=>{await this.swapButtonIcon(t,n)},2e3)}async togglePasswordVisibility(t,e,s){var u;const i=t.type==="password",n=i?"text":"password",o=e.dataset.iconDefault,r=e.dataset.iconToggle,a=(u=e.querySelector(".sr-only"))==null?void 0:u.textContent,l=e.dataset.labelToggle;t.type=n;const c=e.querySelector(".sr-only");i?(r&&await this.swapButtonIcon(e,r),l&&c&&(c.textContent=l),e.setAttribute("aria-label",l||"Hide password")):(o&&await this.swapButtonIcon(e,o),a&&c&&(c.textContent=a),e.setAttribute("aria-label",a||"Show password"))}openExternalUrl(t){if(t)try{window.open(t,"_blank","noopener,noreferrer")}catch(e){console.error("Failed to open external URL:",e)}}handleCustomAction(t,e){console.log(`Custom action "${e}" triggered for element:`,t)}dispatchActionEvent(t,e){const s=new CustomEvent("form-action",{detail:{element:t,action:e,value:t.value},bubbles:!0});t.dispatchEvent(s)}showFeedback(t,e,s="success"){const i=document.createElement("div");i.className=`absolute top-full left-0 mt-1 px-2 py-1 text-xs rounded shadow-lg z-10 pointer-events-none ${s==="success"?"bg-success text-foreground-success":"bg-danger text-foreground-danger"}`,i.textContent=e;const n=t.closest(".relative");n&&(n.appendChild(i),setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},2e3))}addActionHandler(t,e){document.addEventListener("form-action",s=>{const i=s;i.detail.action===t&&e(i.detail.element)})}destroy(){this.initialized=!1,console.log("FormActions destroyed")}};b.instance=null;let x=b;x.getInstance();const w=class w{constructor(){this.initialized=!1}static getInstance(){return w.instance||(w.instance=new w),w.instance}init(){this.initialized||(this.bindEventListeners(),this.initialized=!0,console.log("AlertActions initialized"))}bindEventListeners(){document.addEventListener("click",t=>{var s;const e=(s=t.target)==null?void 0:s.closest("[data-dismiss-alert]");e&&(t.preventDefault(),this.handleDismissClick(e))}),document.addEventListener("keydown",t=>{if(t.key==="Enter"||t.key===" "){const e=t.target;e!=null&&e.hasAttribute("data-dismiss-alert")&&(t.preventDefault(),this.handleDismissClick(e))}})}handleDismissClick(t){const e=this.findAlertForButton(t);e&&(this.dismissAlert(e),this.dispatchAlertEvent(e,"dismiss"))}findAlertForButton(t){return t.closest('[data-dismissible="true"]')||null}dismissAlert(t){t.classList.add("alert-dismissing"),t.style.transition="all 0.3s ease-out",t.style.opacity="0",t.style.transform="translateX(100%)",t.style.maxHeight="0",t.style.padding="0",t.style.margin="0",t.style.overflow="hidden",setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)}showAlert(t){t.style.display="block",t.style.opacity="1",t.style.transform="translateX(0)",this.dispatchAlertEvent(t,"show")}createAlert(t){const{variant:e="info",title:s,message:i,dismissible:n=!0,duration:o,container:r=document.body}=t,a=document.createElement("div");a.className=this.getAlertClasses(e),a.setAttribute("role","alert"),n&&a.setAttribute("data-dismissible","true");const l=this.buildAlertContent(e,s,i,n);return a.innerHTML=l,r.appendChild(a),a.style.opacity="0",a.style.transform="translateX(100%)",setTimeout(()=>{this.showAlert(a)},10),o&&o>0&&setTimeout(()=>{this.dismissAlert(a)},o),this.dispatchAlertEvent(a,"create"),a}getAlertClasses(t){const e="rounded-lg border p-4 space-y-3",s={info:"bg-info/5 border-info/20 text-info-foreground",success:"bg-success/5 border-success/20 text-success-foreground",warning:"bg-warning/5 border-warning/20 text-warning-foreground",danger:"bg-danger/5 border-danger/20 text-danger-foreground",neutral:"bg-neutral/5 border-neutral/20 text-neutral-foreground"};return`${e} ${s[t]||s.info}`}buildAlertContent(t,e,s,i){const n=this.getVariantIcon(t),o=this.getVariantIconColor(t);return`
            <div class="flex">
                <div class="flex-shrink-0">
                    <svg class="w-5 h-5 ${o}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        ${this.getIconSvg(n)}
                    </svg>
                </div>
                <div class="ml-3 flex-1">
                    ${e?`<div class="text-base font-medium">${e}</div>`:""}
                    <div class="text-sm opacity-90 ${e?"mt-1":""}">${s||""}</div>
                </div>
                ${i?`
                    <div class="ml-auto pl-3">
                        <button type="button" data-dismiss-alert class="inline-flex rounded-md p-1 ${o} hover:bg-current hover:bg-opacity-20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-current" aria-label="Dismiss">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                `:""}
            </div>
        `}getVariantIcon(t){const e={info:"information-circle",success:"check-circle",warning:"exclamation-triangle",danger:"x-circle",neutral:"chat-bubble-left-ellipsis"};return e[t]||e.info}getVariantIconColor(t){const e={info:"text-info",success:"text-success",warning:"text-warning",danger:"text-danger",neutral:"text-neutral"};return e[t]||e.info}getIconSvg(t){const e={"information-circle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>',"check-circle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>',"exclamation-triangle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"></path>',"x-circle":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>',"chat-bubble-left-ellipsis":'<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>'};return e[t]||e["information-circle"]}dispatchAlertEvent(t,e){const s=new CustomEvent("alert-action",{detail:{alert:t,action:e},bubbles:!0});t.dispatchEvent(s),document.dispatchEvent(s)}addActionHandler(t,e){document.addEventListener("alert-action",s=>{const i=s;i.detail.action===t&&e(i.detail.alert)})}dismissAllByVariant(t){document.querySelectorAll(`[data-dismissible="true"][class*="${t}"]`).forEach(s=>{this.dismissAlert(s)})}dismissAll(){document.querySelectorAll('[data-dismissible="true"]').forEach(e=>{this.dismissAlert(e)})}destroy(){this.initialized=!1,console.log("AlertActions destroyed")}};w.instance=null;let I=w;I.getInstance();const y=class y{constructor(){this.initialized=!1}static getInstance(){return y.instance||(y.instance=new y),y.instance}init(){this.initialized||(this.bindEventListeners(),this.initialized=!0,console.log("RadioActions initialized"))}bindEventListeners(){document.addEventListener("click",t=>{const s=t.target.closest("label[for]");if(!s)return;const i=s.getAttribute("for");if(!i)return;const n=document.getElementById(i);!n||n.type!=="radio"||this.focusRadioInput(n)}),document.addEventListener("keydown",t=>{const e=t.target;!e||e.type!=="radio"||(t.key==="ArrowDown"||t.key==="ArrowRight"?(t.preventDefault(),this.focusNextRadio(e)):(t.key==="ArrowUp"||t.key==="ArrowLeft")&&(t.preventDefault(),this.focusPreviousRadio(e)))})}focusRadioInput(t){setTimeout(()=>{t.focus(),this.dispatchFocusEvent(t)},0)}focusNextRadio(t){const e=this.getRadioGroup(t),i=(e.indexOf(t)+1)%e.length,n=e[i];n&&(n.focus(),n.checked=!0,n.dispatchEvent(new Event("change",{bubbles:!0})),this.dispatchFocusEvent(n))}focusPreviousRadio(t){const e=this.getRadioGroup(t),s=e.indexOf(t),i=s===0?e.length-1:s-1,n=e[i];n&&(n.focus(),n.checked=!0,n.dispatchEvent(new Event("change",{bubbles:!0})),this.dispatchFocusEvent(n))}getRadioGroup(t){const e=t.name;return e?Array.from(document.querySelectorAll(`input[type="radio"][name="${e}"]`)).filter(i=>!i.disabled):[t]}dispatchFocusEvent(t){const e=new CustomEvent("radio-focus",{detail:{radio:t,name:t.name,value:t.value,checked:t.checked},bubbles:!0});t.dispatchEvent(e)}addFocusHandler(t){document.addEventListener("radio-focus",e=>{t(e.detail.radio)})}destroy(){this.initialized=!1,console.log("RadioActions destroyed")}};y.instance=null;let k=y;k.getInstance();const v=class v{constructor(){this.initialized=!1,this.selectStates=new Map}static getInstance(){return v.instance||(v.instance=new v),v.instance}init(){this.initialized||(this.bindEventListeners(),this.initializeSelects(),this.initialized=!0,console.log("SelectActions initialized"))}initializeSelects(){document.querySelectorAll('[data-select="true"]').forEach(t=>{this.initializeSelect(t)})}initializeSelect(t){const e=t.dataset.multiple==="true",s=t.dataset.value;let i=[];if(s)try{i=e?JSON.parse(s):[s]}catch{i=e?[]:[s]}const n={isOpen:!1,selectedValues:i,searchTerm:"",focusedIndex:-1,filteredOptions:[]};this.selectStates.set(t,n),this.updateOptions(t),this.updateOptionsSelectedState(t),this.updateDisplay(t)}bindEventListeners(){document.addEventListener("click",e=>{var l,c,u,d,f,g,M;const s=(l=e.target)==null?void 0:l.closest("[data-remove-chip]");if(s){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();const h=s.dataset.removeChip,q=s.closest('[data-select="true"]');q&&h&&(console.log("Chip remove clicked:",h),this.removeChip(q,h));return}const i=(c=e.target)==null?void 0:c.closest("[data-select-clear]");if(i){e.preventDefault(),e.stopPropagation();const h=i.closest('[data-select="true"]');h&&this.clearSelection(h);return}const n=(u=e.target)==null?void 0:u.closest("[data-select-option]");if(n){e.preventDefault(),e.stopPropagation();const h=n.closest('[data-select="true"]');h&&this.selectOption(h,n);return}const o=(d=e.target)==null?void 0:d.closest("[data-select-trigger]");if(o){e.preventDefault(),e.stopPropagation();const h=o.closest('[data-select="true"]');h&&!this.isDisabled(h)&&this.toggleDropdown(h);return}if((f=e.target)==null?void 0:f.closest("[data-select-search]")){e.stopPropagation();return}const a=(M=(g=e.target)==null?void 0:g.closest("[data-select-search]"))==null?void 0:M.parentElement;if(a&&a.querySelector("[data-select-search]")){e.stopPropagation();return}this.closeAllDropdowns()}),document.addEventListener("input",e=>{const s=e.target;if(s!=null&&s.matches("[data-select-search]")){const i=s.closest('[data-select="true"]');i&&this.handleSearch(i,s.value)}}),document.addEventListener("keydown",e=>{var i;const s=(i=e.target)==null?void 0:i.closest('[data-select="true"]');s&&this.handleKeydown(s,e)}),document.addEventListener("focusin",e=>{var i;const s=(i=e.target)==null?void 0:i.closest('[data-select="true"]');s&&this.isOpen(s)}),window.addEventListener("resize",()=>{this.repositionDropdowns()}),new MutationObserver(e=>{e.forEach(s=>{s.addedNodes.forEach(i=>{i.nodeType===Node.ELEMENT_NODE&&i.querySelectorAll('[data-select="true"]').forEach(r=>{this.selectStates.has(r)||this.initializeSelect(r)})})})}).observe(document.body,{childList:!0,subtree:!0})}toggleDropdown(t){const e=this.selectStates.get(t);e&&(e.isOpen?this.closeDropdown(t):this.openDropdown(t))}openDropdown(t){const e=this.selectStates.get(t);if(!e||this.isDisabled(t))return;this.closeAllDropdowns(),e.isOpen=!0,this.selectStates.set(t,e);const s=t.querySelector("[data-select-dropdown]"),i=t.querySelector("[data-select-trigger]"),n=t.querySelector("[data-select-search]");if(s&&(s.classList.remove("hidden"),this.positionDropdown(t)),i){i.setAttribute("aria-expanded","true");const o=i.querySelector(".select-arrow");o&&o.classList.add("rotate-180")}n&&t.dataset.searchable==="true"&&setTimeout(()=>n.focus(),10),this.updateFilteredOptions(t),this.dispatchSelectEvent(t,"select:open")}closeDropdown(t){const e=this.selectStates.get(t);if(!e||!e.isOpen)return;e.isOpen=!1,e.searchTerm="",e.focusedIndex=-1,this.selectStates.set(t,e);const s=t.querySelector("[data-select-dropdown]"),i=t.querySelector("[data-select-trigger]"),n=t.querySelector("[data-select-search]");if(s&&s.classList.add("hidden"),i){i.setAttribute("aria-expanded","false");const o=i.querySelector(".select-arrow");o&&o.classList.remove("rotate-180")}n&&(n.value=""),this.handleSearch(t,""),this.dispatchSelectEvent(t,"select:close")}closeAllDropdowns(){this.selectStates.forEach((t,e)=>{t.isOpen&&this.closeDropdown(e)})}selectOption(t,e){const s=this.selectStates.get(t),i=e.dataset.value;if(!s||!i||e.getAttribute("aria-disabled")==="true")return;const n=t.dataset.multiple==="true";if(n){const o=s.selectedValues.indexOf(i);o>-1?s.selectedValues.splice(o,1):s.selectedValues.push(i)}else s.selectedValues=[i],this.closeDropdown(t);this.selectStates.set(t,s),this.updateDisplay(t),this.updateHiddenInputs(t),this.updateOptionsSelectedState(t),this.dispatchSelectEvent(t,"select:change",{value:n?s.selectedValues:i,selectedValues:s.selectedValues})}removeChip(t,e){const s=this.selectStates.get(t);if(!s)return;const i=s.selectedValues.indexOf(e);i>-1&&(s.selectedValues.splice(i,1),this.selectStates.set(t,s),this.updateDisplay(t),this.updateHiddenInputs(t),this.updateOptionsSelectedState(t),this.dispatchSelectEvent(t,"select:change",{value:s.selectedValues,selectedValues:s.selectedValues}))}clearSelection(t){const e=this.selectStates.get(t);e&&(e.selectedValues=[],this.selectStates.set(t,e),this.updateDisplay(t),this.updateHiddenInputs(t),this.updateOptionsSelectedState(t),this.dispatchSelectEvent(t,"select:change",{value:t.dataset.multiple==="true"?[]:"",selectedValues:[]}))}handleSearch(t,e){const s=this.selectStates.get(t);s&&(s.searchTerm=e.toLowerCase(),this.selectStates.set(t,s),this.updateFilteredOptions(t),this.updateOptionsVisibility(t))}updateFilteredOptions(t){const e=this.selectStates.get(t);if(!e)return;const s=this.getAllOptions(t);e.searchTerm?e.filteredOptions=s.filter(i=>i.searchableText.includes(e.searchTerm)):e.filteredOptions=s,this.selectStates.set(t,e)}updateOptionsVisibility(t){const e=this.selectStates.get(t);if(!e)return;const s=t.querySelectorAll("[data-select-option]"),i=t.querySelector("[data-select-no-results]");let n=0;s.forEach(o=>{const r=o,a=r.dataset.value||"";e.filteredOptions.some(c=>c.value===a)?(r.style.display="",n++):r.style.display="none"}),i&&(n===0&&e.searchTerm?i.classList.remove("hidden"):i.classList.add("hidden"))}handleKeydown(t,e){const s=this.selectStates.get(t);if(s)switch(e.key){case"Enter":case" ":if(!s.isOpen)e.preventDefault(),this.openDropdown(t);else if(s.focusedIndex>=0){e.preventDefault();const i=s.filteredOptions[s.focusedIndex];i&&this.selectOption(t,i.element)}break;case"Escape":if(s.isOpen){e.preventDefault(),this.closeDropdown(t);const i=t.querySelector("[data-select-trigger]");i&&i.focus()}break;case"ArrowDown":s.isOpen?(e.preventDefault(),this.navigateOptions(t,1)):(e.preventDefault(),this.openDropdown(t));break;case"ArrowUp":s.isOpen&&(e.preventDefault(),this.navigateOptions(t,-1));break;case"Tab":s.isOpen&&this.closeDropdown(t);break}}navigateOptions(t,e){const s=this.selectStates.get(t);if(!s||!s.isOpen)return;const i=s.filteredOptions.length;i!==0&&(s.focusedIndex===-1?s.focusedIndex=e>0?0:i-1:(s.focusedIndex+=e,s.focusedIndex>=i?s.focusedIndex=0:s.focusedIndex<0&&(s.focusedIndex=i-1)),this.selectStates.set(t,s),this.updateOptionFocus(t))}updateOptionFocus(t){const e=this.selectStates.get(t);if(!e)return;t.querySelectorAll("[data-select-option]").forEach((i,n)=>{const o=i;n===e.focusedIndex?(o.classList.add("bg-neutral-100","dark:bg-neutral-800"),o.scrollIntoView({block:"nearest"})):o.classList.remove("bg-neutral-100","dark:bg-neutral-800")})}updateDisplay(t){if(!this.selectStates.get(t))return;t.dataset.multiple==="true"?this.updateChipsDisplay(t):this.updateSingleValueDisplay(t)}updateChipsDisplay(t){const e=this.selectStates.get(t);if(!e)return;const s=t.querySelector("[data-select-chips]");if(s)if(s.innerHTML="",e.selectedValues.length===0){const i=t.dataset.placeholder||"Select options...";s.innerHTML=`<span class="text-neutral-500 select-placeholder">${i}</span>`}else e.selectedValues.forEach(i=>{const n=this.findOptionByValue(t,i),o=n?n.displayLabel:i,r=t.dataset.clearable==="true"&&!this.isDisabled(t),a=`select-chip-${this.generateChipId(i)}`,l=document.createElement("button");l.type="button",l.className="inline-flex items-center gap-1 font-medium cursor-pointer transition-colors px-1.5 py-0.5 text-xs rounded-sm",l.style.cssText=`
                    background-color: var(--color-brand-50);
                    color: var(--color-brand-700);
                    border: 1px solid var(--color-brand-200);
                `,l.setAttribute("data-chip-value",i),l.setAttribute("data-remove-chip",i),l.setAttribute("data-dismiss-target",`#${a}`),l.setAttribute("aria-label","Remove badge"),l.id=a,l.addEventListener("mouseenter",()=>{l.style.backgroundColor="var(--color-brand-100)"}),l.addEventListener("mouseleave",()=>{l.style.backgroundColor="var(--color-brand-50)"});const c=document.createElement("span");if(c.textContent=o,l.appendChild(c),r){const u=document.createElement("span");u.className="text-brand-600 hover:text-brand-700 ml-1 flex-shrink-0 font-bold leading-none",u.textContent="Ã—",u.setAttribute("aria-hidden","true"),l.appendChild(u);const d=document.createElement("span");d.className="sr-only",d.textContent="Remove badge",l.appendChild(d)}s.appendChild(l)})}updateSingleValueDisplay(t){const e=this.selectStates.get(t);if(!e)return;const s=t.querySelector(".select-value");if(s)if(e.selectedValues.length===0){const i=t.dataset.placeholder||"Select option...";s.innerHTML=`<span class="text-neutral-500 select-placeholder">${i}</span>`}else{const i=e.selectedValues[0],n=this.findOptionByValue(t,i),o=n?n.displayLabel:i;s.textContent=o}}updateHiddenInputs(t){const e=this.selectStates.get(t);if(!e)return;const s=t.dataset.multiple==="true",i=t.dataset.name;if(!i)return;if(t.querySelectorAll(".select-hidden-input").forEach(o=>o.remove()),s)e.selectedValues.forEach(o=>{const r=document.createElement("input");r.type="hidden",r.name=`${i}[]`,r.value=o,r.className="select-hidden-input",t.appendChild(r)});else{const o=document.createElement("input");o.type="hidden",o.name=i,o.value=e.selectedValues[0]||"",o.className="select-hidden-input",t.appendChild(o)}}updateOptionsSelectedState(t){const e=this.selectStates.get(t);if(!e)return;t.querySelectorAll("[data-select-option]").forEach(i=>{var a,l,c,u;const n=i,o=n.dataset.value||"",r=e.selectedValues.includes(o);if(n.setAttribute("aria-selected",r?"true":"false"),r){n.classList.add("bg-brand-50","text-brand-700","dark:bg-brand-900/20","dark:text-brand-300");const d=n.querySelector(".text-brand-600");d&&((a=d.parentElement)==null||a.classList.remove("opacity-0"),(l=d.parentElement)==null||l.classList.add("opacity-100"))}else{n.classList.remove("bg-brand-50","text-brand-700","dark:bg-brand-900/20","dark:text-brand-300");const d=n.querySelector(".text-brand-600");d&&((c=d.parentElement)==null||c.classList.add("opacity-0"),(u=d.parentElement)==null||u.classList.remove("opacity-100"))}})}updateOptions(t){const e=this.getAllOptions(t),s=this.selectStates.get(t);s&&(s.filteredOptions=e,this.selectStates.set(t,s))}getAllOptions(t){const e=t.querySelectorAll("[data-select-option]");return Array.from(e).map(s=>{var o,r;const i=s,n=i.dataset.displayLabel||((o=i.textContent)==null?void 0:o.trim())||"";return{element:i,value:i.dataset.value||"",label:((r=i.textContent)==null?void 0:r.trim())||"",displayLabel:n,searchableText:i.dataset.searchableText||"",disabled:i.getAttribute("aria-disabled")==="true"}})}findOptionByValue(t,e){return this.getAllOptions(t).find(i=>i.value===e)||null}positionDropdown(t){const e=t.querySelector("[data-select-dropdown]"),s=t.querySelector("[data-select-trigger]");if(!e||!s)return;const i=s.getBoundingClientRect(),n=e.getBoundingClientRect(),r=window.innerHeight-i.bottom,a=i.top,l=n.height||240;r<l&&a>l?(e.style.bottom="100%",e.style.top="auto",e.style.marginBottom="4px",e.style.marginTop="0"):(e.style.top="100%",e.style.bottom="auto",e.style.marginTop="4px",e.style.marginBottom="0")}repositionDropdowns(){this.selectStates.forEach((t,e)=>{t.isOpen&&this.positionDropdown(e)})}isDisabled(t){return t.dataset.disabled==="true"}isOpen(t){const e=this.selectStates.get(t);return e?e.isOpen:!1}generateChipId(t){return btoa(t).replace(/[^a-zA-Z0-9]/g,"").substring(0,8)+Date.now().toString(36)}dispatchSelectEvent(t,e,s=null){const i=new CustomEvent(e,{detail:{select:t,...s},bubbles:!0});t.dispatchEvent(i)}getSelectState(t){return this.selectStates.get(t)||null}setSelectedValues(t,e){const s=this.selectStates.get(t);if(!s)return;const i=t.dataset.multiple==="true";s.selectedValues=i?e:e.slice(0,1),this.selectStates.set(t,s),this.updateDisplay(t),this.updateHiddenInputs(t),this.updateOptionsSelectedState(t),this.dispatchSelectEvent(t,"select:change",{value:i?s.selectedValues:s.selectedValues[0]||"",selectedValues:s.selectedValues})}destroy(){this.selectStates.clear(),this.initialized=!1,console.log("SelectActions destroyed")}};v.instance=null;let D=v;D.getInstance();const S=class S{constructor(){this.initialized=!1,this.modalStates=new Map}static getInstance(){return S.instance||(S.instance=new S),S.instance}init(){this.initialized||(this.bindEventListeners(),this.initializeModals(),this.setupLivewireIntegration(),this.initialized=!0,console.log("ModalActions initialized"))}initializeModals(){document.querySelectorAll("dialog[data-modal]").forEach(t=>{this.initializeModal(t)})}initializeModal(t){if(this.modalStates.has(t))return;const e={lastFocusedElement:null,isAnimating:!1};this.modalStates.set(t,e),t.addEventListener("close",()=>{this.handleModalClose(t)}),t.addEventListener("cancel",s=>{this.handleModalCancel(t,s)})}bindEventListeners(){document.addEventListener("click",e=>{var n,o;const s=(n=e.target)==null?void 0:n.closest("[commandfor]");if(s){const r=s.getAttribute("command"),a=s.getAttribute("commandfor");if(r==="show-modal"&&a){const l=document.getElementById(a);l&&l.matches("dialog[data-modal]")&&this.handleModalOpen(l,s)}}const i=(o=e.target)==null?void 0:o.closest("[data-modal-close]");if(i){const r=i.closest("dialog[data-modal]");r&&r.close()}}),new MutationObserver(e=>{e.forEach(s=>{s.addedNodes.forEach(i=>{i.nodeType===Node.ELEMENT_NODE&&i.querySelectorAll("dialog[data-modal]").forEach(r=>{this.initializeModal(r)})})})}).observe(document.body,{childList:!0,subtree:!0})}handleModalOpen(t,e){const s=this.modalStates.get(t);s&&(s.lastFocusedElement=e||document.activeElement,this.modalStates.set(t,s),this.dispatchModalEvent(t,"modal:open",{trigger:e}),setTimeout(()=>{this.setInitialFocus(t)},50))}handleModalClose(t){const e=this.modalStates.get(t);e&&(e.lastFocusedElement&&document.contains(e.lastFocusedElement)&&e.lastFocusedElement.focus(),e.lastFocusedElement=null,e.isAnimating=!1,this.modalStates.set(t,e),this.dispatchModalEvent(t,"modal:close"))}handleModalCancel(t,e){this.dispatchModalEvent(t,"modal:cancel",{originalEvent:e})}setInitialFocus(t){const e=t.querySelector("[autofocus]");if(e){e.focus();return}const s=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');s.length>0&&s[0].focus()}isModalOpen(t){const e=document.getElementById(t);return e?e.open:!1}dispatchModalEvent(t,e,s={}){const i=new CustomEvent(e,{detail:{modal:t,...s},bubbles:!0,cancelable:!0});t.dispatchEvent(i)}getModalState(t){const e=document.getElementById(t);return e&&this.modalStates.get(e)||null}setupLivewireIntegration(){typeof window.Livewire>"u"||(window.Livewire.on("openModal",t=>{const e=t.id||t.modal;e&&(this.openModal(e),t.wireModel&&this.updateWireModel(e,!0))}),window.Livewire.on("closeModal",t=>{const e=t.id||t.modal;e?(this.closeModal(e),t.wireModel&&this.updateWireModel(e,!1)):this.closeAllModals()}),window.Livewire.on("toggleModal",t=>{const e=t.id||t.modal;e&&this.toggleModal(e)}),console.log("Livewire modal integration initialized"))}updateWireModel(t,e){var n;const s=document.getElementById(t);if(!s)return;const i=s.getAttribute("wire:model");if(i&&typeof window.Livewire<"u"&&window.Livewire.find){const o=window.Livewire.find((n=s.closest("[wire\\:id]"))==null?void 0:n.getAttribute("wire:id"));o&&o.set(i,e)}}toggleModal(t){const e=document.getElementById(t);return!e||!e.matches("dialog[data-modal]")?(console.warn(`Modal with id "${t}" not found`),!1):e.open?this.closeModal(t):this.openModal(t)}closeAllModals(){document.querySelectorAll("dialog[data-modal][open]").forEach(t=>{t.id&&this.closeModal(t.id)})}openModal(t,e){const s=document.getElementById(t);return!s||!s.matches("dialog[data-modal]")?(console.warn(`Modal with id "${t}" not found`),!1):(this.handleModalOpen(s,e),s.showModal(),this.dispatchLivewireEvent("modalOpened",{id:t,modal:t}),!0)}closeModal(t){const e=document.getElementById(t);return!e||!e.matches("dialog[data-modal]")?(console.warn(`Modal with id "${t}" not found`),!1):(e.close(),this.dispatchLivewireEvent("modalClosed",{id:t,modal:t}),!0)}dispatchLivewireEvent(t,e){typeof window.Livewire<"u"&&window.Livewire.dispatch&&window.Livewire.dispatch(t,e)}handleModalClose(t){const e=this.modalStates.get(t);if(!e)return;t.getAttribute("wire:model")&&this.updateWireModel(t.id,!1),e.lastFocusedElement&&document.contains(e.lastFocusedElement)&&e.lastFocusedElement.focus(),e.lastFocusedElement=null,e.isAnimating=!1,this.modalStates.set(t,e),this.dispatchModalEvent(t,"modal:close"),this.dispatchLivewireEvent("modalClosed",{id:t.id,modal:t.id})}handleModalOpen(t,e){const s=this.modalStates.get(t);if(!s)return;t.getAttribute("wire:model")&&this.updateWireModel(t.id,!0),s.lastFocusedElement=e||document.activeElement,this.modalStates.set(t,s),this.dispatchModalEvent(t,"modal:open",{trigger:e}),this.dispatchLivewireEvent("modalOpened",{id:t.id,modal:t.id}),setTimeout(()=>{this.setInitialFocus(t)},50)}destroy(){this.modalStates.clear(),this.initialized=!1,console.log("ModalActions destroyed")}};S.instance=null;let C=S;C.getInstance();const E=class E{constructor(){this.toasts=new Map,this.containers=new Map,this.timers=new Map,this.initializeGlobalListeners()}static getInstance(){return E.instance||(E.instance=new E),E.instance}initializeGlobalListeners(){document.addEventListener("DOMContentLoaded",()=>{this.discoverToasts(),this.setupLivewireListeners()})}discoverToasts(){document.querySelectorAll("[data-toast]").forEach(e=>{e instanceof HTMLElement&&e.id&&this.registerToast(e.id,e)})}registerToast(t,e){this.toasts.set(t,e),this.setupToastListeners(e)}setupToastListeners(t){const e=t.id;t.addEventListener("click",s=>{const i=s.target;if(i.hasAttribute("data-toast-dismiss")){const n=i.getAttribute("data-toast-dismiss");n&&this.dismiss(n)}if(i.hasAttribute("data-toast-action")){const n=i.getAttribute("data-toast-action");n&&this.dispatchToastEvent("toast:action",e,{action:n})}}),t.addEventListener("mouseenter",()=>{this.pauseTimer(e)}),t.addEventListener("mouseleave",()=>{this.resumeTimer(e)})}setupLivewireListeners(){typeof window.Livewire<"u"&&(window.Livewire.on("showToast",t=>{const e=t.variant||"info";this.show(e,t)}),window.Livewire.on("hideToast",t=>{t.id?this.dismiss(t.id):this.dismissAll()}))}show(t,e={}){const s=e.position||"top-right",i=`toast-${t}-${s}`,n=document.getElementById(i);if(!n)return console.warn(`Toast element with ID "${i}" not found`),!1;this.updateToastContent(n,e),n.style.display="block",requestAnimationFrame(()=>{n.setAttribute("data-toast-visible","true")});const o=e.duration||5e3;return!(e.persistent===!0)&&o>0&&this.setTimer(i,o),this.toasts.set(i,n),this.setupToastListeners(n),this.dispatchToastEvent("toast:show",i,e),!0}dismiss(t){const e=this.toasts.get(t);return e?(this.clearTimer(t),e.setAttribute("data-toast-visible","false"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300),this.dispatchToastEvent("toast:dismiss",t),!0):(console.warn(`Toast with ID "${t}" not found`),!1)}dismissAll(){this.toasts.forEach((t,e)=>{t.getAttribute("data-toast-visible")==="true"&&this.dismiss(e)})}success(t,e={}){return this.show("success",{message:t,...e})}error(t,e={}){return this.show("error",{message:t,...e})}warning(t,e={}){return this.show("warning",{message:t,...e})}info(t,e={}){return this.show("info",{message:t,...e})}updateToastContent(t,e){const s=t.querySelector("[data-toast-title]"),i=t.querySelector("[data-toast-message]"),n=t.querySelector("[data-toast-actions]");s&&e.title?(s.textContent=e.title,s.classList.remove("hidden")):s&&s.classList.add("hidden"),i&&e.message&&(i.textContent=e.message),n&&e.actions?(n.innerHTML=e.actions,n.classList.remove("hidden")):n&&n.classList.add("hidden")}setTimer(t,e){this.clearTimer(t);const s=window.setTimeout(()=>{this.dismiss(t)},e);this.timers.set(t,s)}clearTimer(t){const e=this.timers.get(t);e&&(clearTimeout(e),this.timers.delete(t))}pauseTimer(t){this.clearTimer(t)}resumeTimer(t){const e=this.toasts.get(t);if(e){const s=parseInt(e.getAttribute("data-toast-duration")||"5000");!(e.getAttribute("data-toast-persistent")==="true")&&s>0&&this.setTimer(t,s)}}dispatchToastEvent(t,e,s={}){const i=new CustomEvent(t,{detail:{id:e,toast:e,...s}});document.dispatchEvent(i);const n=this.toasts.get(e);if(n&&n.dispatchEvent(i),typeof window.Livewire<"u"){const o=t.replace("toast:","toast");window.Livewire.dispatch(o,{id:e,toast:e,...s})}}getToastState(t){const e=this.toasts.get(t);return e?{id:t,visible:e.getAttribute("data-toast-visible")==="true",variant:e.getAttribute("data-toast-variant"),position:e.getAttribute("data-toast-position"),duration:parseInt(e.getAttribute("data-toast-duration")||"0"),persistent:e.getAttribute("data-toast-persistent")==="true"}:null}destroy(){this.toasts.clear(),this.timers.forEach(t=>clearTimeout(t)),this.timers.clear(),console.log("ToastActions destroyed")}};E.instance=null;let m=E;const z=m.getInstance();typeof window<"u"&&(z.discoverToasts(),window.ToastActions=m);const L=class L{constructor(){this.initialized=!1,this.dropdownStates=new Map}static getInstance(){return L.instance||(L.instance=new L),L.instance}init(){this.initialized||(this.bindEventListeners(),this.initializeDropdowns(),this.initialized=!0,console.log("DropdownActions initialized"))}initializeDropdowns(){document.querySelectorAll('[data-dropdown="true"]').forEach(t=>{this.initializeDropdown(t)})}initializeDropdown(t){const e={isOpen:!1,focusedIndex:-1,menuItems:[],children:[]},s=t.closest('[data-submenu="true"]');s&&s!==t&&(e.parent=s),this.dropdownStates.set(t,e),this.updateMenuItems(t),this.initializeSubmenus(t)}initializeSubmenus(t){const e=t.querySelectorAll('[data-submenu="true"]'),s=this.dropdownStates.get(t);s&&(s.children=Array.from(e),this.dropdownStates.set(t,s)),e.forEach(i=>{this.dropdownStates.has(i)||this.initializeDropdown(i)})}bindEventListeners(){document.addEventListener("click",e=>{const s=e.target&&e.target.closest&&e.target.closest("[data-submenu-trigger]");if(s){e.preventDefault(),e.stopPropagation();const a=s.closest('[data-submenu="true"]');a&&!this.isDisabled(a)&&this.toggleSubmenu(a);return}const i=e.target&&e.target.closest&&e.target.closest("[data-dropdown-trigger]");if(i){e.preventDefault(),e.stopPropagation();const a=i.closest('[data-dropdown="true"]');a&&!this.isDisabled(a)&&this.toggleDropdown(a);return}const n=e.target&&e.target.closest&&e.target.closest("[data-menu-item]");if(n){const a=n.closest('[data-dropdown="true"]');a&&(n.dataset.keepOpen==="true"||this.closeDropdown(a));return}const o=e.target&&e.target.closest&&e.target.closest("[data-menu-checkbox], [data-menu-radio]");if(o){if(e.stopPropagation(),!(o.dataset.keepOpen!=="false")){const l=o.closest('[data-dropdown="true"]');l&&this.closeDropdown(l)}return}if(e.target&&e.target.closest&&e.target.closest("[data-dropdown-panel], [data-submenu-panel]")){e.stopPropagation();return}this.closeAllDropdowns()}),document.addEventListener("mouseenter",e=>{const s=e.target&&e.target.closest&&e.target.closest("[data-submenu-trigger]");if(s&&!this.isMobile()){const i=s.closest('[data-submenu="true"]');i&&!this.isDisabled(i)&&(this.closeSiblingSubmenus(i),setTimeout(()=>{s.matches(":hover")&&this.openSubmenu(i)},100))}},!0),document.addEventListener("mouseleave",e=>{const s=e.target&&e.target.closest&&e.target.closest('[data-submenu="true"]');if(s&&!this.isMobile()){const i=this.dropdownStates.get(s);i!=null&&i.isOpen&&setTimeout(()=>{s.matches(":hover")||this.closeSubmenu(s)},150)}},!0),document.addEventListener("keydown",e=>{const s=e.target&&e.target.closest&&e.target.closest('[data-dropdown="true"]');s&&this.handleKeydown(s,e)}),window.addEventListener("resize",()=>{this.repositionDropdowns()}),new MutationObserver(e=>{e.forEach(s=>{s.addedNodes.forEach(i=>{i.nodeType===Node.ELEMENT_NODE&&i.querySelectorAll('[data-dropdown="true"]').forEach(r=>{this.dropdownStates.has(r)||this.initializeDropdown(r)})})})}).observe(document.body,{childList:!0,subtree:!0})}toggleDropdown(t){const e=this.dropdownStates.get(t);e&&(e.isOpen?this.closeDropdown(t):this.openDropdown(t))}openDropdown(t){const e=this.dropdownStates.get(t);if(!e||this.isDisabled(t))return;this.closeSiblingDropdowns(t),e.isOpen=!0,e.focusedIndex=-1,this.dropdownStates.set(t,e);const s=t.querySelector("[data-dropdown-panel]"),i=t.querySelector("[data-dropdown-trigger]");s&&(s.classList.remove("hidden"),this.positionDropdown(t)),i&&i.setAttribute("aria-expanded","true"),this.updateMenuItems(t),this.dispatchDropdownEvent(t,"dropdown:open")}openSubmenu(t){const e=this.dropdownStates.get(t);if(!e||this.isDisabled(t))return;e.isOpen=!0,e.focusedIndex=-1,this.dropdownStates.set(t,e);const s=t.querySelector("[data-submenu-panel]"),i=t.querySelector("[data-submenu-trigger]");s&&(s.classList.remove("hidden"),this.positionSubmenu(t)),i&&i.setAttribute("aria-expanded","true"),this.updateMenuItems(t),this.dispatchDropdownEvent(t,"submenu:open")}closeDropdown(t){const e=this.dropdownStates.get(t);if(!e||!e.isOpen)return;this.closeChildSubmenus(t),e.isOpen=!1,e.focusedIndex=-1,this.dropdownStates.set(t,e);const s=t.querySelector("[data-dropdown-panel]"),i=t.querySelector("[data-dropdown-trigger]");s&&s.classList.add("hidden"),i&&i.setAttribute("aria-expanded","false"),this.dispatchDropdownEvent(t,"dropdown:close")}closeSubmenu(t){const e=this.dropdownStates.get(t);if(!e||!e.isOpen)return;this.closeChildSubmenus(t),e.isOpen=!1,e.focusedIndex=-1,this.dropdownStates.set(t,e);const s=t.querySelector("[data-submenu-panel]"),i=t.querySelector("[data-submenu-trigger]");s&&s.classList.add("hidden"),i&&i.setAttribute("aria-expanded","false"),this.dispatchDropdownEvent(t,"submenu:close")}closeAllDropdowns(){this.dropdownStates.forEach((t,e)=>{t.isOpen&&(t.parent||this.closeDropdown(e))})}closeSiblingDropdowns(t){const e=this.dropdownStates.get(t);this.dropdownStates.forEach((s,i)=>{if(i!==t&&s.isOpen){const n=(e==null?void 0:e.parent)===i,o=s.parent===t;!n&&!o&&this.closeDropdown(i)}})}closeSiblingSubmenus(t){const e=this.dropdownStates.get(t),s=e==null?void 0:e.parent;if(s){const i=this.dropdownStates.get(s);i==null||i.children.forEach(n=>{n!==t&&this.closeSubmenu(n)})}}closeChildSubmenus(t){const e=this.dropdownStates.get(t);e==null||e.children.forEach(s=>{this.closeSubmenu(s)})}toggleSubmenu(t){const e=this.dropdownStates.get(t);e&&(e.isOpen?this.closeSubmenu(t):this.openSubmenu(t))}isMobile(){return window.innerWidth<768||"ontouchstart"in window}handleKeydown(t,e){const s=this.dropdownStates.get(t);if(s)switch(e.key){case"Enter":case" ":if(!s.isOpen)e.preventDefault(),this.openDropdown(t);else if(s.focusedIndex>=0){e.preventDefault();const i=s.menuItems[s.focusedIndex];i&&i.click()}break;case"Escape":if(s.isOpen){e.preventDefault(),this.closeDropdown(t);const i=t.querySelector("[data-dropdown-trigger]");i&&i.focus()}break;case"ArrowDown":s.isOpen?(e.preventDefault(),this.navigateItems(t,1)):(e.preventDefault(),this.openDropdown(t));break;case"ArrowUp":s.isOpen&&(e.preventDefault(),this.navigateItems(t,-1));break;case"Tab":s.isOpen&&this.closeDropdown(t);break}}navigateItems(t,e){const s=this.dropdownStates.get(t);if(!s||!s.isOpen)return;const i=s.menuItems.length;i!==0&&(s.focusedIndex===-1?s.focusedIndex=e>0?0:i-1:(s.focusedIndex+=e,s.focusedIndex>=i?s.focusedIndex=0:s.focusedIndex<0&&(s.focusedIndex=i-1)),this.dropdownStates.set(t,s),this.updateItemFocus(t))}updateItemFocus(t){const e=this.dropdownStates.get(t);e&&e.menuItems.forEach((s,i)=>{i===e.focusedIndex?(s.classList.add("bg-neutral-100","dark:bg-neutral-800"),s.scrollIntoView({block:"nearest"})):s.classList.remove("bg-neutral-100","dark:bg-neutral-800")})}updateMenuItems(t){const e=this.dropdownStates.get(t);if(!e)return;const s=t.querySelectorAll("[data-menu-item], [data-menu-checkbox], [data-menu-radio], [data-submenu-trigger]");e.menuItems=Array.from(s).filter(i=>{const n=i;return!n.hasAttribute("disabled")&&n.offsetParent!==null}),this.dropdownStates.set(t,e)}positionDropdown(t){const e=t.querySelector("[data-dropdown-panel]"),s=t.querySelector("[data-dropdown-trigger]");if(!e||!s)return;const i=s.getBoundingClientRect(),n=e.getBoundingClientRect(),o=window.innerHeight,r=window.innerWidth,a=t.dataset.position||"bottom",l=t.dataset.align||"start",c=parseInt(t.dataset.offset||"8");e.style.top="",e.style.bottom="",e.style.left="",e.style.right="";const u=o-i.bottom,d=i.top;r-i.left,i.right;let f=a,g=l;switch(a==="bottom"&&u<n.height&&d>n.height?f="top":a==="top"&&d<n.height&&u>n.height&&(f="bottom"),f){case"top":e.style.bottom="100%",e.style.marginBottom=`${c}px`;break;case"bottom":e.style.top="100%",e.style.marginTop=`${c}px`;break;case"left":e.style.right="100%",e.style.marginRight=`${c}px`;break;case"right":e.style.left="100%",e.style.marginLeft=`${c}px`;break}if(f==="top"||f==="bottom")switch(g){case"start":e.style.left="0";break;case"center":e.style.left="50%",e.style.transform="translateX(-50%)";break;case"end":e.style.right="0";break}else switch(g){case"start":e.style.top="0";break;case"center":e.style.top="50%",e.style.transform="translateY(-50%)";break;case"end":e.style.bottom="0";break}}positionSubmenu(t){const e=t.querySelector("[data-submenu-panel]"),s=t.querySelector("[data-submenu-trigger]");if(!e||!s)return;const i=s.getBoundingClientRect(),n=e.getBoundingClientRect(),o=window.innerHeight,r=window.innerWidth,a=t.dataset.position||"right",l=t.dataset.align||"start",c=parseInt(t.dataset.offset||"4");e.style.top="",e.style.bottom="",e.style.left="",e.style.right="",e.style.transform="";const u=r-i.right,d=i.left;o-i.bottom,i.top;let f=a;switch(a==="right"&&u<n.width&&d>n.width?f="left":a==="left"&&d<n.width&&u>n.width&&(f="right"),f){case"right":e.style.left="100%",e.style.marginLeft=`${c}px`;break;case"left":e.style.right="100%",e.style.marginRight=`${c}px`;break}switch(l){case"start":e.style.top="0";break;case"center":e.style.top="50%",e.style.transform="translateY(-50%)";break;case"end":e.style.bottom="0";break}const g=e.getBoundingClientRect();if(g.bottom>o){const M=g.bottom-o+8;e.style.transform=`translateY(-${M}px)`}else if(g.top<0){const M=Math.abs(g.top)+8;e.style.transform=`translateY(${M}px)`}}repositionDropdowns(){this.dropdownStates.forEach((t,e)=>{t.isOpen&&(e.hasAttribute("data-submenu")?this.positionSubmenu(e):this.positionDropdown(e))})}isDisabled(t){return t.dataset.disabled==="true"}dispatchDropdownEvent(t,e,s=null){const i=new CustomEvent(e,{detail:{dropdown:t,...s},bubbles:!0});t.dispatchEvent(i)}destroy(){this.dropdownStates.clear(),this.initialized=!1,console.log("DropdownActions destroyed")}};L.instance=null;let O=L;O.getInstance();function T(){x.getInstance().init(),I.getInstance().init(),k.getInstance().init(),D.getInstance().init(),C.getInstance().init(),m.getInstance().discoverToasts(),O.getInstance().init(),console.log("Keys UI initialized")}const V={FormActions:x.getInstance(),AlertActions:I.getInstance(),RadioActions:k.getInstance(),SelectActions:D.getInstance(),ModalActions:C.getInstance(),ToastActions:m.getInstance(),DropdownActions:O.getInstance(),init:T};p.AlertActions=I,p.DropdownActions=O,p.FormActions=x,p.ModalActions=C,p.RadioActions=k,p.SelectActions=D,p.ToastActions=m,p.default=V,p.initializeKeysUI=T,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
